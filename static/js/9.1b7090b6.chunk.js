/*! For license information please see 9.1b7090b6.chunk.js.LICENSE.txt */
(this["webpackJsonp@minimal/material-kit-react"]=this["webpackJsonp@minimal/material-kit-react"]||[]).push([[9],{1026:function(t,e,n){"use strict";var r=n(6),a=n(8),s=n(2),o=n(0),i=(n(10),n(12)),u=n(469),c=n(773),p=n(9),l=n(13);var d=o.createContext(),f=n(33),m=n(739),g=n(774);function I(t){return Object(m.a)("MuiGrid",t)}var A=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],x=Object(g.a)("MuiGrid",["root","container","item","zeroMinWidth"].concat(Object(f.a)([0,1,2,3,4,5,6,7,8,9,10].map((function(t){return"spacing-xs-".concat(t)}))),Object(f.a)(["column-reverse","column","row-reverse","row"].map((function(t){return"direction-xs-".concat(t)}))),Object(f.a)(["nowrap","wrap-reverse","wrap"].map((function(t){return"wrap-xs-".concat(t)}))),Object(f.a)(A.map((function(t){return"grid-xs-".concat(t)}))),Object(f.a)(A.map((function(t){return"grid-sm-".concat(t)}))),Object(f.a)(A.map((function(t){return"grid-md-".concat(t)}))),Object(f.a)(A.map((function(t){return"grid-lg-".concat(t)}))),Object(f.a)(A.map((function(t){return"grid-xl-".concat(t)}))))),h=n(1);function v(t){var e=parseFloat(t);return"".concat(e).concat(String(t).replace(String(e),"")||"px")}var T=Object(p.a)("div",{},{name:"MuiGrid",slot:"Root",overridesResolver:function(t,e){var n=t.styleProps,r=n.container,a=n.direction,o=n.item,i=n.lg,u=n.md,c=n.sm,p=n.spacing,l=n.wrap,d=n.xl,f=n.xs,m=n.zeroMinWidth;return Object(s.a)({},e.root,r&&e.container,o&&e.item,m&&e.zeroMinWidth,r&&0!==p&&e["spacing-xs-".concat(String(p))],"row"!==a&&e["direction-xs-".concat(String(a))],"wrap"!==l&&e["wrap-xs-".concat(String(l))],!1!==f&&e["grid-xs-".concat(String(f))],!1!==c&&e["grid-sm-".concat(String(c))],!1!==u&&e["grid-md-".concat(String(u))],!1!==i&&e["grid-lg-".concat(String(i))],!1!==d&&e["grid-xl-".concat(String(d))])}})((function(t){var e=t.styleProps;return Object(s.a)({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},"column"===e.direction&&Object(r.a)({flexDirection:"column"},"& > .".concat(x.item),{maxWidth:"none"}),"column-reverse"===e.direction&&Object(r.a)({flexDirection:"column-reverse"},"& > .".concat(x.item),{maxWidth:"none"}),"row-reverse"===e.direction&&{flexDirection:"row-reverse"},"nowrap"===e.wrap&&{flexWrap:"nowrap"},"reverse"===e.wrap&&{flexWrap:"wrap-reverse"})}),(function(t){var e=t.theme,n=t.styleProps,a=n.container,s=n.spacing,o={};if(a&&0!==s){var i=e.spacing(s);"0px"!==i&&(o=Object(r.a)({width:"calc(100% + ".concat(v(i),")"),marginTop:"-".concat(v(i)),marginLeft:"-".concat(v(i))},"& > .".concat(x.item),{paddingTop:v(i),paddingLeft:v(i)}))}return o}),(function(t){var e=t.theme,n=t.styleProps;return e.breakpoints.keys.reduce((function(t,r){return function(t,e,n,r){var a=r[n];if(a){var o={};if(!0===a)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===a)o={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else{var i="".concat(Math.round(a/r.columns*1e8)/1e6,"%"),u={};if(r.container&&r.item&&0!==r.spacing){var c=e.spacing(r.spacing);if("0px"!==c){var p="calc(".concat(i," + ").concat(v(c),")");u={flexBasis:p,maxWidth:p}}}o=Object(s.a)({flexBasis:i,flexGrow:0,maxWidth:i},u)}0===e.breakpoints.values[n]?Object.assign(t,o):t[e.breakpoints.up(n)]=o}}(t,e,r,n),t}),{})})),y=o.forwardRef((function(t,e){var n,r=Object(l.a)({props:t,name:"MuiGrid"}),p=Object(u.a)(r),f=p.className,m=p.columns,g=void 0===m?12:m,A=p.component,x=void 0===A?"div":A,v=p.container,y=void 0!==v&&v,_=p.direction,b=void 0===_?"row":_,w=p.item,D=void 0!==w&&w,O=p.lg,S=void 0!==O&&O,E=p.md,P=void 0!==E&&E,N=p.sm,k=void 0!==N&&N,L=p.spacing,F=void 0===L?0:L,M=p.wrap,B=void 0===M?"wrap":M,R=p.xl,j=void 0!==R&&R,V=p.xs,X=void 0!==V&&V,C=p.zeroMinWidth,U=void 0!==C&&C,Q=Object(a.a)(p,["className","columns","component","container","direction","item","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),G=o.useContext(d)||g,q=Object(s.a)({},p,{columns:G,container:y,direction:b,item:D,lg:S,md:P,sm:k,spacing:F,wrap:B,xl:j,xs:X,zeroMinWidth:U}),W=function(t){var e=t.classes,n=t.container,r=t.direction,a=t.item,s=t.lg,o=t.md,i=t.sm,u=t.spacing,p=t.wrap,l=t.xl,d=t.xs,f={root:["root",n&&"container",a&&"item",t.zeroMinWidth&&"zeroMinWidth",n&&0!==u&&"spacing-xs-".concat(String(u)),"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==p&&"wrap-xs-".concat(String(p)),!1!==d&&"grid-xs-".concat(String(d)),!1!==i&&"grid-sm-".concat(String(i)),!1!==o&&"grid-md-".concat(String(o)),!1!==s&&"grid-lg-".concat(String(s)),!1!==l&&"grid-xl-".concat(String(l))]};return Object(c.a)(f,I,e)}(q);return n=Object(h.jsx)(T,Object(s.a)({styleProps:q,className:Object(i.a)(W.root,f),as:x,ref:e},Q)),12!==G?Object(h.jsx)(d.Provider,{value:G,children:n}):n}));e.a=y},1028:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(85),a=n(475);var s=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(r),o=Uint8Array.from([1]);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(){c=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(t){i=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof d?e:d,s=Object.create(a.prototype),o=new b(r||[]);return s._invoke=function(t,e,n){var r="suspendedStart";return function(a,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw s;return{value:void 0,done:!0}}for(n.method=a,n.arg=s;;){var o=n.delegate;if(o){var i=T(o,n);if(i){if(i===l)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),s}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function d(){}function f(){}function m(){}var g={};i(g,a,(function(){return this}));var I=Object.getPrototypeOf,A=I&&I(I(w([])));A&&A!==e&&n.call(A,a)&&(g=A);var x=m.prototype=d.prototype=Object.create(g);function h(t){["next","throw","return"].forEach((function(e){i(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){function r(a,s,o,i){var u=p(t[a],t,s);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,i)}),(function(t){r("throw",t,o,i)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,i)}))}i(u.arg)}var a;this._invoke=function(t,n){function s(){return new e((function(e,a){r(t,n,e,a)}))}return a=a?a.then(s,s):s()}}function T(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=p(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function y(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(y,this),this.reset(!0)}function w(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return s.next=s}}return{next:D}}function D(){return{value:void 0,done:!0}}return f.prototype=m,i(x,"constructor",m),i(m,"constructor",f),f.displayName=i(m,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},h(v.prototype),i(v.prototype,s,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,a,s){void 0===s&&(s=Promise);var o=new v(u(e,n,r,a),s);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},h(x),i(x,o,"Generator"),i(x,a,(function(){return this})),i(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=w,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var i=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(i&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(i){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var s=a;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,l):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:w(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function p(t,e,n,r,a,s,o){try{var i=t[s](o),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function o(t){p(s,r,a,o,i,"next",t)}function i(t){p(s,r,a,o,i,"throw",t)}o(void 0)}))}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(r){return!1}}function v(t,e,n){return(v=h()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var a=new(Function.bind.apply(t,r));return n&&x(a,n.prototype),a}).apply(null,arguments)}function T(t){var e="function"==typeof Map?new Map:void 0;return(T=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return v(t,arguments,A(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),x(r,t)})(t)}function y(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _(t){var e=h();return function(){var n,r=A(t);if(e){var a=A(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,s=[],o=!0,i=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(s.push(r.value),!e||s.length!==e);o=!0);}catch(t){i=!0,a=t}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return s}}(t,e)||D(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||D(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=D(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){i=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw s}}}}var E="logic eval error:",P=/transaction \w+:/,N=function(t){I(n,T(Error));var e=_(n);function n(t,r){var a;d(this,n);for(var s=arguments.length,o=new Array(s>2?s-2:0),i=2;i<s;i++)o[i-2]=arguments[i];var u=(a=e.call.apply(e,[this].concat(o))).extractMessageFromAlgoSDKError(t);return a.data=t,a.type=a.getErrorType(u),a.setMessage(a.getErrorMessage(u,a.type,r)),a}return m(n,[{key:"setMessage",value:function(t){this.message=t}},{key:"getErrorType",value:function(t){var e="Unknown";return t.includes("- would result negative")?e="SlippageTolerance":t.includes("exceeds schema integer count")?e="ExceedingExcessAmountCount":t.includes(E)?e="LogicError":t.match(P)&&(e="TransactionError"),e}},{key:"getErrorMessage",value:function(t,e,n){var r;switch(e){case"SlippageTolerance":r="The process failed due to too much slippage in the price. Please adjust the slippage tolerance and try again.";break;case"ExceedingExcessAmountCount":r="The process failed due to the number of excess amounts accumulated for your account in the Tinyman app.";break;case"LogicError":r=t.split(E)[1];break;case"TransactionError":r=t.split(P)[1];break;case"Unknown":t&&(r=t)}return r||(r=n||"We encountered an unexpected error, try again later."),r.trim()}},{key:"extractMessageFromAlgoSDKError",value:function(t){var e,n,r,a="";return null!=t&&null!==(e=t.response)&&void 0!==e&&null!==(n=e.body)&&void 0!==n&&n.message?a=t.response.body.message:null!=t&&null!==(r=t.response)&&void 0!==r&&r.text?a=t.response.text:"string"==typeof(null==t?void 0:t.message)&&(a=this.isMessageObjectString(null==t?void 0:t.message)?JSON.parse(t.message||"{message: ''}").message:t.message),"string"!=typeof a&&(a=String(a)),a}},{key:"isMessageObjectString",value:function(t){return"string"==typeof t&&t.includes("{message:")}}]),n}();function k(t){var e,n=t.stateArray,r=void 0===n?[]:n,a=t.shouldDecodeKeys,s=void 0!==a&&a,o={},i=S(r);try{for(i.s();!(e=i.n()).done;){var u=e.value,c=u.key,p=void 0;if(1==u.value.type)p=u.value.bytes;else{if(2!=u.value.type)throw new Error("Unexpected state type: ".concat(u.value.type));p=u.value.uint}o[s?atob(c):c]=p}}catch(t){i.e(t)}finally{i.f()}return o}function L(t){var e,n=t.reduce((function(t,e){return t+e.length}),0),r=new Uint8Array(n),a=0,s=S(t);try{for(s.s();!(e=s.n()).done;){var o=e.value;r.set(o,a),a+=o.length}}catch(t){s.e(t)}finally{s.f()}return r}var F=100000n,M=100000n,B=100000n,R=25000n+25000n,j=25000n+3500n;function V(t){var e=t["apps-total-schema"],n=0n,r=0n;e&&(e["num-byte-slice"]&&(n=e["num-byte-slice"]),e["num-uint"]&&(r=e["num-uint"]));var a=t["apps-local-state"]||[],s=t["created-apps"]||[],o=t.assets||[];return F+M*BigInt(o.length)+B*BigInt(s.length+a.length)+j*r+R*n}function X(t){return new Promise((function(e){setTimeout((function(){e(null)}),t)}))}function C(t,e){return U.apply(this,arguments)}function U(){return(U=l(c().mark((function t(e,n){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,X(1e3);case 3:return r=null,t.prev=4,t.next=7,e.pendingTransactionInformation(n).do();case 7:r=t.sent,t.next=12;break;case 10:t.prev=10,t.t0=t.catch(4);case 12:if(!r){t.next=17;break}if(!r["confirmed-round"]){t.next=15;break}return t.abrupt("return",r);case 15:if(!r["pool-error"]){t.next=17;break}throw new Error("Transaction Rejected: ".concat(r["pool-error"]));case 17:t.next=0;break;case 19:case"end":return t.stop()}}),t,null,[[4,10]])})))).apply(this,arguments)}function Q(t,e,n){if(e>1||e<0)throw new Error("Invalid slippage value. Must be between 0 and 1, got ".concat(e));var r;try{var a="negative"===t?1-e:1+e;r=BigInt(Math.floor(Number(n)*a))}catch(t){throw new Error(t.message)}return r}function G(t,e){var n=Number(t);return W({decimalPlaces:n},Math.pow(10,-n)*Number(e))}function q(t,e){return W({decimalPlaces:0},Math.pow(10,Number(t))*Number(e))}function W(t,e){var n=t.decimalPlaces,r=void 0===n?0:n;if(r>0){var a=b(J(e),2),s=a[0],o=a[1],i=b(J(Math.round(Number(z(s,o+r)))),2),u=i[0],c=i[1];return Number(z(u,c-r))}return Math.round(e)}function z(t,e){return t+(e<0?"e".concat(e):"e+".concat(e))}function J(t){if(t.toString().includes("e")){var e=t.toString().split("e");return[parseFloat(e[0]),parseFloat(e[1])]}return[t,0]}function Y(t,e){return K.apply(this,arguments)}function K(){return(K=l(c().mark((function t(e,n){var r,a,s,o,i,u,p,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,r=[],a=S(n),t.prev=3,a.s();case 5:if((s=a.n()).done){t.next=18;break}return o=s.value,t.next=9,e.sendRawTransaction(o).do();case 9:return i=t.sent,u=i.txId,t.next=13,C(e,u);case 13:p=t.sent,l=p["confirmed-round"],r.push({confirmedRound:l,txnID:u});case 16:t.next=5;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(3),a.e(t.t0);case 23:return t.prev=23,a.f(),t.finish(23);case 26:return t.abrupt("return",r);case 29:throw t.prev=29,t.t1=t.catch(0),new N(t.t1,"We encountered an error while processing this transaction. Try again later.");case 32:case"end":return t.stop()}}),t,null,[[0,29],[3,20,23,26]])})))).apply(this,arguments)}function H(t){return t.reduce((function(t,e){return t+e.txn.fee}),0)}function Z(e){return(n=e[0].txn.group)?t.from(n).toString("base64"):"";var n}function $(t){for(var e=[];;){var n=127&t;if(!(t>>=7)){e.push(n);break}e.push(128|n)}return e}function tt(t){return(new TextEncoder).encode(t)}var et={id:"".concat(0),name:"Algorand",unit_name:"ALGO",decimals:6,url:"https://algorand.org",is_liquidity_token:!1,total_amount:"6615503326932151"},nt={V1:"TM1POOL",V1_1:"TMPOOL11",V2:"TMPOOL2"};function rt(){return(rt=l(c().mark((function t(e){var n,r,a,o,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.assetID,a=e.initiatorAddr,t.prev=1,t.next=4,n.getTransactionParams().do();case 4:return o=t.sent,i=s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:a,to:a,assetIndex:r,amount:0,suggestedParams:o}),t.abrupt("return",[{txn:i,signers:[a]}]);case 9:throw t.prev=9,t.t0=t.catch(1),new N(t.t0,"We encountered something unexpected while opting into this asset. Try again later.");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}function at(t,e){var n=Number(t.id),r=Number(e.id);return n>r?[u(u({},t),{},{id:n}),u(u({},e),{},{id:r})]:[u(u({},e),{},{id:r}),u(u({},t),{},{id:n})]}function st(t,e){var n=[t,e];return[Math.max.apply(Math,n),Math.min.apply(Math,n)]}function ot(t){return 0===Number(t)}var it,ut={V1_1:"v1_1",V2:"v2"},ct=(g(it={},ut.V1_1,{testnet:62368684,mainnet:552635992}),g(it,ut.V2,{testnet:148607e3,mainnet:1002541853}),it);function pt(t,e){var n=ct[e][t];if(!n)throw new Error("No Validator App exists for ".concat(t," network with ").concat(e," contract version"));return n}function lt(){return(lt=l(c().mark((function t(e){var n,r,a,o,i,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.network,a=e.contractVersion,o=e.initiatorAddr,t.next=3,n.getTransactionParams().do();case 3:return i=t.sent,u=s.default.makeApplicationOptInTxnFromObject({from:o,appIndex:pt(r,a),suggestedParams:i}),t.abrupt("return",[{txn:u,signers:[o]}]);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dt(){return(dt=l(c().mark((function t(e){var n,r,a,o,i,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.network,a=e.contractVersion,o=e.initiatorAddr,t.next=3,n.getTransactionParams().do();case 3:return i=t.sent,u=s.default.makeApplicationClearStateTxnFromObject({from:o,appIndex:pt(r,a),suggestedParams:i}),t.abrupt("return",[{txn:u,signers:[o]}]);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ft=m((function t(e){d(this,t),this.schema={numLocalInts:e.local_state_schema.num_uints,numLocalByteSlices:e.local_state_schema.num_byte_slices,numGlobalInts:e.global_state_schema.num_uints,numGlobalByteSlices:e.global_state_schema.num_byte_slices}})),mt=new(function(t){I(n,ft);var e=_(n);function n(t,r){var a;return d(this,n),(a=e.call(this,t)).poolLogicSigContractTemplate=r.logic.bytecode,a.templateVariables=r.logic.variables,a}return m(n,[{key:"generateLogicSigAccountForPool",value:function(t){if(t.asset1ID===t.asset2ID)throw new Error("Assets are the same");var e=pt(t.network,ut.V1_1),n=b(st(t.asset1ID,t.asset2ID),2),s=n[0],o=n[1],i=Array.from(a.toByteArray(this.poolLogicSigContractTemplate)),u={asset_id_1:s,asset_id_2:o,validator_app_id:e},c=0;this.templateVariables.sort((function(t,e){return t.index-e.index}));for(var p=0;p<this.templateVariables.length;p++){var l=this.templateVariables[p],d=u[l.name.split("TMPL_")[1].toLowerCase()],f=l.index-c,m=f+l.length,g=$(d);c+=l.length-g.length,i=i.slice(0,f).concat(g).concat(i.slice(m))}var I=new Uint8Array(i);return new r.LogicSigAccount(I)}}]),n}())({type:"app",global_state_schema:{num_uints:0,num_byte_slices:0},local_state_schema:{num_uints:16,num_byte_slices:0},name:"validator_app"},{type:"logicsig",logic:{bytecode:"BCAIAQCBgICAgICAgPABgICAgICAgIDwAQMEBQYlJA1EMQkyAxJEMRUyAxJEMSAyAxJEMgQiDUQzAQAxABJEMwEQIQcSRDMBGIGCgICAgICAgPABEkQzARkiEjMBGyEEEhA3ARoAgAlib290c3RyYXASEEAAXDMBGSMSRDMBG4ECEjcBGgCABHN3YXASEEACOzMBGyISRDcBGgCABG1pbnQSQAE7NwEaAIAEYnVybhJAAZg3ARoAgAZyZWRlZW0SQAJbNwEaAIAEZmVlcxJAAnkAIQYhBSQjEk0yBBJENwEaARclEjcBGgIXJBIQRDMCADEAEkQzAhAhBBJEMwIhIxJEMwIiIxwSRDMCIyEHEkQzAiQjEkQzAiWACFRNUE9PTDExEkQzAiZRAA+AD1RpbnltYW5Qb29sMS4xIBJEMwIngBNodHRwczovL3RpbnltYW4ub3JnEkQzAikyAxJEMwIqMgMSRDMCKzIDEkQzAiwyAxJEMwMAMQASRDMDECEFEkQzAxElEkQzAxQxABJEMwMSIxJEJCMTQAAQMwEBMwIBCDMDAQg1AUIBsTMEADEAEkQzBBAhBRJEMwQRJBJEMwQUMQASRDMEEiMSRDMBATMCAQgzAwEIMwQBCDUBQgF8MgQhBhJENwEcATEAE0Q3ARwBMwQUEkQzAgAxABNEMwIUMQASRDMDADMCABJEMwIRJRJEMwMUMwMHMwMQIhJNMQASRDMDESMzAxAiEk0kEkQzBAAxABJEMwQUMwIAEkQzAQEzBAEINQFCAREyBCEGEkQ3ARwBMQATRDcBHAEzAhQSRDMDFDMDBzMDECISTTcBHAESRDMCADEAEkQzAhQzBAASRDMCESUSRDMDADEAEkQzAxQzAwczAxAiEk0zBAASRDMDESMzAxAiEk0kEkQzBAAxABNEMwQUMQASRDMBATMCAQgzAwEINQFCAJAyBCEFEkQ3ARwBMQATRDMCADcBHAESRDMCADEAE0QzAwAxABJEMwIUMwIHMwIQIhJNMQASRDMDFDMDBzMDECISTTMCABJEMwEBMwMBCDUBQgA+MgQhBBJENwEcATEAE0QzAhQzAgczAhAiEk03ARwBEkQzAQEzAgEINQFCABIyBCEEEkQzAQEzAgEINQFCAAAzAAAxABNEMwAHMQASRDMACDQBD0M=",address:"ABUKAXTANWR6K6ZYV75DWJEPVWWOU6SFUVRI6QHO44E4SIDLHBTD2CZ64A",size:881,variables:[{name:"TMPL_ASSET_ID_1",type:"int",index:15,length:10},{name:"TMPL_ASSET_ID_2",type:"int",index:5,length:10},{name:"TMPL_VALIDATOR_APP_ID",type:"int",index:74,length:10}],source:"https://github.com/tinymanorg/tinyman-contracts-v1/tree/dc9ab40c58b85c15d58f63a1507e18be76720dbb/contracts/pool_logicsig.teal.tmpl"},name:"pool_logicsig"}),gt=new(function(e){I(a,ft);var n=_(a);function a(t,e){var r;return d(this,a),(r=n.call(this,t)).poolLogicSigContractTemplate=e.logic.bytecode,r}return m(a,[{key:"generateLogicSigAccountForPool",value:function(e){if(e.asset1ID===e.asset2ID)throw new Error("Assets are the same");var n=pt(e.network,ut.V2),a=b(st(e.asset1ID,e.asset2ID),2),s=a[0],o=a[1],i={bytes:Array.from(t.from(this.poolLogicSigContractTemplate,"base64")),validatorAppId:Array.from(r.encodeUint64(n)),asset1ID:Array.from(r.encodeUint64(s)),asset2ID:Array.from(r.encodeUint64(o))},u=[].concat(w(i.bytes.slice(0,3)),w(i.validatorAppId.slice(0,8)),w(i.asset1ID.slice(0,8)),w(i.asset2ID.slice(0,8)),w(i.bytes.slice(27)));return new r.LogicSigAccount(new Uint8Array(u))}}]),a}())({type:"app",global_state_schema:{num_uints:0,num_byte_slices:3},local_state_schema:{num_uints:12,num_byte_slices:2},name:"validator_app"},{type:"logicsig",logic:{bytecode:"BoAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgQBbNQA0ADEYEkQxGYEBEkSBAUM="},name:"pool_logicsig"});function It(t){return function(t){return t===ut.V2}(t)?gt:mt}function At(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.IntDecoding.DEFAULT;return new Promise(function(){var r=l(c().mark((function r(a,s){var o;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.accountInformation(e).setIntDecoding(n).do();case 3:o=r.sent,a(u(u({},o),{},{minimum_required_balance:ht(o)})),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),s(new Error(r.t0.message||"Failed to fetch account information"));case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(t,e){return r.apply(this,arguments)}}())}function xt(t,e){var n=t["apps-local-state"].find((function(t){return t.id===e}));return n?k({stateArray:n["key-value"],shouldDecodeKeys:!0}):null}function ht(t){var e=t["apps-total-schema"];return 1e5+1e5*(t.assets||[]).length+1e5*(t["created-apps"]||[]).length+1e5*(t["apps-local-state"]||[]).length+5e4*Number(e&&e["num-byte-slice"]||0)+28500*Number(e&&e["num-uint"]||0)+1e5*(t["apps-total-extra-pages"]||0)}var vt,Tt,yt=tt("e");function _t(t){return bt.apply(this,arguments)}function bt(){return(bt=l(c().mark((function t(e){var n,o,i,u,p,l,d,f,m,g,I,A,x,h,v,T,y,_,b,w,D;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,o=e.pool,i=e.accountAddr,t.next=3,n.accountInformation(i).setIntDecoding(r.IntDecoding.BIGINT).do();case 3:u=t.sent,p=u["apps-local-state"]||[],l=0n,d=0n,f=0n,m=o.account.address(),g=S(p),t.prev=10,g.s();case 12:if((I=g.n()).done){t.next=31;break}if((A=I.value).id==o.validatorAppID){t.next=16;break}return t.abrupt("continue",29);case 16:if(x=A["key-value"]){t.next=19;break}return t.abrupt("break",31);case 19:h=k({stateArray:x}),v=a.fromByteArray(L([s.default.decodeAddress(m).publicKey,yt,s.default.encodeUint64(o.asset1ID)])),T=a.fromByteArray(L([s.default.decodeAddress(m).publicKey,yt,s.default.encodeUint64(o.asset2ID)])),y=a.fromByteArray(L([s.default.decodeAddress(m).publicKey,yt,s.default.encodeUint64(o.poolTokenID)])),_=h[v],b=h[T],w=h[y],"bigint"==typeof _&&(l=_),"bigint"==typeof b&&(d=b),"bigint"==typeof w&&(f=w);case 29:t.next=12;break;case 31:t.next=36;break;case 33:t.prev=33,t.t0=t.catch(10),g.e(t.t0);case 36:return t.prev=36,g.f(),t.finish(36);case 39:if(!((D={excessAsset1:l,excessAsset2:d,excessPoolTokens:f}).excessAsset1<0n||D.excessAsset2<0n||D.excessPoolTokens<0n)){t.next=42;break}throw new Error("Invalid account excess: ".concat(D));case 42:return t.abrupt("return",D);case 43:case"end":return t.stop()}}),t,null,[[10,33,36,39]])})))).apply(this,arguments)}function wt(){return(wt=l(c().mark((function t(e){var n,r,o,i,u,p,l,d,f,m,g,I,A,x,h;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.accountAddr,o=e.validatorAppID,t.next=3,n.accountInformation(r).setIntDecoding("bigint").do();case 3:if(i=t.sent,u=i["apps-local-state"]||[],p=u.find((function(t){return t.id==o})),l=[],p&&p["key-value"])for(d=k({stateArray:p["key-value"]}),f=0,m=Object.entries(d);f<m.length;f++)g=m[f],I=b(g,2),A=I[0],x=I[1],41===(h=a.toByteArray(A)).length&&101===h[32]&&l.push({poolAddress:s.default.encodeAddress(h.slice(0,32)),assetID:s.default.decodeUint64(h.slice(33,41),"safe"),amount:parseInt(x)});return t.abrupt("return",l);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.PoolStatus=void 0,(vt=e.PoolStatus||(e.PoolStatus={})).NOT_CREATED="not created",vt.BOOTSTRAP="bootstrap",vt.READY="ready",vt.ERROR="error";var Dt=(g(Tt={},ut.V1_1,{asset1:"a1",asset2:"a2"}),g(Tt,ut.V2,{asset1:"asset_1_id",asset2:"asset_2_id",poolTokenID:"pool_token_asset_id",issuedPoolTokens:"issued_pool_tokens",asset1Reserves:"asset_1_reserves",asset2Reserves:"asset_2_reserves",asset1ProtocolFees:"asset_1_protocol_fees",asset2ProtocolFees:"asset_2_protocol_fees",totalFeeShare:"total_fee_share",protocolFeeRatio:"protocol_fee_ratio",cumulativePriceUpdateTimeStamp:"cumulative_price_update_timestamp"}),Tt),Ot=tt("o"),St=0xffffffffffffffffn;function Et(t){return Pt.apply(this,arguments)}function Pt(){return(Pt=l(c().mark((function t(n){var r,a,s,o,i,u,p,l,d,f,m,g,I,A;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.client,s=n.network,o=n.asset1ID,i=n.asset2ID,u=It(ut.V1_1),p=u.generateLogicSigAccountForPool(n),l=pt(s,ut.V1_1),d=p.address(),f=st(o,i),t.next=8,At(a,d);case 8:return m=t.sent,g=xt(m,l),I=null===(r=m["created-assets"][0])||void 0===r?void 0:r.index,A={account:p,validatorAppID:l,asset1ID:f[0],asset2ID:f[1],status:g||I?e.PoolStatus.READY:e.PoolStatus.NOT_CREATED,contractVersion:ut.V1_1,poolTokenID:I},g&&(A.asset1ID=g[Dt.v1_1.asset1],A.asset2ID=g[Dt.v1_1.asset2]),t.abrupt("return",A);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Nt(){return(Nt=l(c().mark((function t(e,n){var o,i,u,p,l,d,f,m,g,I,A,x,h,v,T,y,_,b,w,D,O,E,P,N,F,M;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At(e,n.account.address(),r.IntDecoding.BIGINT);case 2:o=t.sent,i=o["apps-local-state"]||[],u=0n,p=0n,l=0n,d=S(i),t.prev=8,d.s();case 10:if((f=d.n()).done){t.next=29;break}if((m=f.value).id==n.validatorAppID){t.next=14;break}return t.abrupt("continue",27);case 14:if(g=m["key-value"]){t.next=17;break}return t.abrupt("break",29);case 17:I=k({stateArray:g}),A=a.fromByteArray(L([Ot,s.default.encodeUint64(n.asset1ID)])),x=a.fromByteArray(L([Ot,s.default.encodeUint64(n.asset2ID)])),h=a.fromByteArray(L([Ot,s.default.encodeUint64(n.poolTokenID)])),v=I[A],T=I[x],y=I[h],"bigint"==typeof v&&(u=v),"bigint"==typeof T&&(p=T),"bigint"==typeof y&&(l=y);case 27:t.next=10;break;case 29:t.next=34;break;case 31:t.prev=31,t.t0=t.catch(8),d.e(t.t0);case 34:return t.prev=34,d.f(),t.finish(34);case 37:_=0n,b=0n,w=0n,D=S(o.assets);try{for(D.s();!(O=D.n()).done;)E=O.value,P=E["asset-id"],N=E.amount,P==n.asset1ID?_=BigInt(N):P==n.asset2ID?b=BigInt(N):P==n.poolTokenID&&(w=BigInt(N))}catch(r){D.e(r)}finally{D.f()}if(0===n.asset2ID&&(F=V(o),b=BigInt(o.amount)-F),!((M={asset1:_-u,asset2:b-p,issuedLiquidity:St-w+l,round:o.round}).asset1<0n||M.asset2<0n||M.issuedLiquidity<0n||M.issuedLiquidity>St)){t.next=49;break}throw M.asset1=Number(M.asset1),M.asset2=Number(M.asset2),M.issuedLiquidity=Number(M.issuedLiquidity),new Error("Invalid pool reserves: ".concat(JSON.stringify(M)));case 49:return t.abrupt("return",M);case 50:case"end":return t.stop()}}),t,null,[[8,31,34,37]])})))).apply(this,arguments)}function kt(){return(kt=l(c().mark((function t(e){var n,r,a,s,o,i,u,p,l,d=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.client,r=e.address,a=e.network,!(s=d.length>1&&void 0!==d[1]?d[1]:{})[r]){t.next=4;break}return t.abrupt("return",s[r]);case 4:return t.next=6,At(n,r);case 6:return o=t.sent,i=xt(o,pt(a,ut.V1_1)),u=null,i&&(l=o["created-assets"][0],p=l.index,u={asset1ID:i[Dt[ut.V1_1].asset1],asset2ID:i[Dt[ut.V1_1].asset2],poolTokenID:p},s[r]=u),t.abrupt("return",u);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Lt=Object.freeze({__proto__:null,getPoolInfo:Et,getPoolReserves:function(t,e){return Nt.apply(this,arguments)},getPoolAssets:function(t){return kt.apply(this,arguments)}});function Ft(t){return Mt.apply(this,arguments)}function Mt(){return(Mt=l(c().mark((function t(n){var r,a,s,o,i,u,p,l,d,f,m,g;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.client,a=n.network,s=n.asset1ID,o=n.asset2ID,i=It(ut.V2),u=i.generateLogicSigAccountForPool(n),p=pt(a,ut.V2),l=u.address(),d=st(s,o),t.next=8,At(r,l);case 8:return f=t.sent,m=xt(f,p),g={account:u,validatorAppID:p,asset1ID:d[0],asset2ID:d[1],status:m?e.PoolStatus.READY:e.PoolStatus.NOT_CREATED,contractVersion:ut.V2},m&&(g.asset1ProtocolFees=BigInt(m[Dt.v2.asset1ProtocolFees]),g.asset2ProtocolFees=BigInt(m[Dt.v2.asset2ProtocolFees]),g.asset1Reserves=BigInt(m[Dt.v2.asset1Reserves]),g.asset2Reserves=BigInt(m[Dt.v2.asset2Reserves]),g.issuedPoolTokens=BigInt(m[Dt.v2.issuedPoolTokens]),g.cumulativePriceUpdateTimeStamp=Number(m[Dt.v2.cumulativePriceUpdateTimeStamp]),g.protocolFeeRatio=Number(m[Dt.v2.protocolFeeRatio]),g.totalFeeShare=BigInt(m[Dt.v2.totalFeeShare]),g.poolTokenID=Number(m[Dt.v2.poolTokenID]),g.asset1ID=Number(m[Dt.v2.asset1]),g.asset2ID=Number(m[Dt.v2.asset2])),t.abrupt("return",g);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Bt(){return(Bt=l(c().mark((function t(e,n){var r,a,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At(e,n.account.address());case 2:return r=t.sent,a=xt(r,n.validatorAppID),s={asset1:0n,asset2:0n,issuedLiquidity:0n,round:r.round},a&&(s.asset1=BigInt(a[Dt.v2.asset1Reserves]),s.asset2=BigInt(a[Dt.v2.asset2Reserves]),s.issuedLiquidity=BigInt(a[Dt.v2.issuedPoolTokens])),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Rt(){return(Rt=l(c().mark((function t(e){var n,r,a,s,o,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.address,a=e.network,t.next=3,At(n,r);case 3:return s=t.sent,o=xt(s,pt(a,ut.V2)),i=null,o&&(i={asset1ID:o[Dt[ut.V2].asset1],asset2ID:o[Dt[ut.V2].asset2],poolTokenID:o[Dt[ut.V2].poolTokenID]}),t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var jt=Object.freeze({__proto__:null,getPoolInfo:Ft,getPoolReserves:function(t,e){return Bt.apply(this,arguments)},getPoolAssets:function(t){return Rt.apply(this,arguments)}});function Vt(t){return Boolean(t&&!(t.asset1+t.asset2))}var Xt,Ct,Ut=Object.freeze({__proto__:null,getPoolShare:function(t,e){var n=Number(e)/Number(t);return Number.isFinite(n)||(n=0),n},getPoolPairRatio:function(t,e){var n=Vt(e),r=null;return e&&!n&&e.asset1&&e.asset2&&"number"==typeof t.asset2&&"number"==typeof t.asset1&&(r=G(t.asset1,e.asset1)/G(t.asset2,e.asset2)),r},isPoolEmpty:Vt,isPoolNotCreated:function(t){return(null==t?void 0:t.status)===e.PoolStatus.NOT_CREATED},isPoolReady:function(t){return(null==t?void 0:t.status)===e.PoolStatus.READY},getPoolsForPair:function(t){return Promise.all([Et(t),Ft(t)])}}),Qt=u((g(Xt={},ut.V1_1,u(u({},Lt),Ut)),g(Xt,ut.V2,u(u({},jt),Ut)),Xt),Ut);!function(t){t[t.FUNDING_TXN=0]="FUNDING_TXN",t[t.VALIDATOR_APP_CALL=1]="VALIDATOR_APP_CALL",t[t.POOL_TOKEN_CREATE=2]="POOL_TOKEN_CREATE",t[t.ASSET1_OPT_IN=3]="ASSET1_OPT_IN",t[t.ASSET2_OPT_IN=4]="ASSET2_OPT_IN"}(Ct||(Ct={}));function Gt(){return(Gt=l(c().mark((function t(e){var n,r,a,o,i,u,p,l,d,f,m,g,I,A,x,h,v,T,y,_,w,D,O,S,E;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.network,a=e.asset_1,o=e.asset_2,i=e.initiatorAddr,t.next=3,n.getTransactionParams().do();case 3:return u=t.sent,p=at(a,o),l=b(p,2),d=l[0],f=d.id,m=d.unit_name,g=l[1],I=g.id,A=g.unit_name,x=ot(I),h=pt(r,ut.V1_1),v=mt.generateLogicSigAccountForPool({network:r,asset1ID:f,asset2ID:I}),T=v.address(),y=s.default.makeApplicationOptInTxnFromObject({from:T,appIndex:h,appArgs:[tt("bootstrap"),s.default.encodeUint64(f),s.default.encodeUint64(I)],foreignAssets:x?[f]:[I],suggestedParams:u}),_=s.default.makeAssetCreateTxnWithSuggestedParamsFromObject({from:T,total:0xffffffffffffffffn,decimals:6,defaultFrozen:!1,unitName:nt.V1_1,assetName:"TinymanPool1.1 ".concat(m,"-").concat(A),assetURL:"https://tinyman.org",suggestedParams:u}),w=s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:T,to:T,assetIndex:f,amount:0,suggestedParams:u}),D=s.default.makePaymentTxnWithSuggestedParamsFromObject({from:i,to:T,amount:qt(x),suggestedParams:u}),(O=[])[Ct.FUNDING_TXN]=D,O[Ct.VALIDATOR_APP_CALL]=y,O[Ct.POOL_TOKEN_CREATE]=_,O[Ct.ASSET1_OPT_IN]=w,x||(O[Ct.ASSET2_OPT_IN]=s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:T,to:T,assetIndex:I,amount:0,suggestedParams:u})),S=s.default.assignGroupID(O),E=[{txn:S[Ct.FUNDING_TXN],signers:[i]},{txn:S[Ct.VALIDATOR_APP_CALL],signers:[T]},{txn:S[Ct.POOL_TOKEN_CREATE],signers:[T]},{txn:S[Ct.ASSET1_OPT_IN],signers:[T]}],S[Ct.ASSET2_OPT_IN]&&E.push({txn:S[Ct.ASSET2_OPT_IN],signers:[T]}),t.abrupt("return",E);case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qt(t){return t?96e4:859e3}function Wt(){return(Wt=l(c().mark((function t(e){var n,r,a,o,i,u,p,l,d,f,m,g,I,A,x;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.txGroup,r=e.network,a=e.initiatorSigner,o=e.asset1ID,i=e.asset2ID,t.next=3,a([n]);case 3:return u=t.sent,p=b(u,1),l=p[0],d=st(o,i),f=b(d,2),m=f[0],g=f[1],I=mt.generateLogicSigAccountForPool({network:r,asset1ID:m,asset2ID:g}),A=[],x=n.map((function(t,e){if(e===Ct.FUNDING_TXN)return A.push(t.txn.txID().toString()),l;var n=s.default.signLogicSigTransactionObject(t.txn,I),r=n.txID,a=n.blob;return A.push(r),a})),t.abrupt("return",{signedTxns:x,txnIDs:A});case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function zt(t){return Jt.apply(this,arguments)}function Jt(){return(Jt=l(c().mark((function t(e){var n,r,a,s,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.signedTxns,a=e.txnIDs,t.prev=1,t.next=4,n.sendRawTransaction(r).do();case 4:return t.next=6,C(n,a[Ct.POOL_TOKEN_CREATE]);case 6:if(s=t.sent,"number"==typeof(o=s["asset-index"])){t.next=10;break}throw new Error("Generated ID is not valid: got ".concat(o));case 10:return t.abrupt("return",{poolTokenID:o});case 13:throw t.prev=13,t.t0=t.catch(1),new N(t.t0,"We encountered something unexpected while bootstraping the pool. Try again later.");case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}function Yt(){return(Yt=l(c().mark((function t(e){var n,r,a,s,o,i,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.network,a=e.pool,s=a.asset1ID,o=a.asset2ID,i=e.signedTxns,u=e.txnIDs,t.next=3,zt({client:n,signedTxns:i,txnIDs:u});case 3:return t.abrupt("return",Qt.v1_1.getPoolInfo({client:n,network:r,asset1ID:s,asset2ID:o}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Kt,Ht={generateTxns:function(t){return Gt.apply(this,arguments)},signTxns:function(t){return Wt.apply(this,arguments)},execute:function(t){return Yt.apply(this,arguments)},getBootstrapFundingTxnAmount:qt};!function(t){t[t.FUNDING_TXN=0]="FUNDING_TXN",t[t.VALIDATOR_APP_CALL=1]="VALIDATOR_APP_CALL"}(Kt||(Kt={}));function Zt(t,e){return $t.apply(this,arguments)}function $t(){return($t=l(c().mark((function t(e,n){var a,s,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s=null===(a=n.find((function(t){return"appl"===t.txn.type})))||void 0===a?void 0:a.txn.txID())){t.next=7;break}return t.next=4,r.waitForConfirmation(e,s,1e3);case 4:t.t0=t.sent,t.next=8;break;case 7:t.t0=void 0;case 8:return o=t.t0,t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function te(t,e){return ee.apply(this,arguments)}function ee(){return(ee=l(c().mark((function t(e,n){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zt(e,n);case 2:return r=t.sent,t.abrupt("return",null==r?void 0:r["inner-txns"]);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ne(){return(ne=l(c().mark((function t(n){var a,o,i,u,p,l,d,f,m,g,I,A,x,h,v,T,y,_,w,D;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.client,o=n.network,i=n.asset_1,u=n.asset_2,p=n.initiatorAddr,t.next=3,a.getTransactionParams().do();case 3:return l=t.sent,d=pt(o,ut.V2),f=r.getApplicationAddress(d),m=at(i,u),g=b(m,2),I=g[0].id,A=g[1].id,t.next=9,Qt.v2.getPoolInfo({client:a,network:o,asset1ID:I,asset2ID:A});case 9:if(t.sent.status!==e.PoolStatus.READY){t.next=12;break}throw new Error("Pool for ".concat(i.unit_name,"-").concat(u.unit_name," already exists"));case 12:return x=gt.generateLogicSigAccountForPool({network:o,asset1ID:I,asset2ID:A}),h=x.address(),v=ot(A),(T=s.default.makeApplicationOptInTxnFromObject({from:h,appIndex:d,appArgs:[tt("bootstrap")],foreignAssets:[I,A],rekeyTo:f,suggestedParams:l})).fee=ae(v),y=s.default.makePaymentTxnWithSuggestedParamsFromObject({from:p,to:h,amount:re(v),suggestedParams:l}),(_=[])[Kt.FUNDING_TXN]=y,_[Kt.VALIDATOR_APP_CALL]=T,w=s.default.assignGroupID(_),(D=[])[Kt.FUNDING_TXN]={txn:w[Kt.FUNDING_TXN],signers:[p]},D[Kt.VALIDATOR_APP_CALL]={txn:w[Kt.VALIDATOR_APP_CALL],signers:[h]},t.abrupt("return",D);case 26:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function re(t){return function(t,e){var n=It(t).schema,r=4e5+28500*n.numLocalInts+5e4*n.numLocalByteSlices;return e||(r+=1e5),r}(ut.V2,t)+ae(t)+1e5}function ae(t){return(1+(t?5:6))*r.ALGORAND_MIN_TX_FEE}function se(){return(se=l(c().mark((function t(e){var n,r,a,o,i,u,p,l,d,f,m,g,I,A,x;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.txGroup,r=e.network,a=e.initiatorSigner,o=e.asset1ID,i=e.asset2ID,t.next=3,a([n]);case 3:return u=t.sent,p=b(u,1),l=p[0],d=st(o,i),f=b(d,2),m=f[0],g=f[1],I=gt.generateLogicSigAccountForPool({network:r,asset1ID:m,asset2ID:g}),A=[],x=n.map((function(t,e){if(e===Kt.FUNDING_TXN)return A.push(t.txn.txID().toString()),l;var n=s.default.signLogicSigTransactionObject(t.txn,I),r=n.txID,a=n.blob;return A.push(r),a})),t.abrupt("return",{signedTxns:x,txnIDs:A});case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function oe(){return(oe=l(c().mark((function t(e){var n,r,a,s,o,i,u,p,l,d,f;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.network,a=e.pool,s=a.asset1ID,o=a.asset2ID,i=e.txGroup,u=e.signedTxns,t.prev=1,t.next=4,n.sendRawTransaction(u).do();case 4:return t.next=6,Zt(n,i);case 6:if(t.t1=p=t.sent,t.t0=null===t.t1,t.t0){t.next=10;break}t.t0=void 0===p;case 10:if(!t.t0){t.next=14;break}t.t2=void 0,t.next=15;break;case 14:t.t2=null===(l=p["local-state-delta"][0].delta)||void 0===l||null===(d=l.find((function(t){return t.key===btoa(Dt.v2.poolTokenID)})))||void 0===d?void 0:d.value.uint;case 15:if("number"==typeof(f=t.t2)){t.next=18;break}throw new Error("Generated ID is not valid: got ".concat(f));case 18:return t.abrupt("return",Qt.v2.getPoolInfo({client:n,network:r,asset1ID:s,asset2ID:o}));case 21:throw t.prev=21,t.t3=t.catch(1),new N(t.t3,"We encountered something unexpected while bootstraping the pool. Try again later.");case 24:case"end":return t.stop()}}),t,null,[[1,21]])})))).apply(this,arguments)}var ie,ue,ce={generateTxns:function(t){return ne.apply(this,arguments)},signTxns:function(t){return se.apply(this,arguments)},execute:function(t){return oe.apply(this,arguments)},getBootstrapFundingTxnAmount:re,getTotalCost:function(t){return r.ALGORAND_MIN_TX_FEE+re(t)}},pe=(g(ie={},ut.V1_1,Ht),g(ie,ut.V2,ce),g(ie,"generateTxns",(function(t){return t.contractVersion===ut.V1_1?Ht.generateTxns(t):ce.generateTxns(t)})),g(ie,"signTxns",(function(t){return t.contractVersion===ut.V1_1?Ht.signTxns(t):ce.signTxns(t)})),g(ie,"execute",(function(t){return t.contractVersion===ut.V1_1?Ht.execute(t):ce.execute(t)})),g(ie,"calculateBootstrapFundingTxnAmount",(function(t){var e=t.contractVersion,n=t.isAlgoPool;return e===ut.V1_1?Ht.getBootstrapFundingTxnAmount(n):ce.getBootstrapFundingTxnAmount(n)})),ie);e.V1_1AddLiquidityTxnIndices=void 0,(ue=e.V1_1AddLiquidityTxnIndices||(e.V1_1AddLiquidityTxnIndices={}))[ue.FEE_TXN=0]="FEE_TXN",ue[ue.VALIDATOR_APP_CALL_TXN=1]="VALIDATOR_APP_CALL_TXN",ue[ue.ASSET1_IN_TXN=2]="ASSET1_IN_TXN",ue[ue.ASSET2_IN_TXN=3]="ASSET2_IN_TXN",ue[ue.LIQUDITY_OUT_TXN=4]="LIQUDITY_OUT_TXN";var le,de,fe,me,ge=5*r.ALGORAND_MIN_TX_FEE;e.V2AddLiquidityType=void 0,(me=e.V2AddLiquidityType||(e.V2AddLiquidityType={})).SINGLE="single",me.FLEXIBLE="flexible",me.INITIAL="initial";var Ie,Ae=(g(le={},e.V2AddLiquidityType.FLEXIBLE,{ASSET1_IN_TXN:0,ASSET2_IN_TXN:1,VALIDATOR_APP_CALL_TXN:2}),g(le,e.V2AddLiquidityType.SINGLE,{ASSET_IN_TXN:0,VALIDATOR_APP_CALL_TXN:1}),g(le,e.V2AddLiquidityType.INITIAL,{ASSET1_IN_TXN:0,ASSET2_IN_TXN:1,VALIDATOR_APP_CALL_TXN:2}),le),xe=(g(de={},e.V2AddLiquidityType.INITIAL,1),g(de,e.V2AddLiquidityType.SINGLE,2),g(de,e.V2AddLiquidityType.FLEXIBLE,2),de),he=(g(fe={},e.V2AddLiquidityType.INITIAL,3),g(fe,e.V2AddLiquidityType.FLEXIBLE,3),g(fe,e.V2AddLiquidityType.SINGLE,2),fe);function ve(t){var e=t.assetIn,n=t.assetOut;return G(n.decimals,Number(n.amount))/G(e.decimals,Number(e.amount))}function Te(t){var e=t.inputSupply,n=t.outputSupply,r=t.assetIn,a=t.assetOut,s=ve({assetIn:r,assetOut:a}),o=G(a.decimals,Number(n))/G(r.decimals,Number(e));return W({decimalPlaces:5},Math.abs(s/o-1))}function ye(t){var e,n,r,a,s=t.reserves,o=t.totalFeeShare,i=t.asset1Amount,u=t.asset2Amount,c=t.decimals,p=s.asset1*s.asset2,l=s.asset1+BigInt(i),d=s.asset2+BigInt(u),f=l*d,m=BigInt(parseInt(String(Math.sqrt(Number(f*s.issuedLiquidity*s.issuedLiquidity/p))))),g=m-s.issuedLiquidity,I=g*l/m,A=g*d/m,x=BigInt(i)-I,h=BigInt(u)-A;if(x>h){var v=x;r=BigInt(Math.abs(Math.min(Number(h),0))),e=!0,n=v+(a=_e(v,o)),g-=a*m/(l*BigInt(2))}else{var T=h;r=BigInt(Math.abs(Math.min(Number(x),0))),e=!1,n=T+(a=_e(T,o)),g-=a*m/(d*BigInt(2))}return{poolTokenAssetAmount:g,swapFromAsset1ToAsset2:e,swapInAmount:n,swapOutAmount:r,swapTotalFeeAmount:a,swapPriceImpact:Te({inputSupply:e?s.asset1:s.asset2,outputSupply:e?s.asset2:s.asset1,assetIn:{amount:n,decimals:c.asset1},assetOut:{amount:r,decimals:c.asset2}})}}function _e(t,e){return t*BigInt(e)/(BigInt(1e4)-BigInt(e))}function be(t){return(xe[t]+1)*r.ALGORAND_MIN_TX_FEE}var we=tt("add_liquidity"),De=(g(Ie={},ut.V1_1,[tt("mint")]),g(Ie,ut.V2,{INITIAL_LIQUIDITY:[tt("add_initial_liquidity")],SINGLE_ASSET_MODE:[we,tt("single")],FLEXIBLE_MODE:[we,tt("flexible")]}),Ie);function Oe(){return(Oe=l(c().mark((function t(e){var n,r,a,i,u,p,l,d,f,m,g,I,A,x,h,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.network,a=e.poolAddress,i=e.asset1In,u=e.asset2In,p=e.poolTokenOut,l=e.slippage,d=e.initiatorAddr,f=Q("negative",l,p.amount),t.next=4,n.getTransactionParams().do();case 4:return m=t.sent,g=s.default.makeApplicationNoOpTxnFromObject({from:a,appIndex:pt(r,ut.V1_1),appArgs:De.v1_1,accounts:[d],foreignAssets:0==u.id?[i.id,p.id]:[i.id,u.id,p.id],suggestedParams:m}),I=s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:d,to:a,assetIndex:i.id,amount:i.amount,suggestedParams:m}),A=0===u.id?s.default.makePaymentTxnWithSuggestedParamsFromObject({from:d,to:a,amount:u.amount,suggestedParams:m}):s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:d,to:a,assetIndex:u.id,amount:u.amount,suggestedParams:m}),x=s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:a,to:d,assetIndex:p.id,amount:f,suggestedParams:m}),h=s.default.makePaymentTxnWithSuggestedParamsFromObject({from:d,to:a,amount:g.fee+x.fee,note:o,suggestedParams:m}),v=s.default.assignGroupID([h,g,I,A,x]),t.abrupt("return",[{txn:v[0],signers:[d]},{txn:v[1],signers:[a]},{txn:v[2],signers:[d]},{txn:v[3],signers:[d]},{txn:v[4],signers:[a]}]);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Se(){return(Se=l(c().mark((function t(n){var r,a,o,i,u,p,l,d,f,m;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.pool,a=n.txGroup,o=n.initiatorSigner,i=r.account,t.next=4,o([a]);case 4:return u=t.sent,p=b(u,3),l=p[0],d=p[1],f=p[2],m=a.map((function(t,n){return n===e.V1_1AddLiquidityTxnIndices.FEE_TXN?l:n===e.V1_1AddLiquidityTxnIndices.ASSET1_IN_TXN?d:n===e.V1_1AddLiquidityTxnIndices.ASSET2_IN_TXN?f:s.default.signLogicSigTransactionObject(t.txn,i).blob})),t.abrupt("return",m);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ee(){return(Ee=l(c().mark((function t(n){var r,a,s,o,i,u,p,l,d,f,m,g,I,A,x,h,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.client,a=n.pool,s=n.txGroup,o=n.signedTxns,i=n.initiatorAddr,t.prev=1,u=BigInt(s[e.V1_1AddLiquidityTxnIndices.LIQUDITY_OUT_TXN].txn.amount),t.next=5,_t({client:r,pool:a,accountAddr:i});case 5:return p=t.sent,t.next=8,Y(r,[o]);case 8:return l=t.sent,d=b(l,1),f=d[0],m=f.confirmedRound,g=f.txnID,I=H(s),A=Z(s),t.next=17,_t({client:r,pool:a,accountAddr:i});case 17:return x=t.sent,(h=x.excessPoolTokens-p.excessPoolTokens)<0n&&(h=0n),t.abrupt("return",{round:m,fees:I,poolTokenID:a.poolTokenID,poolTokenOut:u+h,excessAmount:{excessAmountForAddingLiquidity:h,totalExcessAmount:x.excessPoolTokens},txnID:g,groupID:A});case 23:throw t.prev=23,t.t0=t.catch(1),"SlippageTolerance"===(v=new N(t.t0,"We encountered something unexpected while adding liquidity. Try again later.")).type&&v.setMessage("Adding liquidity failed due to too much slippage in the price. Please adjust the slippage tolerance and try again."),v;case 28:case"end":return t.stop()}}),t,null,[[1,23]])})))).apply(this,arguments)}var Pe=Object.freeze({__proto__:null,getQuote:function(t){var e=t.pool,n=t.reserves,r=t.asset1In,a=t.asset2In;if(0n===n.issuedLiquidity){var s=BigInt(Math.floor(Math.sqrt(Number(r)*Number(a))));if(s<=BigInt(1e3))throw new Error("Initial liquidity amount is too small. The amount must be greater than ".concat(1e3,", this quote is for ").concat(s,"."));return{round:n.round,asset1ID:e.asset1ID,asset1In:BigInt(r),asset2ID:e.asset2ID,asset2In:BigInt(a),poolTokenID:e.poolTokenID,poolTokenOut:s-BigInt(1e3),share:1}}var o=BigInt(r)*n.issuedLiquidity/n.asset1,i=BigInt(a)*n.issuedLiquidity/n.asset2,u=o<i?o:i;return{round:n.round,asset1ID:e.asset1ID,asset1In:BigInt(r),asset2ID:e.asset2ID,asset2In:BigInt(a),poolTokenID:e.poolTokenID,poolTokenOut:u,share:Qt.getPoolShare(n.issuedLiquidity+u,u)}},generateTxns:function(t){return Oe.apply(this,arguments)},signTxns:function(t){return Se.apply(this,arguments)},execute:function(t){return Ee.apply(this,arguments)}});function Ne(t){var e=t.txGroup;return(0,t.initiatorSigner)([e])}function ke(t){return Le.apply(this,arguments)}function Le(){return(Le=l(c().mark((function t(e){var n,r,a,s,o,i,u,p,l,d,f,m,g;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.pool,a=e.txGroup,s=e.signedTxns,t.prev=1,t.next=4,Y(n,[s]);case 4:return u=t.sent,p=b(u,1),l=p[0],d=l.confirmedRound,f=l.txnID,t.next=11,te(n,a);case 11:if(t.t1=o=t.sent,t.t0=null===t.t1,t.t0){t.next=15;break}t.t0=void 0===o;case 15:if(!t.t0){t.next=19;break}t.t2=void 0,t.next=20;break;case 19:t.t2=null===(i=o.find((function(t){return"axfer"===t.txn.txn.type})))||void 0===i?void 0:i.txn.txn;case 20:return m=t.t2,t.abrupt("return",{round:d,assetOut:m?{amount:m.aamt,id:m.xaid}:void 0,fees:H(a),poolTokenID:r.poolTokenID,txnID:f,groupID:Z(a)});case 24:throw t.prev=24,t.t3=t.catch(1),"SlippageTolerance"===(g=new N(t.t3,"We encountered something unexpected while adding liquidity. Try again later.")).type&&g.setMessage("Adding liquidity failed due to too much slippage in the price. Please adjust the slippage tolerance and try again."),g;case 29:case"end":return t.stop()}}),t,null,[[1,24]])})))).apply(this,arguments)}function Fe(){return(Fe=l(c().mark((function t(n){var a,o,i,u,p,l,d,f,m,g,I,A,x,h,v,T,y,_;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.client,o=n.network,i=n.poolAddress,u=n.asset1In,p=n.asset2In,l=n.poolTokenOut,d=n.initiatorAddr,f=n.minPoolTokenAssetAmount,t.next=3,a.getTransactionParams().do();case 3:return m=t.sent,g=at(u,p),I=b(g,2),A=I[0],x=I[1],h=ot(x.id),v=s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:d,to:i,assetIndex:A.id,amount:A.amount,suggestedParams:m}),T=h?s.default.makePaymentTxnWithSuggestedParamsFromObject({from:d,to:i,amount:x.amount,suggestedParams:m}):s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:d,to:i,assetIndex:x.id,amount:x.amount,suggestedParams:m}),(y=s.default.makeApplicationNoOpTxnFromObject({from:d,appIndex:pt(o,ut.V2),appArgs:[].concat(w(De.v2.FLEXIBLE_MODE),[r.encodeUint64(f)]),accounts:[i],foreignAssets:[l.id],suggestedParams:m})).fee=be(e.V2AddLiquidityType.FLEXIBLE),_=s.default.assignGroupID([v,T,y]),t.abrupt("return",[{txn:_[0],signers:[d]},{txn:_[1],signers:[d]},{txn:_[2],signers:[d]}]);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Me=Object.freeze({__proto__:null,getQuote:function(t){var n=t.pool,r=t.slippage,a=void 0===r?.05:r,s=t.asset1,o=t.asset2;if(0n===n.issuedPoolTokens)throw new Error("Pool has no liquidity at the moment. To be able to do Flexible Swap, you should first add initial liquidity.");if(n.status!==e.PoolStatus.READY)throw new Error("Pool is not ready");var i={asset1:n.asset1Reserves||0n,asset2:n.asset2Reserves||0n,issuedLiquidity:n.issuedPoolTokens||0n},u=ye({reserves:i,totalFeeShare:n.totalFeeShare,asset1Amount:s.amount,asset2Amount:o.amount,decimals:{asset1:s.decimals,asset2:o.decimals}}),c=u.poolTokenAssetAmount,p=u.swapInAmount,l=u.swapOutAmount,d=u.swapPriceImpact,f=u.swapTotalFeeAmount,m=c-BigInt(Math.ceil(Number(c)*a));return{asset1In:{id:n.asset1ID,amount:BigInt(s.amount)},asset2In:{id:n.asset2ID,amount:BigInt(o.amount)},poolTokenOut:{id:n.poolTokenID,amount:c},share:Qt.getPoolShare(i.issuedLiquidity+c,c),slippage:a,internalSwapQuote:{amountIn:p,amountOut:l,swapFees:f,priceImpact:d},minPoolTokenAssetAmountWithSlippage:m}},generateTxns:function(t){return Fe.apply(this,arguments)},signTxns:Ne,execute:ke});function Be(){return(Be=l(c().mark((function t(n){var a,o,i,u,p,l,d,f,m,g,I,A;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.client,o=n.network,i=n.poolAddress,u=n.assetIn,p=n.poolTokenId,l=n.initiatorAddr,d=n.minPoolTokenAssetAmount,t.next=3,a.getTransactionParams().do();case 3:return f=t.sent,m=ot(u.id),g=m?s.default.makePaymentTxnWithSuggestedParamsFromObject({from:l,to:i,amount:u.amount,suggestedParams:f}):s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:l,to:i,assetIndex:u.id,amount:u.amount,suggestedParams:f}),(I=s.default.makeApplicationNoOpTxnFromObject({from:l,appIndex:pt(o,ut.V2),appArgs:[].concat(w(De.v2.SINGLE_ASSET_MODE),[r.encodeUint64(d)]),accounts:[i],foreignAssets:[p],suggestedParams:f})).fee=be(e.V2AddLiquidityType.SINGLE),A=s.default.assignGroupID([g,I]),t.abrupt("return",[{txn:A[0],signers:[l]},{txn:A[1],signers:[l]}]);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Re=Object.freeze({__proto__:null,getQuote:function(t){var n=t.pool,r=t.assetIn,a=t.slippage,s=void 0===a?.05:a,o=t.decimals;if(0n===n.issuedPoolTokens)throw new Error("Pool has no liquidity");if(n.status!==e.PoolStatus.READY)throw new Error("Pool is not ready");var i=r.id===n.asset1ID,u={asset1:n.asset1Reserves||0n,asset2:n.asset2Reserves||0n,issuedLiquidity:n.issuedPoolTokens||0n},c=ye({reserves:u,totalFeeShare:n.totalFeeShare,asset1Amount:i?r.amount:0,asset2Amount:i?0:r.amount,decimals:o}),p=c.poolTokenAssetAmount,l=c.swapInAmount,d=c.swapOutAmount,f=c.swapPriceImpact,m=c.swapTotalFeeAmount,g=p-BigInt(Math.ceil(Number(p)*s));return{assetIn:{id:i?n.asset1ID:n.asset2ID,amount:BigInt(r.amount)},poolTokenOut:{id:n.poolTokenID,amount:p},share:Qt.getPoolShare(u.issuedLiquidity+p,p),slippage:s,internalSwapQuote:{amountIn:l,amountOut:d,swapFees:m,priceImpact:f},minPoolTokenAssetAmountWithSlippage:g}},generateTxns:function(t){return Be.apply(this,arguments)},signTxns:Ne,execute:ke});function je(){return(je=l(c().mark((function t(n){var r,a,o,i,u,p,l,d,f,m,g,I,A;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.client,a=n.pool,o=n.network,i=n.poolAddress,u=n.asset1In,p=n.asset2In,l=n.poolTokenId,d=n.initiatorAddr,f=ot(a.asset2ID),t.next=4,r.getTransactionParams().do();case 4:return m=t.sent,g=s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:d,to:i,assetIndex:a.asset1ID,amount:u.amount,suggestedParams:m}),I=f?s.default.makePaymentTxnWithSuggestedParamsFromObject({from:d,to:i,amount:p.amount,suggestedParams:m}):s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:d,to:i,assetIndex:a.asset2ID,amount:p.amount,suggestedParams:m}),(A=s.default.makeApplicationNoOpTxnFromObject({from:d,appIndex:pt(o,ut.V2),appArgs:De.v2.INITIAL_LIQUIDITY,accounts:[i],foreignAssets:[l],suggestedParams:m})).fee=be(e.V2AddLiquidityType.INITIAL),t.abrupt("return",s.default.assignGroupID([g,I,A]).map((function(t){return{txn:t,signers:[d]}})));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Ve,Xe,Ce=Object.freeze({__proto__:null,getQuote:function(t){var e=t.pool,n=t.asset1,r=t.asset2,a=t.slippage,s=void 0===a?.05:a;if(0n!==e.issuedPoolTokens)throw new Error("Pool already has liquidity");var o=BigInt(Math.floor(Math.sqrt(Number(n.amount)*Number(r.amount))));if(o<=BigInt(1e3))throw new Error("Initial liquidity amount is too small. Liquidity amount must be greater than ".concat(1e3,", this quote is for ").concat(o,"."));var i=function(t,e){if(!t.amount||!e.amount)throw new Error("Both assets are required for the initial add liquidity");return BigInt(Math.abs(Math.floor(Math.sqrt(q(t.decimals,Math.floor(Number(t.amount)))*q(e.decimals,Math.floor(Number(e.amount))))-1e3)))}(n,r);return{asset1In:{id:e.asset1ID,amount:BigInt(n.amount)},asset2In:{id:e.asset2ID,amount:BigInt(r.amount)},poolTokenOut:{id:e.poolTokenID,amount:i},slippage:s}},generateTxns:function(t){return je.apply(this,arguments)},signTxns:Ne,execute:ke}),Ue=Object.freeze({__proto__:null,flexible:Me,withSingleAsset:Re,initial:Ce}),Qe=(g(Ve={},ut.V1_1,Pe),g(Ve,ut.V2,Ue),Ve);!function(t){t[t.FEE_TXN=0]="FEE_TXN",t[t.VALIDATOR_APP_CALL_TXN=1]="VALIDATOR_APP_CALL_TXN",t[t.ASSET1_OUT_TXN=2]="ASSET1_OUT_TXN",t[t.ASSET2_OUT_TXN=3]="ASSET2_OUT_TXN",t[t.POOL_TOKEN_IN_TXN=4]="POOL_TOKEN_IN_TXN"}(Xe||(Xe={}));var Ge,qe=Object.values(Xe).length,We=tt("remove_liquidity");function ze(){return(ze=l(c().mark((function t(e){var n,r,a,i,u,p,l,d,f,m,g,I,A,x,h,v,T,y,_,b;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.pool,a=e.poolTokenIn,i=e.asset1Out,u=e.asset2Out,p=e.slippage,l=e.initiatorAddr,t.next=3,n.getTransactionParams().do();case 3:return d=t.sent,f=r.account.address(),m=ot(r.asset2ID),g=s.default.makeApplicationNoOpTxnFromObject({from:f,appIndex:r.validatorAppID,appArgs:[tt("burn")],accounts:[l],foreignAssets:m?[r.asset1ID,r.poolTokenID]:[r.asset1ID,r.asset2ID,r.poolTokenID],suggestedParams:d}),I=Q("negative",p,i),A=s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:f,to:l,assetIndex:r.asset1ID,amount:I,suggestedParams:d}),x=Q("negative",p,u),h=m?s.default.makePaymentTxnWithSuggestedParamsFromObject({from:f,to:l,amount:x,suggestedParams:d}):s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:f,to:l,assetIndex:r.asset2ID,amount:x,suggestedParams:d}),v=s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:l,to:f,assetIndex:r.poolTokenID,amount:a,suggestedParams:d}),T=g.fee+A.fee+h.fee,y=s.default.makePaymentTxnWithSuggestedParamsFromObject({from:l,to:f,amount:T,note:o,suggestedParams:d}),(_=[])[Xe.FEE_TXN]=y,_[Xe.VALIDATOR_APP_CALL_TXN]=g,_[Xe.ASSET1_OUT_TXN]=A,_[Xe.ASSET2_OUT_TXN]=h,_[Xe.POOL_TOKEN_IN_TXN]=v,b=s.default.assignGroupID(_),t.abrupt("return",[{txn:b[Xe.FEE_TXN],signers:[l]},{txn:b[Xe.VALIDATOR_APP_CALL_TXN],signers:[f]},{txn:b[Xe.ASSET1_OUT_TXN],signers:[f]},{txn:b[Xe.ASSET2_OUT_TXN],signers:[f]},{txn:b[Xe.POOL_TOKEN_IN_TXN],signers:[l]}]);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Je(){return(Je=l(c().mark((function t(e){var n,r,a,o,i,u,p,l,d;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.pool,r=e.txGroup,a=e.initiatorSigner,t.next=3,a([r]);case 3:return o=t.sent,i=b(o,2),u=i[0],p=i[1],l=n.account,d=r.map((function(t,e){return e===Xe.FEE_TXN?u:e===Xe.POOL_TOKEN_IN_TXN?p:s.default.signLogicSigTransactionObject(t.txn,l).blob})),t.abrupt("return",d);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ye(){return(Ye=l(c().mark((function t(e){var n,r,a,s,o,i,u,p,l,d,f,m,g,I,A,x,h,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.pool,a=e.txGroup,s=e.signedTxns,o=e.initiatorAddr,t.prev=1,i=a[Xe.ASSET1_OUT_TXN].txn.amount,u=a[Xe.ASSET2_OUT_TXN].txn.amount,p=a[Xe.POOL_TOKEN_IN_TXN].txn.amount,t.next=7,_t({client:n,pool:r,accountAddr:o});case 7:return l=t.sent,t.next=10,Y(n,[s]);case 10:return d=t.sent,f=b(d,1),m=f[0],g=m.confirmedRound,I=m.txnID,t.next=17,_t({client:n,pool:r,accountAddr:o});case 17:return A=t.sent,(x=A.excessAsset1-l.excessAsset1)<0n&&(x=0n),(h=A.excessAsset2-l.excessAsset2)<0n&&(h=0n),t.abrupt("return",{round:g,fees:H(a),asset1ID:r.asset1ID,asset1Out:BigInt(i)+x,asset2ID:r.asset2ID,asset2Out:BigInt(u)+h,poolTokenID:r.poolTokenID,poolTokenIn:BigInt(p),excessAmounts:[{assetID:r.asset1ID,excessAmountForBurning:x,totalExcessAmount:A.excessAsset1},{assetID:r.asset2ID,excessAmountForBurning:h,totalExcessAmount:A.excessAsset2}],txnID:I,groupID:Z(a)});case 25:throw t.prev=25,t.t0=t.catch(1),"SlippageTolerance"===(v=new N(t.t0,"We encountered something unexpected while burning liquidity. Try again later.")).type&&v.setMessage("The burn failed due to too much slippage in the price. Please adjust the slippage tolerance and try again."),v;case 30:case"end":return t.stop()}}),t,null,[[1,25]])})))).apply(this,arguments)}!function(t){t[t.ASSET_TRANSFER_TXN=0]="ASSET_TRANSFER_TXN",t[t.APP_CALL_TXN=1]="APP_CALL_TXN"}(Ge||(Ge={}));var Ke,He,Ze,$e,tn={generateTxns:function(t){return ze.apply(this,arguments)},getQuote:function(t){var e=t.pool,n=t.reserves,r=t.poolTokenIn,a=BigInt(r),s=n.issuedLiquidity&&a*n.asset1/n.issuedLiquidity,o=n.issuedLiquidity&&a*n.asset2/n.issuedLiquidity;return{round:n.round,poolTokenID:e.poolTokenID,poolTokenIn:a,asset1ID:e.asset1ID,asset1Out:s,asset2ID:e.asset2ID,asset2Out:o}},signTxns:function(t){return Je.apply(this,arguments)},execute:function(t){return Ye.apply(this,arguments)}};e.SwapType=void 0,(Ke=e.SwapType||(e.SwapType={})).FixedInput="fixed-input",Ke.FixedOutput="fixed-output",function(t){t[t.INPUT_TXN=0]="INPUT_TXN",t[t.APP_CALL_TXN=1]="APP_CALL_TXN"}($e||($e={}));var en=(g(He={},e.SwapType.FixedInput,1),g(He,e.SwapType.FixedOutput,2),He),nn=tt("swap"),rn=(g(Ze={},e.SwapType.FixedInput,tt("fixed-input")),g(Ze,e.SwapType.FixedOutput,tt("fixed-output")),Ze);function an(){return(an=l(c().mark((function t(n){var r,a,o,i,u,p,l,d,f,m,g,I,A,x,h,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.client,a=n.pool,o=n.swapType,i=n.assetIn,u=n.assetOut,p=n.initiatorAddr,l=n.slippage,t.next=3,r.getTransactionParams().do();case 3:return d=t.sent,f=a.account.address(),m=ot(i.id),g=o===e.SwapType.FixedInput?i.amount:Q("positive",l,i.amount),I=o===e.SwapType.FixedOutput?u.amount:Q("negative",l,u.amount),A=m?s.default.makePaymentTxnWithSuggestedParamsFromObject({from:p,to:f,amount:g,suggestedParams:d}):s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:p,to:f,amount:g,assetIndex:i.id,suggestedParams:d}),(x=s.default.makeApplicationNoOpTxnFromObject({from:p,appIndex:a.validatorAppID,appArgs:[nn,rn[o],s.default.encodeUint64(I)],accounts:[f],foreignAssets:[a.asset1ID,a.asset2ID],suggestedParams:d})).fee=sn(o),(h=[])[$e.INPUT_TXN]=A,h[$e.APP_CALL_TXN]=x,v=s.default.assignGroupID(h),t.abrupt("return",[{txn:v[$e.INPUT_TXN],signers:[p]},{txn:v[$e.APP_CALL_TXN],signers:[p]}]);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function sn(t){return(en[t]+1)*r.ALGORAND_MIN_TX_FEE}function on(){return(on=l(c().mark((function t(e){var n,r,a,s,o,i,u,p,l,d,f,m,g,I,A,x,h;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.client,s=e.pool,o=e.txGroup,i=e.signedTxns,u=e.network,p=e.assetIn,t.next=3,Y(a,[i]);case 3:return l=t.sent,d=b(l,1),f=d[0],m=f.confirmedRound,g=f.txnID,t.next=10,te(a,o);case 10:return I=t.sent,A=[s.asset1ID,s.asset2ID].filter((function(t){return t!==p.id}))[0],x=null==I||null===(n=I.find((function(t){return t.txn.txn.xaid===p.id})))||void 0===n?void 0:n.txn.txn,h=null==I||null===(r=I.find((function(t){return t.txn.txn.xaid===A})))||void 0===r?void 0:r.txn.txn,t.t0=m,t.t1=x&&{amount:BigInt(p.amount)-BigInt(x.aamt||0),id:p.id},t.t2=h&&{amount:h.aamt,id:A},t.next=19,Qt.v2.getPoolInfo({client:a,network:u,asset1ID:s.asset1ID,asset2ID:s.asset2ID});case 19:return t.t3=t.sent,t.t4=g,t.abrupt("return",{round:t.t0,assetIn:t.t1,assetOut:t.t2,pool:t.t3,txnID:t.t4});case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function un(t){var n=t.pool,r=t.assetIn,a=t.decimals;if(n.status!==e.PoolStatus.READY)throw new N({pool:n,assetIn:r},"Trying to swap on a non-existent pool");var s,o,i,u=BigInt(r.amount),c=n.totalFeeShare;r.id===n.asset1ID?(s=n.asset2ID,o=n.asset1Reserves,i=n.asset2Reserves):(s=n.asset1ID,o=n.asset2Reserves,i=n.asset1Reserves);var p=pn({inputSupply:o,outputSupply:i,swapInputAmount:u,totalFeeShare:c,decimals:a}),l=p.swapOutputAmount,d=p.totalFeeAmount,f=p.priceImpact;return{assetInID:r.id,assetInAmount:u,assetOutID:s,assetOutAmount:l,swapFee:Number(d),rate:G(a.assetOut,Number(l))/G(a.assetIn,Number(u)),priceImpact:f}}function cn(t){var e,n,r,a=t.pool,s=t.assetOut,o=t.decimals,i=BigInt(s.amount),u=a.totalFeeShare;s.id===a.asset1ID?(e=a.asset2ID,n=a.asset2Reserves,r=a.asset1Reserves):(e=a.asset1ID,n=a.asset1Reserves,r=a.asset2Reserves);var c=function(t){var e=t.inputSupply,n=t.outputSupply,r=t.swapOutputAmount,a=t.totalFeeShare,s=t.decimals,o=function(t){var e=t.inputSupply,n=t.outputSupply;return BigInt(e*n/(n-t.outputAmount))-e+BigInt(1)}({inputSupply:e,outputSupply:n,outputAmount:r}),i=function(t){var e=t.swapAmount,n=t.totalFeeShare,r=Math.floor(Number(e*BigInt(1e4)/(BigInt(1e4)-BigInt(n))));return BigInt(r)-e}({swapAmount:o,totalFeeShare:a}),u=o+i;return{swapInputAmount:u,totalFeeAmount:i,priceImpact:Te({inputSupply:e,outputSupply:n,assetIn:{amount:u,decimals:s.assetIn},assetOut:{amount:r,decimals:s.assetOut}})}}({inputSupply:n,outputSupply:r,swapOutputAmount:i,totalFeeShare:u,decimals:o}),p=c.swapInputAmount,l=c.totalFeeAmount,d=c.priceImpact;return{assetInID:e,assetInAmount:p,assetOutID:s.id,assetOutAmount:i,swapFee:Number(l),rate:G(o.assetOut,Number(i))/G(o.assetIn,Number(p)),priceImpact:d}}function pn(t){var e=t.inputSupply,n=t.outputSupply,r=t.swapInputAmount,a=t.totalFeeShare,s=t.decimals,o=BigInt(function(t){var e=t.inputAmount,n=t.totalFeeShare;return Math.floor(Number(e*BigInt(n))/1e4)}({inputAmount:r,totalFeeShare:a})),i=function(t){var e=t.inputSupply,n=t.outputSupply;return n-BigInt(e*n/(e+BigInt(t.swapAmount)))-BigInt(1)}({inputSupply:e,outputSupply:n,swapAmount:r-o});return{swapOutputAmount:i,totalFeeAmount:o,priceImpact:Te({inputSupply:e,outputSupply:n,assetIn:{amount:r,decimals:s.assetIn},assetOut:{amount:i,decimals:s.assetOut}})}}var ln={getQuote:function(t,n,r,a){if(n.status!==e.PoolStatus.READY)throw new N({pool:n,asset:r},"Trying to swap on a non-existent pool");return t===e.SwapType.FixedInput?un({pool:n,assetIn:r,decimals:a}):cn({pool:n,assetOut:r,decimals:a})},getFixedInputSwapQuote:un,getFixedOutputSwapQuote:cn,generateTxns:function(t){return an.apply(this,arguments)},signTxns:function(t){var e=t.txGroup;return(0,t.initiatorSigner)([e])},execute:function(t){return on.apply(this,arguments)},calculateFixedInputSwap:pn};function dn(t,e){var n,r,a=BigInt(t),s=e.issuedLiquidity;return s>a+BigInt(1e3)?(n=a*e.asset1/s,r=a*e.asset2/s):(n=e.asset1,r=e.asset2),{asset1OutputAmount:n,asset2OutputAmount:r}}function fn(){return(fn=l(c().mark((function t(e){var n,a,o,i,u,p,l,d,f,m,g,I,A,x;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,a=e.pool,o=e.poolTokenIn,i=e.initiatorAddr,u=e.minAsset1Amount,p=e.minAsset2Amount,l=e.slippage,t.next=3,n.getTransactionParams().do();case 3:if(d=t.sent,f=a.account.address(),m=a.poolTokenID){t.next=8;break}throw new Error("Pool token asset ID is missing");case 8:return g=s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:i,to:f,assetIndex:m,amount:o,suggestedParams:d}),(I=s.default.makeApplicationNoOpTxnFromObject({from:i,appIndex:a.validatorAppID,appArgs:[We,s.default.encodeUint64(Q("negative",l,u)),s.default.encodeUint64(Q("negative",l,p))],accounts:[f],foreignAssets:[a.asset1ID,a.asset2ID],suggestedParams:d})).fee=3*r.ALGORAND_MIN_TX_FEE,(A=[])[Ge.ASSET_TRANSFER_TXN]=g,A[Ge.APP_CALL_TXN]=I,x=s.default.assignGroupID(A),t.abrupt("return",[{txn:x[Ge.ASSET_TRANSFER_TXN],signers:[i]},{txn:x[Ge.APP_CALL_TXN],signers:[i]}]);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function mn(){return(mn=l(c().mark((function t(e){var n,a,o,i,u,p,l,d,f,m,g,I,A,x,h,v,T,y,_;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,a=e.pool,o=e.initiatorAddr,i=e.poolTokenIn,u=e.outputAssetId,p=e.minOutputAssetAmount,l=e.slippage,t.next=3,n.getTransactionParams().do();case 3:if(d=t.sent,f=a.asset1ID,m=a.asset2ID,g=a.account.address(),I=a.poolTokenID){t.next=9;break}throw new Error("Pool token asset ID is missing");case 9:if(A=0,x=0,h=Q("negative",l,p),u!==f){t.next=17;break}A=h,x=0,t.next=23;break;case 17:if(u!==m){t.next=22;break}A=0,x=h,t.next=23;break;case 22:throw new Error("Invalid output asset id. It doesn't match with pool assets");case 23:return v=s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:o,to:g,assetIndex:I,amount:i,suggestedParams:d}),(T=s.default.makeApplicationNoOpTxnFromObject({from:o,appIndex:a.validatorAppID,appArgs:[We,s.default.encodeUint64(A),s.default.encodeUint64(x)],accounts:[g],foreignAssets:[u],suggestedParams:d})).fee=3*r.ALGORAND_MIN_TX_FEE,(y=[])[Ge.ASSET_TRANSFER_TXN]=v,y[Ge.APP_CALL_TXN]=T,_=s.default.assignGroupID(y),t.abrupt("return",[{txn:_[Ge.ASSET_TRANSFER_TXN],signers:[o]},{txn:_[Ge.APP_CALL_TXN],signers:[o]}]);case 31:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gn(){return(gn=l(c().mark((function t(e){var n,r,a,s,o,i,u,p;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.client,a=e.txGroup,s=e.signedTxns,t.next=3,Y(r,[s]);case 3:return o=t.sent,i=b(o,1),u=i[0].txnID,t.next=8,te(r,a);case 8:if(t.t1=n=t.sent,t.t0=null===t.t1,t.t0){t.next=12;break}t.t0=void 0===n;case 12:if(!t.t0){t.next=16;break}t.t2=void 0,t.next=17;break;case 16:t.t2=n.map((function(t){return{assetId:t.txn.txn.xaid,amount:t.txn.txn.aamt}}));case 17:return p=t.t2,t.abrupt("return",{outputAssets:p,txnID:u});case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var In,An,xn={getQuote:function(t){var e=t.pool,n=t.reserves,r=t.poolTokenIn,a=BigInt(r),s=dn(a,n),o=s.asset1OutputAmount,i=s.asset2OutputAmount;return{round:n.round,asset1Out:{assetId:e.asset1ID,amount:o},asset2Out:{assetId:e.asset2ID,amount:i},poolTokenIn:{assetId:e.poolTokenID,amount:a}}},getSingleAssetRemoveLiquidityQuote:function(t){var e,n=t.pool,r=t.reserves,a=t.poolTokenIn,s=t.assetOutID,o=t.decimals,i=BigInt(a),u=dn(i,r),c=u.asset1OutputAmount,p=u.asset2OutputAmount,l=n.totalFeeShare;if(s===n.asset1ID){var d=ln.calculateFixedInputSwap({inputSupply:r.asset2-p,outputSupply:r.asset1-c,swapInputAmount:p,totalFeeShare:l,decimals:o}),f=d.swapOutputAmount,m=d.totalFeeAmount,g=d.priceImpact;e={round:r.round,assetOut:{assetId:s,amount:c+f},poolTokenIn:{assetId:n.poolTokenID,amount:i},internalSwapQuote:{amountIn:{assetId:n.asset2ID,amount:p},amountOut:{assetId:n.asset1ID,amount:f},swapFees:{assetId:n.asset2ID,amount:m},priceImpact:g}}}else{if(s!==n.asset2ID)throw new Error("assetOutID must be one of the pool assets");var I=ln.calculateFixedInputSwap({inputSupply:r.asset1-c,outputSupply:r.asset2-p,swapInputAmount:c,totalFeeShare:l,decimals:o}),A=I.swapOutputAmount,x=I.totalFeeAmount,h=I.priceImpact;e={round:r.round,assetOut:{assetId:s,amount:p+A},poolTokenIn:{assetId:n.poolTokenID,amount:i},internalSwapQuote:{amountIn:{assetId:n.asset2ID,amount:p},amountOut:{assetId:n.asset1ID,amount:A},swapFees:{assetId:n.asset2ID,amount:x},priceImpact:h}}}return e},generateTxns:function(t){return fn.apply(this,arguments)},generateSingleAssetOutTxns:function(t){return mn.apply(this,arguments)},signTxns:function(t){var e=t.txGroup;return(0,t.initiatorSigner)([e])},execute:function(t){return gn.apply(this,arguments)}},hn=(g(In={},ut.V1_1,tn),g(In,ut.V2,xn),In),vn=3n,Tn=1000n;function yn(){return(yn=l(c().mark((function t(e){var n,r,a,o,i,u,p,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.pool,r=e.txGroup,a=e.initiatorSigner,t.next=3,a([r]);case 3:return o=t.sent,i=b(o,2),u=i[0],p=i[1],l=r.map((function(t,e){return e===An.FEE_TXN_INDEX?u:e===An.ASSET_IN_TXN_INDEX?p:s.default.signLogicSigTransactionObject(t.txn,n.account.lsig).blob})),t.abrupt("return",l);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _n(){return(_n=l(c().mark((function t(n){var r,a,i,u,p,l,d,f,m,g,I,A,x,h,v,T,y;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.client,a=n.pool,i=n.swapType,u=n.assetIn,p=n.assetOut,l=n.slippage,d=n.initiatorAddr,t.next=3,r.getTransactionParams().do();case 3:return f=t.sent,m=a.account.address(),g=[tt("swap"),i===e.SwapType.FixedInput?tt("fi"):tt("fo")],I=s.default.makeApplicationNoOpTxnFromObject({from:m,appIndex:a.validatorAppID,appArgs:g,accounts:[d],foreignAssets:0==a.asset2ID?[a.asset1ID,a.poolTokenID]:[a.asset1ID,a.asset2ID,a.poolTokenID],suggestedParams:f}),A=i===e.SwapType.FixedOutput?Q("positive",l,u.amount):u.amount,x=0===u.id?s.default.makePaymentTxnWithSuggestedParamsFromObject({from:d,to:m,amount:A,suggestedParams:f}):s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:d,to:m,assetIndex:u.id,amount:A,suggestedParams:f}),h=i===e.SwapType.FixedInput?Q("negative",l,p.amount):p.amount,v=0===p.id?s.default.makePaymentTxnWithSuggestedParamsFromObject({from:m,to:d,amount:h,suggestedParams:f}):s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:m,to:d,assetIndex:p.id,amount:h,suggestedParams:f}),T=s.default.makePaymentTxnWithSuggestedParamsFromObject({from:d,to:m,amount:I.fee+v.fee,note:o,suggestedParams:f}),y=s.default.assignGroupID([T,I,x,v]),t.abrupt("return",[{txn:y[0],signers:[d]},{txn:y[1],signers:[m]},{txn:y[2],signers:[d]},{txn:y[3],signers:[m]}]);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function bn(t){var e,n,r,a=t.pool,s=t.reserves,o=t.assetIn,i=t.decimals,c=BigInt(o.amount);o.id===a.asset1ID?(e=a.asset2ID,n=s.asset1,r=s.asset2):(e=a.asset1ID,n=s.asset2,r=s.asset1);var p=c*vn/Tn,l=r-n*r/(n+(c-p));if(l>r)throw new Error("Output amount exceeds available liquidity.");var d={assetIn:{amount:c,decimals:i.assetIn},assetOut:{amount:l,decimals:i.assetOut}};return{round:s.round,assetInID:o.id,assetInAmount:c,assetOutID:e,assetOutAmount:l,swapFee:Number(p),rate:ve(d),priceImpact:Te(u({inputSupply:n,outputSupply:r},d))}}function wn(t){return Dn.apply(this,arguments)}function Dn(){return(Dn=l(c().mark((function t(e){var n,r,a,s,o,i,u,p,l,d,f,m,g,I,A,x;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.pool,a=e.signedTxns,s=e.assetIn,o=e.assetOut,i=e.initiatorAddr,t.next=3,_t({client:n,pool:r,accountAddr:i});case 3:return u=t.sent,t.next=6,Y(n,[a]);case 6:return p=t.sent,l=b(p,1),d=l[0],f=d.confirmedRound,m=d.txnID,t.next=13,_t({client:n,pool:r,accountAddr:i});case 13:return g=t.sent,o.id===r.asset1ID?(I=u.excessAsset1,A=g.excessAsset1):(I=u.excessAsset2,A=g.excessAsset2),(x=A-I)<0n&&(x=0n),t.abrupt("return",{round:f,assetInID:s.id,assetInAmount:BigInt(s.amount),assetOutID:o.id,assetOutAmount:BigInt(o.amount)+x,excessAmount:{assetID:o.id,excessAmountForSwap:x,totalExcessAmount:A},txnID:m});case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function On(t){var e,n,r,a=t.pool,s=t.reserves,o=t.assetOut,i=t.decimals,u=BigInt(o.amount);if(o.id===a.asset1ID?(e=a.asset2ID,n=s.asset2,r=s.asset1):(e=a.asset1ID,n=s.asset1,r=s.asset2),u>r)throw new Error("Output amount exceeds available liquidity.");var c=n*r/(r-u)-n,p=c*Tn/(Tn-vn),l=p-c,d=G(i.assetOut,Number(u))/G(i.assetIn,Number(p)),f=G(i.assetOut,Number(r))/G(i.assetIn,Number(n)),m=W({decimalPlaces:5},Math.abs(d/f-1));return{round:s.round,assetInID:e,assetInAmount:p,assetOutID:o.id,assetOutAmount:u,swapFee:Number(l),rate:d,priceImpact:m}}function Sn(t){return En.apply(this,arguments)}function En(){return(En=l(c().mark((function t(e){var n,r,a,s,o,i,u,p,l,d,f,m,g,I,A,x;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.pool,a=e.signedTxns,s=e.assetIn,o=e.assetOut,i=e.initiatorAddr,t.next=3,_t({client:n,pool:r,accountAddr:i});case 3:return u=t.sent,t.next=6,Y(n,[a]);case 6:return p=t.sent,l=b(p,1),d=l[0],f=d.confirmedRound,m=d.txnID,t.next=13,_t({client:n,pool:r,accountAddr:i});case 13:return g=t.sent,s.id===r.asset1ID?(I=u.excessAsset1,A=g.excessAsset1):(I=u.excessAsset2,A=g.excessAsset2),(x=A-I)<0n&&(x=0n),t.abrupt("return",{round:f,assetInID:s.id,assetInAmount:BigInt(s.amount)-x,assetOutID:o.id,assetOutAmount:BigInt(o.amount),excessAmount:{assetID:s.id,excessAmountForSwap:x,totalExcessAmount:A},txnID:m});case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Pn(){return(Pn=l(c().mark((function t(n){var r,a,s,o,i,p,l,d,f,m;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.client,a=n.pool,s=n.swapType,o=n.txGroup,i=n.signedTxns,p=n.initiatorAddr,a.status===e.PoolStatus.READY){t.next=3;break}throw new N({pool:a,swapType:s,txGroup:o},"Trying to swap on a non-existent pool");case 3:if(t.prev=3,l={id:o[An.ASSET_IN_TXN_INDEX].txn.assetIndex||0,amount:o[An.ASSET_IN_TXN_INDEX].txn.amount},d={id:o[An.ASSET_OUT_TXN_INDEX].txn.assetIndex||0,amount:o[An.ASSET_OUT_TXN_INDEX].txn.amount},s!==e.SwapType.FixedInput){t.next=12;break}return t.next=9,wn({client:r,pool:a,signedTxns:i,assetIn:l,assetOut:d,initiatorAddr:p});case 9:f=t.sent,t.next=15;break;case 12:return t.next=14,Sn({client:r,pool:a,signedTxns:i,assetIn:l,assetOut:d,initiatorAddr:p});case 14:f=t.sent;case 15:return t.abrupt("return",u(u({},f),{},{groupID:Z(o),fees:H(o)}));case 18:throw t.prev=18,t.t0=t.catch(3),"SlippageTolerance"===(m=new N(t.t0,"We encountered something unexpected while swapping. Try again later.")).type&&m.setMessage("The swap failed due to too much slippage in the price. Please adjust the slippage tolerance and try again."),m;case 23:case"end":return t.stop()}}),t,null,[[3,18]])})))).apply(this,arguments)}!function(t){t[t.FEE_TXN_INDEX=0]="FEE_TXN_INDEX",t[t.VALIDATOR_APP_CALL_TXN_INDEX=1]="VALIDATOR_APP_CALL_TXN_INDEX",t[t.ASSET_IN_TXN_INDEX=2]="ASSET_IN_TXN_INDEX",t[t.ASSET_OUT_TXN_INDEX=3]="ASSET_OUT_TXN_INDEX"}(An||(An={}));var Nn,kn={getQuote:function(t,n,r,a,s){if(n.status!==e.PoolStatus.READY)throw new N({pool:n,asset:a},"Trying to swap on a non-existent pool");return t===e.SwapType.FixedInput?bn({pool:n,reserves:r,assetIn:a,decimals:s}):On({pool:n,reserves:r,assetOut:a,decimals:s})},getFixedInputSwapQuote:bn,getFixedOutputSwapQuote:On,generateTxns:function(t){return _n.apply(this,arguments)},signTxns:function(t){return yn.apply(this,arguments)},execute:function(t){return Pn.apply(this,arguments)},executeFixedOutputSwap:Sn},Ln=4*r.ALGORAND_MIN_TX_FEE;function Fn(t){return t.filter((function(t){return!Vt(t.pool.reserves)})).sort((function(t,e){return e.quote.rate-t.quote.rate}))[0]}var Mn=(g(Nn={},ut.V1_1,kn),g(Nn,ut.V2,ln),g(Nn,"getQuote",(function(t){if(t.pools.every((function(t){return Vt(t.reserves)})))throw new Error("No pools available for swap");return t.type===e.SwapType.FixedInput?(r=(n=t).pools,a=n.assetIn,s=n.assetOut,o=n.amount,Fn(r.map((function(t){var e={pool:t.info,assetIn:{amount:o,id:Number(a.id)},decimals:{assetIn:a.decimals,assetOut:s.decimals},reserves:t.reserves};return{pool:t,quote:t.info.contractVersion===ut.V1_1?kn.getFixedInputSwapQuote(e):ln.getFixedInputSwapQuote(e)}})))):function(t){var e=t.pools,n=t.assetIn,r=t.assetOut,a=t.amount;return Fn(e.map((function(t){var e={pool:t.info,assetOut:{amount:a,id:Number(r.id)},decimals:{assetIn:n.decimals,assetOut:r.decimals},reserves:t.reserves};return{pool:t,quote:t.info.contractVersion===ut.V1_1?kn.getFixedOutputSwapQuote(e):ln.getFixedOutputSwapQuote(e)}})))}(t);var n,r,a,s,o})),g(Nn,"generateTxns",(function(t){return t.pool.contractVersion===ut.V1_1?kn.generateTxns(t):ln.generateTxns(t)})),g(Nn,"signTxns",(function(t){return t.pool.contractVersion===ut.V1_1?kn.signTxns(t):ln.signTxns(t)})),g(Nn,"execute",(function(t){return t.contractVersion===ut.V1_1?kn.execute(t):ln.execute(t)})),Nn);function Bn(){return(Bn=l(c().mark((function t(e){var n,r,a,s,o,i,u,p,l,d;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.pool,a=e.txGroup,s=e.initiatorSigner,t.prev=1,t.next=4,Rn({txGroup:a,pool:r,initiatorSigner:s});case 4:return o=t.sent,t.next=7,Y(n,[o]);case 7:return i=t.sent,u=b(i,1),p=u[0],l=p.txnID,d=p.confirmedRound,t.abrupt("return",{fees:H(a),confirmedRound:d,txnID:l,groupID:Z(a)});case 15:throw t.prev=15,t.t0=t.catch(1),new N(t.t0,"We encountered something unexpected while redeeming. Try again later.");case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}function Rn(t){return jn.apply(this,arguments)}function jn(){return(jn=l(c().mark((function t(e){var n,r,a,o,i,u,p,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.txGroup,r=e.pool,a=e.initiatorSigner,t.next=3,a([n]);case 3:return o=t.sent,i=b(o,1),u=i[0],p=r.account.lsig,l=n.map((function(t,e){return 0===e?u:s.default.signLogicSigTransactionObject(t.txn,p).blob})),t.abrupt("return",l);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Vn(){return(Vn=l(c().mark((function t(e){var n,r,a,o,i,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.data,a=e.initiatorSigner,t.prev=1,o=r.map((function(t){var e=t.txGroup,n=t.pool;return{txns:e,txnFees:H(e),groupID:Z(e),lsig:n.account.lsig}})),t.next=5,a(o.map((function(t){return t.txns})));case 5:return i=t.sent,u=Promise.all(o.map((function(t,e){return new Promise(function(){var r=l(c().mark((function r(a,o){var u,p,l,d,f,m;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,u=t.txns.map((function(n,r){return 0===r?i[e]:s.default.signLogicSigTransactionObject(n.txn,t.lsig).blob})),r.next=4,Y(n,[u]);case 4:p=r.sent,l=b(p,1),d=l[0],f=d.txnID,m=d.confirmedRound,a({fees:t.txnFees,groupID:t.groupID,txnID:f,confirmedRound:m}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),o(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(t,e){return r.apply(this,arguments)}}())}))),t.abrupt("return",u);case 10:throw t.prev=10,t.t0=t.catch(1),new N(t.t0,"We encountered something unexpected while redeeming. Try again later.");case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}function Xn(){return(Xn=l(c().mark((function t(e){var n,r,a,i,u,p,l,d,f,m,g;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.pool,a=e.assetID,i=e.assetOut,u=e.initiatorAddr,t.next=3,n.getTransactionParams().do();case 3:return p=t.sent,l=r.account.address(),d=s.default.makeApplicationNoOpTxnFromObject({from:l,appIndex:r.validatorAppID,appArgs:[tt("redeem")],accounts:[u],foreignAssets:0==r.asset2ID?[r.asset1ID,r.poolTokenID]:[r.asset1ID,r.asset2ID,r.poolTokenID],suggestedParams:p}),f=0===a?s.default.makePaymentTxnWithSuggestedParamsFromObject({from:l,to:u,amount:BigInt(i),suggestedParams:p}):s.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:l,to:u,assetIndex:a,amount:BigInt(i),suggestedParams:p}),m=s.default.makePaymentTxnWithSuggestedParamsFromObject({from:u,to:l,amount:d.fee+f.fee,note:o,suggestedParams:p}),g=s.default.assignGroupID([m,d,f]),t.abrupt("return",[{txn:g[0],signers:[u]},{txn:g[1],signers:[l]},{txn:g[2],signers:[l]}]);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Cn(t){var e=t.suggestedParams,n=t.stakingAppID,a=t.initiatorAddr,s=t.liquidityAssetID,o=t.program,i=t.amount,u=r.encodeUint64(i),c=r.encodeUint64(o.id);return r.makeApplicationNoOpTxnFromObject({appIndex:n,from:a,suggestedParams:e,foreignAssets:[s],accounts:[o.accountAddress],appArgs:[tt("commit"),u],note:L([tt("tinymanStaking/v1:b"),c,r.encodeUint64(s),u])})}function Un(){return(Un=l(c().mark((function t(e){var n,a,s,o,i,u,p,l,d,f,m;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,a=e.stakingAppID,s=e.program,o=e.requiredAssetID,i=e.liquidityAssetID,u=e.amount,p=e.initiatorAddr,t.next=3,n.getTransactionParams().do();case 3:if(l=t.sent,d=Cn({suggestedParams:l,stakingAppID:a,program:s,liquidityAssetID:i,initiatorAddr:p,amount:u}),f=[d],"number"!=typeof o){t.next=10;break}return m=r.makeApplicationNoOpTxnFromObject({appIndex:a,from:p,suggestedParams:l,foreignAssets:[o],accounts:[s.accountAddress],appArgs:[tt("log_balance")]}),f=r.assignGroupID([d,m]),t.abrupt("return",[{txn:f[0],signers:[p]},{txn:f[1],signers:[p]}]);case 10:return t.abrupt("return",[{txn:f[0],signers:[p]}]);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.ALGO_ASSET=et,e.ALGO_ASSET_ID=0,e.ASSET_OPT_IN_PROCESS_TXN_COUNT=1,e.AddLiquidity=Qe,e.BASE_MINIMUM_BALANCE=1e5,e.Bootstrap=pe,e.CONTRACT_VERSION=ut,e.MINIMUM_ADD_LIQUIDITY_AMOUNT=1e3,e.MINIMUM_BALANCE_REQUIRED_PER_APP=1e5,e.MINIMUM_BALANCE_REQUIRED_PER_ASSET=1e5,e.MINIMUM_BALANCE_REQUIRED_PER_BYTE_SCHEMA=5e4,e.MINIMUM_BALANCE_REQUIRED_PER_INT_SCHEMA_VALUE=28500,e.OPT_IN_VALIDATOR_APP_PROCESS_TXN_COUNT=1,e.OPT_OUT_VALIDATOR_APP_PROCESS_TXN_COUNT=1,e.POOL_TOKEN_UNIT_NAME=nt,e.REDEEM_PROCESS_TXN_COUNT=3,e.RemoveLiquidity=hn,e.Swap=Mn,e.V1_1_ADD_LIQUIDITY_PROCESS_TXN_COUNT=5,e.V1_1_REMOVE_LIQUIDITY_TXN_COUNT=qe,e.V2AddLiquidityTxnIndices=Ae,e.V2_REMOVE_LIQUIDITY_APP_CALL_INNER_TXN_COUNT=2,e.applySlippageToAmount=Q,e.calculateAccountMinimumRequiredBalance=ht,e.combineAndRegroupSignerTxns=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e.flat(),s=a.map((function(t){var e=t.txn;return e.group=void 0,r.decodeUnsignedTransaction(r.encodeUnsignedTransaction(e))})),o=r.assignGroupID(s);return a.map((function(t,e){return u(u({},t),{},{txn:o[e]})}))},e.convertFromBaseUnits=G,e.convertToBaseUnits=q,e.generateOptIntoAssetTxns=function(t){return rt.apply(this,arguments)},e.generateOptIntoValidatorTxns=function(t){return lt.apply(this,arguments)},e.generateOptOutOfValidatorTxns=function(t){return dt.apply(this,arguments)},e.generateRedeemTxns=function(t){return Xn.apply(this,arguments)},e.getAccountExcess=function(t){return wt.apply(this,arguments)},e.getAccountExcessWithinPool=_t,e.getAccountInformation=At,e.getAddLiquidityTotalFee=function(t){switch(t.version){case ut.V1_1:return ge;case ut.V2:return e=t.type,(xe[e]+he[e])*r.ALGORAND_MIN_TX_FEE;default:throw new Error("Provided contract version was not valid.")}var e},e.getMinRequiredBalanceToOptIn=function(t){var e,n=t.currentMinumumBalanceForAccount,r=t.suggestedTransactionFee;if("app-opt-in"===t.type){var a=It(t.contractVersion);e=1e5+5e4*a.schema.numLocalByteSlices+28500*a.schema.numLocalInts}else e=1e5;return e+(n||0)+(r||0)},e.getStakingAppID=function(t){return"testnet"===t?51948952:649588853},e.getSwapTotalFee=function(t){switch(t.version){case ut.V1_1:return Ln;case ut.V2:return e=t.type,(en[e]+2)*r.ALGORAND_MIN_TX_FEE;default:throw new Error("Provided contract version was not valid.")}var e},e.getTxnGroupID=Z,e.getValidatorAppID=pt,e.hasSufficientMinimumBalance=function(t){return t.amount>=t.minimum_required_balance},e.isAccountOptedIntoApp=function(t){var e=t.appID;return t.accountAppsLocalState.some((function(t){return t.id===e}))},e.poolUtils=Qt,e.prepareCommitTransactions=function(t){return Un.apply(this,arguments)},e.redeemAllExcessAsset=function(t){return Vn.apply(this,arguments)},e.redeemExcessAsset=function(t){return Bn.apply(this,arguments)},e.sendAndWaitRawTransaction=Y,e.sumUpTxnFees=H,e.tinymanContract_v1_1=mt,e.tinymanContract_v2=gt}).call(this,n(35).Buffer)},1277:function(t,e,n){"use strict";var r=n(472),a=n(473);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a(n(0));var s=r(n(474)),o=n(1),i=(0,s.default)((0,o.jsx)("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"}),"SwapVert");e.default=i},1873:function(t,e,n){"use strict";var r=n(2),a=n(8),s=n(0),o=(n(10),n(12)),i=n(773),u=n(9),c=n(13),p=n(807),l=n(739),d=n(774);function f(t){return Object(l.a)("MuiCard",t)}Object(d.a)("MuiCard",["root"]);var m=n(1),g=Object(u.a)(p.a,{},{name:"MuiCard",slot:"Root",overridesResolver:function(t,e){return e.root}})((function(){return{overflow:"hidden"}})),I=s.forwardRef((function(t,e){var n=Object(c.a)({props:t,name:"MuiCard"}),s=n.className,u=n.raised,p=void 0!==u&&u,l=Object(a.a)(n,["className","raised"]),d=Object(r.a)({},n,{raised:p}),I=function(t){var e=t.classes;return Object(i.a)({root:["root"]},f,e)}(d);return Object(m.jsx)(g,Object(r.a)({className:Object(o.a)(I.root,s),elevation:p?8:void 0,ref:e,styleProps:d},l))}));e.a=I},1921:function(t,e,n){"use strict";var r=n(2),a=n(8),s=n(0),o=(n(10),n(12)),i=n(773),u=n(803),c=n(9),p=n(13),l=n(739),d=n(774);function f(t){return Object(l.a)("MuiDialogTitle",t)}Object(d.a)("MuiDialogTitle",["root"]);var m=n(1),g=Object(c.a)("div",{},{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(t,e){return e.root}})((function(){return{margin:0,padding:"16px 24px",flex:"0 0 auto"}})),I=s.forwardRef((function(t,e){var n=Object(p.a)({props:t,name:"MuiDialogTitle"}),s=n.children,c=n.className,l=n.disableTypography,d=void 0!==l&&l,I=Object(a.a)(n,["children","className","disableTypography"]),A=Object(r.a)({},n,{disableTypography:d}),x=function(t){var e=t.classes;return Object(i.a)({root:["root"]},f,e)}(A);return Object(m.jsx)(g,Object(r.a)({className:Object(o.a)(x.root,c),styleProps:A,ref:e},I,{children:d?s:Object(m.jsx)(u.a,{component:"h2",variant:"h6",children:s})}))}));e.a=I},1922:function(t,e,n){"use strict";var r=n(8),a=n(2),s=n(0),o=(n(10),n(12)),i=n(773),u=n(9),c=n(13),p=n(739),l=n(774);function d(t){return Object(p.a)("MuiDialogContent",t)}Object(l.a)("MuiDialogContent",["root","dividers"]);var f=n(1),m=Object(u.a)("div",{},{name:"MuiDialogContent",slot:"Root",overridesResolver:function(t,e){var n=t.styleProps;return Object(a.a)({},e.root,n.dividers&&e.dividers)}})((function(t){var e=t.theme,n=t.styleProps;return Object(a.a)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-of-type":{paddingTop:20}},n.dividers&&{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)})})),g=s.forwardRef((function(t,e){var n=Object(c.a)({props:t,name:"MuiDialogContent"}),s=n.className,u=n.dividers,p=void 0!==u&&u,l=Object(r.a)(n,["className","dividers"]),g=Object(a.a)({},n,{dividers:p}),I=function(t){var e=t.classes,n={root:["root",t.dividers&&"dividers"]};return Object(i.a)(n,d,e)}(g);return Object(f.jsx)(m,Object(a.a)({className:Object(o.a)(I.root,s),styleProps:g,ref:e},l))}));e.a=g}}]);
//# sourceMappingURL=9.1b7090b6.chunk.js.map