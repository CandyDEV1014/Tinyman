{"version":3,"sources":["../node_modules/amazon-cognito-identity-js/es/AuthenticationDetails.js","../node_modules/amazon-cognito-identity-js/es/utils/cryptoSecureRandomInt.web.js","../node_modules/amazon-cognito-identity-js/es/utils/WordArray.js","../node_modules/amazon-cognito-identity-js/es/BigInteger.js","../node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js","../node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js","../node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js","../node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js","../node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js","../node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js","../node_modules/amazon-cognito-identity-js/es/DateHelper.js","../node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js","../node_modules/amazon-cognito-identity-js/es/StorageHelper.js","../node_modules/amazon-cognito-identity-js/es/CognitoUser.js","../node_modules/amazon-cognito-identity-js/es/Platform/index.js","../node_modules/amazon-cognito-identity-js/es/UserAgent.js","../node_modules/amazon-cognito-identity-js/es/Client.js","../node_modules/amazon-cognito-identity-js/es/CognitoUserPool.js","../node_modules/@iconify/icons-ant-design/apple-filled.js","../node_modules/@iconify/icons-ant-design/google-circle-filled.js","../node_modules/crypto-js/lib-typedarrays.js","../node_modules/crypto-js/sha256.js","../node_modules/crypto-js/hmac-sha256.js","../../src/index.mjs","../node_modules/isomorphic-unfetch/browser.js","../node_modules/js-cookie/src/js.cookie.js"],"names":["crypto","AuthenticationDetails","data","_ref","ValidationData","Username","Password","AuthParameters","ClientMetadata","this","validationData","authParameters","clientMetadata","username","password","_proto","prototype","getUsername","getPassword","getValidationData","getAuthParameters","getClientMetadata","cryptoSecureRandomInt","getRandomValues","Uint32Array","err","randomBytes","readInt32LE","Error","window","msCrypto","dbits","WordArray","words","sigBytes","undefined","length","random","nBytes","i","push","toString","wordArray","hexChars","bite","join","hexStringify","BigInteger","a","b","fromString","nbi","inBrowser","navigator","appName","am","x","w","j","c","n","xl","xh","l","h","m","v","Math","floor","DB","DM","DV","FV","pow","F1","F2","rr","vv","BI_RC","Array","charCodeAt","int2char","charAt","intAt","s","nbv","r","fromInt","nbits","t","Montgomery","mp","invDigit","mpl","mph","um","mt2","Buffer","from","convert","abs","dlShiftTo","divRemTo","compareTo","ZERO","subTo","revert","copyTo","reduce","u0","clamp","drShiftTo","mulTo","y","multiplyTo","sqrTo","squareTo","k","mi","sh","max","lShiftTo","bs","cbs","bm","ds","rShiftTo","min","q","pm","pt","ts","ms","nsh","ys","y0","yt","d1","d2","e","ONE","qd","addTo","negate","d","km","p","bitLength","mod","equals","add","subtract","multiply","divide","modPow","callback","z","g","k1","g2","is1","r2","result","HEX_MSB_REGEX","AuthenticationHelper","PoolName","N","hexHash","padHex","smallAValue","generateRandomSmallA","getLargeAValue","infoBits","poolName","getSmallAValue","_this","largeAValue","calculateA","hexRandom","generateRandomString","getRandomPassword","randomPassword","getSaltDevices","SaltToHashDevices","getVerifierDevices","verifierDevices","generateHashDevice","deviceGroupKey","_this2","combinedString","hashedString","hash","verifierDevicesNotPadded","_this3","A","calculateU","B","UHexHash","buf","str","CryptoJS","lib","create","hashHex","SHA256","hexStr","computehkdf","ikm","salt","infoBitsWordArray","concat","String","fromCharCode","ikmWordArray","saltWordArray","prk","HmacSHA256","hmac","slice","getPasswordAuthenticationKey","serverBValue","_this4","UValue","usernamePassword","usernamePasswordHash","xValue","calculateS","sValue","hkdf","_this5","gModPowXN","err2","getNewPasswordRequiredChallengeUserAttributePrefix","bigInt","isNegative","test","invertedNibbles","split","map","invertedNibble","parseInt","toUpperCase","startsWith","substring","CognitoJwtToken","token","jwtToken","payload","decodePayload","getJwtToken","getExpiration","exp","getIssuedAt","iat","JSON","parse","_setPrototypeOf","o","Object","setPrototypeOf","bind","__proto__","CognitoAccessToken","_CognitoJwtToken","subClass","superClass","_temp","AccessToken","call","constructor","CognitoIdToken","IdToken","CognitoRefreshToken","RefreshToken","getToken","CognitoUserSession","ClockDrift","idToken","refreshToken","accessToken","clockDrift","calculateClockDrift","getIdToken","getRefreshToken","getAccessToken","getClockDrift","Date","isValid","adjusted","monthNames","weekNames","DateHelper","getNowString","now","weekDay","getUTCDay","month","getUTCMonth","day","getUTCDate","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","getUTCFullYear","CognitoUserAttribute","Name","Value","getValue","setValue","value","getName","setName","name","stringify","toJSON","dataMemory","MemoryStorage","setItem","key","getItem","hasOwnProperty","removeItem","clear","StorageHelper","storageWindow","localStorage","exception","getStorage","userAgent","CognitoUser","Pool","pool","Session","client","signInUserSession","authenticationFlowType","storage","Storage","keyPrefix","getClientId","userDataKey","setSignInUserSession","clearCachedUserData","cacheTokens","getSignInUserSession","getAuthenticationFlowType","setAuthenticationFlowType","initiateAuth","authDetails","USERNAME","clientMetaData","keys","jsonReq","AuthFlow","ClientId","getUserContextData","UserContextData","request","onFailure","challengeName","ChallengeName","challengeParameters","ChallengeParameters","customChallenge","getCognitoUserSession","AuthenticationResult","onSuccess","authenticateUser","authenticateUserPlainUsernamePassword","authenticateUserDefaultAuth","authenticationHelper","getUserPoolId","dateHelper","deviceKey","DEVICE_KEY","errOnAValue","aValue","SRP_A","CHALLENGE_NAME","USER_ID_FOR_SRP","SRP_B","SALT","getCachedDeviceKeyAndPassword","errOnHkdf","dateNow","message","SECRET_BLOCK","signatureString","Base64","challengeResponses","PASSWORD_CLAIM_SECRET_BLOCK","TIMESTAMP","PASSWORD_CLAIM_SIGNATURE","jsonReqResp","ChallengeResponses","respondToAuthChallenge","challenge","challengeCallback","errChallenge","dataChallenge","code","toLowerCase","indexOf","clearCachedDeviceKeyAndPassword","errAuthenticate","dataAuthenticate","authenticateUserInternal","PASSWORD","authResult","mfaRequired","selectMFAType","mfaSetup","totpRequired","userAttributes","rawRequiredAttributes","requiredAttributes","userAttributesPrefix","substr","newPasswordRequired","getDeviceResponse","newDeviceMetadata","NewDeviceMetadata","DeviceGroupKey","DeviceKey","errGenHash","deviceSecretVerifierConfig","Salt","PasswordVerifier","DeviceSecretVerifierConfig","DeviceName","errConfirm","dataConfirm","cacheDeviceKeyAndPassword","UserConfirmationNecessary","completeNewPasswordChallenge","newPassword","requiredAttributeData","finalUserAttributes","forEach","NEW_PASSWORD","_this6","errAValue","errHkdf","confirmRegistration","confirmationCode","forceAliasCreation","ConfirmationCode","ForceAliasCreation","sendCustomChallengeAnswer","answerChallenge","_this7","ANSWER","sendMFACode","mfaType","_this8","SMS_MFA_CODE","mfaTypeSelection","SOFTWARE_TOKEN_MFA_CODE","changePassword","oldUserPassword","newUserPassword","PreviousPassword","ProposedPassword","enableMFA","mfaOptions","DeliveryMedium","AttributeName","MFAOptions","setUserMfaPreference","smsMfaSettings","softwareTokenMfaSettings","SMSMfaSettings","SoftwareTokenMfaSettings","disableMFA","deleteUser","_this9","clearCachedUser","updateAttributes","attributes","_this10","UserAttributes","getUserData","bypassCache","getUserAttributes","userData","attributeList","attribute","userAttribute","getMFAOptions","createGetUserRequest","promisifyRequest","refreshSessionIfPossible","options","_this11","Promise","resolve","refresh","refreshSession","params","_this12","getUserDataFromCache","isFetchUserDataAndTokenRequired","fetchUserData","then","_ref$bypassCache","_this13","cacheUserData","deleteAttributes","_this14","UserAttributeNames","resendConfirmationCode","getSession","idTokenKey","accessTokenKey","refreshTokenKey","clockDriftKey","cachedSession","_this15","wrappedCallback","wrapRefreshSessionCallback","REFRESH_TOKEN","lastUserKey","deviceKeyKey","authenticationResult","clearCachedTokens","randomPasswordKey","deviceGroupKeyKey","forgotPassword","inputVerificationCode","confirmPassword","getAttributeVerificationCode","attributeName","verifyAttribute","Code","getDevice","forgetSpecificDevice","forgetDevice","_this16","setDeviceStatusRemembered","DeviceRememberedStatus","setDeviceStatusNotRemembered","listDevices","limit","paginationToken","requestParams","Limit","PaginationToken","globalSignOut","_this17","signOut","revokeTokenCallback","_this18","error","_session","revokeTokens","cleanClientData","isSessionRevocable","revokeToken","origin_jti","_ref2","requestWithRetry","Token","sendMFASelectionAnswer","_this19","associateSoftwareToken","_this20","associateSecretCode","SecretCode","verifySoftwareToken","totpCode","friendlyDeviceName","_this21","UserCode","FriendlyDeviceName","errRespond","dataRespond","BASE_USER_AGENT","Platform","product","isReactNative","UserAgent","_inheritsLoose","_wrapNativeSuper","Class","_cache","Map","fn","Function","TypeError","has","get","set","Wrapper","_construct","arguments","_getPrototypeOf","enumerable","writable","configurable","Parent","args","_isNativeReflectConstruct","Reflect","construct","apply","instance","sham","Proxy","Boolean","valueOf","getPrototypeOf","CognitoError","_Error","statusCode","Client","region","endpoint","fetchOptions","credentials","operation","reject","functionToRetry","maxDelayMs","MAX_DELAY_MS","retry","BASE_TIME_MS","JITTER_FACTOR","attempt","delay","jitteredBackoff","jitteredExponentialRetry","res","rej","response","headers","assign","method","mode","cache","body","fetch","resp","json","ok","__type","pop","Message","status","ex","logger","delayFn","obj","retryIn","setTimeout","CognitoUserPool","UserPoolId","AdvancedSecurityDataCollectionFlag","userPoolId","clientId","advancedSecurityDataCollectionFlag","signUp","cognitoUser","returnData","user","userConfirmed","UserConfirmed","userSub","UserSub","codeDeliveryDetails","CodeDeliveryDetails","getCurrentUser","lastAuthUser","AmazonCognitoAdvancedSecurityData","amazonCognitoAdvancedSecurityDataConst","advancedSecurityData","getData","EncodedData","exports","__esModule","default","root","factory","module","require","ArrayBuffer","superInit","init","typedArray","Uint8Array","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Float32Array","Float64Array","buffer","byteOffset","byteLength","typedArrayByteLength","C","C_lib","Hasher","C_algo","algo","H","K","isPrime","sqrtN","sqrt","factor","getFractionalBits","nPrime","W","extend","_doReset","_hash","_doProcessBlock","M","offset","f","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","_doFinalize","_data","dataWords","nBitsTotal","_nDataBytes","nBitsLeft","_process","clone","_createHelper","_createHmacHelper","undef","url","XMLHttpRequest","all","statusText","responseURL","text","responseText","blob","Blob","entries","const","open","onload","getAllResponseHeaders","replace","onerror","withCredentials","setRequestHeader","send","self","define","OldCookies","Cookies","api","noConflict","decode","decodeURIComponent","converter","document","path","defaults","expires","toUTCString","write","encodeURIComponent","escape","stringifiedAttributes","cookie","jar","cookies","parts","read","getJSON","remove","withConverter"],"mappings":"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","file":"static/js/3.d30c294a.chunk.js","sourcesContent":["/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/** @class */\nvar AuthenticationDetails = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AuthenticationDetails object\n   * @param {object=} data Creation options.\n   * @param {string} data.Username User being authenticated.\n   * @param {string} data.Password Plain-text password to authenticate with.\n   * @param {(AttributeArg[])?} data.ValidationData Application extra metadata.\n   * @param {(AttributeArg[])?} data.AuthParamaters Authentication paramaters for custom auth.\n   */\n  function AuthenticationDetails(data) {\n    var _ref = data || {},\n        ValidationData = _ref.ValidationData,\n        Username = _ref.Username,\n        Password = _ref.Password,\n        AuthParameters = _ref.AuthParameters,\n        ClientMetadata = _ref.ClientMetadata;\n\n    this.validationData = ValidationData || {};\n    this.authParameters = AuthParameters || {};\n    this.clientMetadata = ClientMetadata || {};\n    this.username = Username;\n    this.password = Password;\n  }\n  /**\n   * @returns {string} the record's username\n   */\n\n\n  var _proto = AuthenticationDetails.prototype;\n\n  _proto.getUsername = function getUsername() {\n    return this.username;\n  }\n  /**\n   * @returns {string} the record's password\n   */\n  ;\n\n  _proto.getPassword = function getPassword() {\n    return this.password;\n  }\n  /**\n   * @returns {Array} the record's validationData\n   */\n  ;\n\n  _proto.getValidationData = function getValidationData() {\n    return this.validationData;\n  }\n  /**\n   * @returns {Array} the record's authParameters\n   */\n  ;\n\n  _proto.getAuthParameters = function getAuthParameters() {\n    return this.authParameters;\n  }\n  /**\n   * @returns {ClientMetadata} the clientMetadata for a Lambda trigger\n   */\n  ;\n\n  _proto.getClientMetadata = function getClientMetadata() {\n    return this.clientMetadata;\n  };\n\n  return AuthenticationDetails;\n}();\n\nexport { AuthenticationDetails as default };","var crypto; // Native crypto from window (Browser)\n\nif (typeof window !== 'undefined' && window.crypto) {\n  crypto = window.crypto;\n} // Native (experimental IE 11) crypto from window (Browser)\n\n\nif (!crypto && typeof window !== 'undefined' && window.msCrypto) {\n  crypto = window.msCrypto;\n}\n/*\n * Cryptographically secure pseudorandom number generator\n * As Math.random() is cryptographically not safe to use\n */\n\n\nexport default function cryptoSecureRandomInt() {\n  if (crypto) {\n    // Use getRandomValues method (Browser)\n    if (typeof crypto.getRandomValues === 'function') {\n      try {\n        return crypto.getRandomValues(new Uint32Array(1))[0];\n      } catch (err) {}\n    } // Use randomBytes method (NodeJS)\n\n\n    if (typeof crypto.randomBytes === 'function') {\n      try {\n        return crypto.randomBytes(4).readInt32LE();\n      } catch (err) {}\n    }\n  }\n\n  throw new Error('Native crypto module could not be used to get secure random number.');\n}","import cryptoSecureRandomInt from './cryptoSecureRandomInt';\n/**\n * Hex encoding strategy.\n * Converts a word array to a hex string.\n * @param {WordArray} wordArray The word array.\n * @return {string} The hex string.\n * @static\n */\n\nfunction hexStringify(wordArray) {\n  // Shortcuts\n  var words = wordArray.words;\n  var sigBytes = wordArray.sigBytes; // Convert\n\n  var hexChars = [];\n\n  for (var i = 0; i < sigBytes; i++) {\n    var bite = words[i >>> 2] >>> 24 - i % 4 * 8 & 0xff;\n    hexChars.push((bite >>> 4).toString(16));\n    hexChars.push((bite & 0x0f).toString(16));\n  }\n\n  return hexChars.join('');\n}\n\nvar WordArray = /*#__PURE__*/function () {\n  function WordArray(words, sigBytes) {\n    words = this.words = words || [];\n\n    if (sigBytes != undefined) {\n      this.sigBytes = sigBytes;\n    } else {\n      this.sigBytes = words.length * 4;\n    }\n  }\n\n  var _proto = WordArray.prototype;\n\n  _proto.random = function random(nBytes) {\n    var words = [];\n\n    for (var i = 0; i < nBytes; i += 4) {\n      words.push(cryptoSecureRandomInt());\n    }\n\n    return new WordArray(words, nBytes);\n  };\n\n  _proto.toString = function toString() {\n    return hexStringify(this);\n  };\n\n  return WordArray;\n}();\n\nexport { WordArray as default };","// A small implementation of BigInteger based on http://www-cs-students.stanford.edu/~tjw/jsbn/\n//\n// All public methods have been removed except the following:\n//   new BigInteger(a, b) (only radix 2, 4, 8, 16 and 32 supported)\n//   toString (only radix 2, 4, 8, 16 and 32 supported)\n//   negate\n//   abs\n//   compareTo\n//   bitLength\n//   mod\n//   equals\n//   add\n//   subtract\n//   multiply\n//   divide\n//   modPow\nexport default BigInteger;\n/*\n * Copyright (c) 2003-2005  Tom Wu\n * All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS-IS\" AND WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY\n * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.\n *\n * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,\n * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER\n * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF\n * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT\n * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n *\n * In addition, the following condition applies:\n *\n * All redistributions must retain an intact copy of this copyright notice\n * and disclaimer.\n */\n// (public) Constructor\n\nfunction BigInteger(a, b) {\n  if (a != null) this.fromString(a, b);\n} // return new, unset BigInteger\n\n\nfunction nbi() {\n  return new BigInteger(null);\n} // Bits per digit\n\n\nvar dbits; // JavaScript engine analysis\n\nvar canary = 0xdeadbeefcafe;\nvar j_lm = (canary & 0xffffff) == 0xefcafe; // am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\n\nfunction am1(i, x, w, j, c, n) {\n  while (--n >= 0) {\n    var v = x * this[i++] + w[j] + c;\n    c = Math.floor(v / 0x4000000);\n    w[j++] = v & 0x3ffffff;\n  }\n\n  return c;\n} // am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\n\n\nfunction am2(i, x, w, j, c, n) {\n  var xl = x & 0x7fff,\n      xh = x >> 15;\n\n  while (--n >= 0) {\n    var l = this[i] & 0x7fff;\n    var h = this[i++] >> 15;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n    c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n    w[j++] = l & 0x3fffffff;\n  }\n\n  return c;\n} // Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\n\n\nfunction am3(i, x, w, j, c, n) {\n  var xl = x & 0x3fff,\n      xh = x >> 14;\n\n  while (--n >= 0) {\n    var l = this[i] & 0x3fff;\n    var h = this[i++] >> 14;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n    c = (l >> 28) + (m >> 14) + xh * h;\n    w[j++] = l & 0xfffffff;\n  }\n\n  return c;\n}\n\nvar inBrowser = typeof navigator !== 'undefined';\n\nif (inBrowser && j_lm && navigator.appName == 'Microsoft Internet Explorer') {\n  BigInteger.prototype.am = am2;\n  dbits = 30;\n} else if (inBrowser && j_lm && navigator.appName != 'Netscape') {\n  BigInteger.prototype.am = am1;\n  dbits = 26;\n} else {\n  // Mozilla/Netscape seems to prefer am3\n  BigInteger.prototype.am = am3;\n  dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = (1 << dbits) - 1;\nBigInteger.prototype.DV = 1 << dbits;\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP; // Digit conversions\n\nvar BI_RM = '0123456789abcdefghijklmnopqrstuvwxyz';\nvar BI_RC = new Array();\nvar rr, vv;\nrr = '0'.charCodeAt(0);\n\nfor (vv = 0; vv <= 9; ++vv) {\n  BI_RC[rr++] = vv;\n}\n\nrr = 'a'.charCodeAt(0);\n\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}\n\nrr = 'A'.charCodeAt(0);\n\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}\n\nfunction int2char(n) {\n  return BI_RM.charAt(n);\n}\n\nfunction intAt(s, i) {\n  var c = BI_RC[s.charCodeAt(i)];\n  return c == null ? -1 : c;\n} // (protected) copy this to r\n\n\nfunction bnpCopyTo(r) {\n  for (var i = this.t - 1; i >= 0; --i) {\n    r[i] = this[i];\n  }\n\n  r.t = this.t;\n  r.s = this.s;\n} // (protected) set from integer value x, -DV <= x < DV\n\n\nfunction bnpFromInt(x) {\n  this.t = 1;\n  this.s = x < 0 ? -1 : 0;\n  if (x > 0) this[0] = x;else if (x < -1) this[0] = x + this.DV;else this.t = 0;\n} // return bigint initialized to value\n\n\nfunction nbv(i) {\n  var r = nbi();\n  r.fromInt(i);\n  return r;\n} // (protected) set from string and radix\n\n\nfunction bnpFromString(s, b) {\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error('Only radix 2, 4, 8, 16, 32 are supported');\n  this.t = 0;\n  this.s = 0;\n  var i = s.length,\n      mi = false,\n      sh = 0;\n\n  while (--i >= 0) {\n    var x = intAt(s, i);\n\n    if (x < 0) {\n      if (s.charAt(i) == '-') mi = true;\n      continue;\n    }\n\n    mi = false;\n    if (sh == 0) this[this.t++] = x;else if (sh + k > this.DB) {\n      this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;\n      this[this.t++] = x >> this.DB - sh;\n    } else this[this.t - 1] |= x << sh;\n    sh += k;\n    if (sh >= this.DB) sh -= this.DB;\n  }\n\n  this.clamp();\n  if (mi) BigInteger.ZERO.subTo(this, this);\n} // (protected) clamp off excess high words\n\n\nfunction bnpClamp() {\n  var c = this.s & this.DM;\n\n  while (this.t > 0 && this[this.t - 1] == c) {\n    --this.t;\n  }\n} // (public) return string representation in given radix\n\n\nfunction bnToString(b) {\n  if (this.s < 0) return '-' + this.negate().toString(b);\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error('Only radix 2, 4, 8, 16, 32 are supported');\n  var km = (1 << k) - 1,\n      d,\n      m = false,\n      r = '',\n      i = this.t;\n  var p = this.DB - i * this.DB % k;\n\n  if (i-- > 0) {\n    if (p < this.DB && (d = this[i] >> p) > 0) {\n      m = true;\n      r = int2char(d);\n    }\n\n    while (i >= 0) {\n      if (p < k) {\n        d = (this[i] & (1 << p) - 1) << k - p;\n        d |= this[--i] >> (p += this.DB - k);\n      } else {\n        d = this[i] >> (p -= k) & km;\n\n        if (p <= 0) {\n          p += this.DB;\n          --i;\n        }\n      }\n\n      if (d > 0) m = true;\n      if (m) r += int2char(d);\n    }\n  }\n\n  return m ? r : '0';\n} // (public) -this\n\n\nfunction bnNegate() {\n  var r = nbi();\n  BigInteger.ZERO.subTo(this, r);\n  return r;\n} // (public) |this|\n\n\nfunction bnAbs() {\n  return this.s < 0 ? this.negate() : this;\n} // (public) return + if this > a, - if this < a, 0 if equal\n\n\nfunction bnCompareTo(a) {\n  var r = this.s - a.s;\n  if (r != 0) return r;\n  var i = this.t;\n  r = i - a.t;\n  if (r != 0) return this.s < 0 ? -r : r;\n\n  while (--i >= 0) {\n    if ((r = this[i] - a[i]) != 0) return r;\n  }\n\n  return 0;\n} // returns bit length of the integer x\n\n\nfunction nbits(x) {\n  var r = 1,\n      t;\n\n  if ((t = x >>> 16) != 0) {\n    x = t;\n    r += 16;\n  }\n\n  if ((t = x >> 8) != 0) {\n    x = t;\n    r += 8;\n  }\n\n  if ((t = x >> 4) != 0) {\n    x = t;\n    r += 4;\n  }\n\n  if ((t = x >> 2) != 0) {\n    x = t;\n    r += 2;\n  }\n\n  if ((t = x >> 1) != 0) {\n    x = t;\n    r += 1;\n  }\n\n  return r;\n} // (public) return the number of bits in \"this\"\n\n\nfunction bnBitLength() {\n  if (this.t <= 0) return 0;\n  return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);\n} // (protected) r = this << n*DB\n\n\nfunction bnpDLShiftTo(n, r) {\n  var i;\n\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + n] = this[i];\n  }\n\n  for (i = n - 1; i >= 0; --i) {\n    r[i] = 0;\n  }\n\n  r.t = this.t + n;\n  r.s = this.s;\n} // (protected) r = this >> n*DB\n\n\nfunction bnpDRShiftTo(n, r) {\n  for (var i = n; i < this.t; ++i) {\n    r[i - n] = this[i];\n  }\n\n  r.t = Math.max(this.t - n, 0);\n  r.s = this.s;\n} // (protected) r = this << n\n\n\nfunction bnpLShiftTo(n, r) {\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << cbs) - 1;\n  var ds = Math.floor(n / this.DB),\n      c = this.s << bs & this.DM,\n      i;\n\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + ds + 1] = this[i] >> cbs | c;\n    c = (this[i] & bm) << bs;\n  }\n\n  for (i = ds - 1; i >= 0; --i) {\n    r[i] = 0;\n  }\n\n  r[ds] = c;\n  r.t = this.t + ds + 1;\n  r.s = this.s;\n  r.clamp();\n} // (protected) r = this >> n\n\n\nfunction bnpRShiftTo(n, r) {\n  r.s = this.s;\n  var ds = Math.floor(n / this.DB);\n\n  if (ds >= this.t) {\n    r.t = 0;\n    return;\n  }\n\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << bs) - 1;\n  r[0] = this[ds] >> bs;\n\n  for (var i = ds + 1; i < this.t; ++i) {\n    r[i - ds - 1] |= (this[i] & bm) << cbs;\n    r[i - ds] = this[i] >> bs;\n  }\n\n  if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n  r.t = this.t - ds;\n  r.clamp();\n} // (protected) r = this - a\n\n\nfunction bnpSubTo(a, r) {\n  var i = 0,\n      c = 0,\n      m = Math.min(a.t, this.t);\n\n  while (i < m) {\n    c += this[i] - a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n\n  if (a.t < this.t) {\n    c -= a.s;\n\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c += this.s;\n  } else {\n    c += this.s;\n\n    while (i < a.t) {\n      c -= a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c -= a.s;\n  }\n\n  r.s = c < 0 ? -1 : 0;\n  if (c < -1) r[i++] = this.DV + c;else if (c > 0) r[i++] = c;\n  r.t = i;\n  r.clamp();\n} // (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\n\n\nfunction bnpMultiplyTo(a, r) {\n  var x = this.abs(),\n      y = a.abs();\n  var i = x.t;\n  r.t = i + y.t;\n\n  while (--i >= 0) {\n    r[i] = 0;\n  }\n\n  for (i = 0; i < y.t; ++i) {\n    r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n  }\n\n  r.s = 0;\n  r.clamp();\n  if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n} // (protected) r = this^2, r != this (HAC 14.16)\n\n\nfunction bnpSquareTo(r) {\n  var x = this.abs();\n  var i = r.t = 2 * x.t;\n\n  while (--i >= 0) {\n    r[i] = 0;\n  }\n\n  for (i = 0; i < x.t - 1; ++i) {\n    var c = x.am(i, x[i], r, 2 * i, 0, 1);\n\n    if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n      r[i + x.t] -= x.DV;\n      r[i + x.t + 1] = 1;\n    }\n  }\n\n  if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n  r.s = 0;\n  r.clamp();\n} // (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\n\n\nfunction bnpDivRemTo(m, q, r) {\n  var pm = m.abs();\n  if (pm.t <= 0) return;\n  var pt = this.abs();\n\n  if (pt.t < pm.t) {\n    if (q != null) q.fromInt(0);\n    if (r != null) this.copyTo(r);\n    return;\n  }\n\n  if (r == null) r = nbi();\n  var y = nbi(),\n      ts = this.s,\n      ms = m.s;\n  var nsh = this.DB - nbits(pm[pm.t - 1]); // normalize modulus\n\n  if (nsh > 0) {\n    pm.lShiftTo(nsh, y);\n    pt.lShiftTo(nsh, r);\n  } else {\n    pm.copyTo(y);\n    pt.copyTo(r);\n  }\n\n  var ys = y.t;\n  var y0 = y[ys - 1];\n  if (y0 == 0) return;\n  var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);\n  var d1 = this.FV / yt,\n      d2 = (1 << this.F1) / yt,\n      e = 1 << this.F2;\n  var i = r.t,\n      j = i - ys,\n      t = q == null ? nbi() : q;\n  y.dlShiftTo(j, t);\n\n  if (r.compareTo(t) >= 0) {\n    r[r.t++] = 1;\n    r.subTo(t, r);\n  }\n\n  BigInteger.ONE.dlShiftTo(ys, t);\n  t.subTo(y, y); // \"negative\" y so we can replace sub with am later\n\n  while (y.t < ys) {\n    y[y.t++] = 0;\n  }\n\n  while (--j >= 0) {\n    // Estimate quotient digit\n    var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n\n    if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\n      // Try it out\n      y.dlShiftTo(j, t);\n      r.subTo(t, r);\n\n      while (r[i] < --qd) {\n        r.subTo(t, r);\n      }\n    }\n  }\n\n  if (q != null) {\n    r.drShiftTo(ys, q);\n    if (ts != ms) BigInteger.ZERO.subTo(q, q);\n  }\n\n  r.t = ys;\n  r.clamp();\n  if (nsh > 0) r.rShiftTo(nsh, r); // Denormalize remainder\n\n  if (ts < 0) BigInteger.ZERO.subTo(r, r);\n} // (public) this mod a\n\n\nfunction bnMod(a) {\n  var r = nbi();\n  this.abs().divRemTo(a, null, r);\n  if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n  return r;\n} // (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\n\n\nfunction bnpInvDigit() {\n  if (this.t < 1) return 0;\n  var x = this[0];\n  if ((x & 1) == 0) return 0;\n  var y = x & 3; // y == 1/x mod 2^2\n\n  y = y * (2 - (x & 0xf) * y) & 0xf; // y == 1/x mod 2^4\n\n  y = y * (2 - (x & 0xff) * y) & 0xff; // y == 1/x mod 2^8\n\n  y = y * (2 - ((x & 0xffff) * y & 0xffff)) & 0xffff; // y == 1/x mod 2^16\n  // last step - calculate inverse mod DV directly;\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n\n  y = y * (2 - x * y % this.DV) % this.DV; // y == 1/x mod 2^dbits\n  // we really want the negative inverse, and -DV < y < DV\n\n  return y > 0 ? this.DV - y : -y;\n}\n\nfunction bnEquals(a) {\n  return this.compareTo(a) == 0;\n} // (protected) r = this + a\n\n\nfunction bnpAddTo(a, r) {\n  var i = 0,\n      c = 0,\n      m = Math.min(a.t, this.t);\n\n  while (i < m) {\n    c += this[i] + a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n\n  if (a.t < this.t) {\n    c += a.s;\n\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c += this.s;\n  } else {\n    c += this.s;\n\n    while (i < a.t) {\n      c += a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c += a.s;\n  }\n\n  r.s = c < 0 ? -1 : 0;\n  if (c > 0) r[i++] = c;else if (c < -1) r[i++] = this.DV + c;\n  r.t = i;\n  r.clamp();\n} // (public) this + a\n\n\nfunction bnAdd(a) {\n  var r = nbi();\n  this.addTo(a, r);\n  return r;\n} // (public) this - a\n\n\nfunction bnSubtract(a) {\n  var r = nbi();\n  this.subTo(a, r);\n  return r;\n} // (public) this * a\n\n\nfunction bnMultiply(a) {\n  var r = nbi();\n  this.multiplyTo(a, r);\n  return r;\n} // (public) this / a\n\n\nfunction bnDivide(a) {\n  var r = nbi();\n  this.divRemTo(a, r, null);\n  return r;\n} // Montgomery reduction\n\n\nfunction Montgomery(m) {\n  this.m = m;\n  this.mp = m.invDigit();\n  this.mpl = this.mp & 0x7fff;\n  this.mph = this.mp >> 15;\n  this.um = (1 << m.DB - 15) - 1;\n  this.mt2 = 2 * m.t;\n} // xR mod m\n\n\nfunction montConvert(x) {\n  var r = nbi();\n  x.abs().dlShiftTo(this.m.t, r);\n  r.divRemTo(this.m, null, r);\n  if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n  return r;\n} // x/R mod m\n\n\nfunction montRevert(x) {\n  var r = nbi();\n  x.copyTo(r);\n  this.reduce(r);\n  return r;\n} // x = x/R mod m (HAC 14.32)\n\n\nfunction montReduce(x) {\n  while (x.t <= this.mt2) {\n    // pad x so am has enough room later\n    x[x.t++] = 0;\n  }\n\n  for (var i = 0; i < this.m.t; ++i) {\n    // faster way of calculating u0 = x[i]*mp mod DV\n    var j = x[i] & 0x7fff;\n    var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM; // use am to combine the multiply-shift-add into one call\n\n    j = i + this.m.t;\n    x[j] += this.m.am(0, u0, x, i, 0, this.m.t); // propagate carry\n\n    while (x[j] >= x.DV) {\n      x[j] -= x.DV;\n      x[++j]++;\n    }\n  }\n\n  x.clamp();\n  x.drShiftTo(this.m.t, x);\n  if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n} // r = \"x^2/R mod m\"; x != r\n\n\nfunction montSqrTo(x, r) {\n  x.squareTo(r);\n  this.reduce(r);\n} // r = \"xy/R mod m\"; x,y != r\n\n\nfunction montMulTo(x, y, r) {\n  x.multiplyTo(y, r);\n  this.reduce(r);\n}\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo; // (public) this^e % m (HAC 14.85)\n\nfunction bnModPow(e, m, callback) {\n  var i = e.bitLength(),\n      k,\n      r = nbv(1),\n      z = new Montgomery(m);\n  if (i <= 0) return r;else if (i < 18) k = 1;else if (i < 48) k = 3;else if (i < 144) k = 4;else if (i < 768) k = 5;else k = 6; // precomputation\n\n  var g = new Array(),\n      n = 3,\n      k1 = k - 1,\n      km = (1 << k) - 1;\n  g[1] = z.convert(this);\n\n  if (k > 1) {\n    var g2 = nbi();\n    z.sqrTo(g[1], g2);\n\n    while (n <= km) {\n      g[n] = nbi();\n      z.mulTo(g2, g[n - 2], g[n]);\n      n += 2;\n    }\n  }\n\n  var j = e.t - 1,\n      w,\n      is1 = true,\n      r2 = nbi(),\n      t;\n  i = nbits(e[j]) - 1;\n\n  while (j >= 0) {\n    if (i >= k1) w = e[j] >> i - k1 & km;else {\n      w = (e[j] & (1 << i + 1) - 1) << k1 - i;\n      if (j > 0) w |= e[j - 1] >> this.DB + i - k1;\n    }\n    n = k;\n\n    while ((w & 1) == 0) {\n      w >>= 1;\n      --n;\n    }\n\n    if ((i -= n) < 0) {\n      i += this.DB;\n      --j;\n    }\n\n    if (is1) {\n      // ret == 1, don't bother squaring or multiplying it\n      g[w].copyTo(r);\n      is1 = false;\n    } else {\n      while (n > 1) {\n        z.sqrTo(r, r2);\n        z.sqrTo(r2, r);\n        n -= 2;\n      }\n\n      if (n > 0) z.sqrTo(r, r2);else {\n        t = r;\n        r = r2;\n        r2 = t;\n      }\n      z.mulTo(r2, g[w], r);\n    }\n\n    while (j >= 0 && (e[j] & 1 << i) == 0) {\n      z.sqrTo(r, r2);\n      t = r;\n      r = r2;\n      r2 = t;\n\n      if (--i < 0) {\n        i = this.DB - 1;\n        --j;\n      }\n    }\n  }\n\n  var result = z.revert(r);\n  callback(null, result);\n  return result;\n} // protected\n\n\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.addTo = bnpAddTo; // public\n\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.modPow = bnModPow; // \"constants\"\n\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { Buffer } from 'buffer';\nimport CryptoJS from 'crypto-js/core';\nimport 'crypto-js/lib-typedarrays'; // necessary for crypto js\n\nimport SHA256 from 'crypto-js/sha256';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\nimport WordArray from './utils/WordArray';\n/**\n * Returns a Buffer with a sequence of random nBytes\n *\n * @param {number} nBytes\n * @returns {Buffer} fixed-length sequence of random bytes\n */\n\nfunction randomBytes(nBytes) {\n  return Buffer.from(new WordArray().random(nBytes).toString(), 'hex');\n}\n\nimport BigInteger from './BigInteger';\n/**\n * Tests if a hex string has it most significant bit set (case-insensitive regex)\n */\n\nvar HEX_MSB_REGEX = /^[89a-f]/i;\nvar initN = 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD1' + '29024E088A67CC74020BBEA63B139B22514A08798E3404DD' + 'EF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245' + 'E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7ED' + 'EE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3D' + 'C2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F' + '83655D23DCA3AD961C62F356208552BB9ED529077096966D' + '670C354E4ABC9804F1746C08CA18217C32905E462E36CE3B' + 'E39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9' + 'DE2BCBF6955817183995497CEA956AE515D2261898FA0510' + '15728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64' + 'ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7' + 'ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6B' + 'F12FFA06D98A0864D87602733EC86A64521F2B18177B200C' + 'BBE117577A615D6C770988C0BAD946E208E24FA074E5AB31' + '43DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF';\nvar newPasswordRequiredChallengeUserAttributePrefix = 'userAttributes.';\n/** @class */\n\nvar AuthenticationHelper = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AuthenticationHelper object\n   * @param {string} PoolName Cognito user pool name.\n   */\n  function AuthenticationHelper(PoolName) {\n    this.N = new BigInteger(initN, 16);\n    this.g = new BigInteger('2', 16);\n    this.k = new BigInteger(this.hexHash(\"\" + this.padHex(this.N) + this.padHex(this.g)), 16);\n    this.smallAValue = this.generateRandomSmallA();\n    this.getLargeAValue(function () {});\n    this.infoBits = Buffer.from('Caldera Derived Key', 'utf8');\n    this.poolName = PoolName;\n  }\n  /**\n   * @returns {BigInteger} small A, a random number\n   */\n\n\n  var _proto = AuthenticationHelper.prototype;\n\n  _proto.getSmallAValue = function getSmallAValue() {\n    return this.smallAValue;\n  }\n  /**\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   */\n  ;\n\n  _proto.getLargeAValue = function getLargeAValue(callback) {\n    var _this = this;\n\n    if (this.largeAValue) {\n      callback(null, this.largeAValue);\n    } else {\n      this.calculateA(this.smallAValue, function (err, largeAValue) {\n        if (err) {\n          callback(err, null);\n        }\n\n        _this.largeAValue = largeAValue;\n        callback(null, _this.largeAValue);\n      });\n    }\n  }\n  /**\n   * helper function to generate a random big integer\n   * @returns {BigInteger} a random value.\n   * @private\n   */\n  ;\n\n  _proto.generateRandomSmallA = function generateRandomSmallA() {\n    // This will be interpreted as a postive 128-bit integer\n    var hexRandom = randomBytes(128).toString('hex');\n    var randomBigInt = new BigInteger(hexRandom, 16); // There is no need to do randomBigInt.mod(this.N - 1) as N (3072-bit) is > 128 bytes (1024-bit)\n\n    return randomBigInt;\n  }\n  /**\n   * helper function to generate a random string\n   * @returns {string} a random value.\n   * @private\n   */\n  ;\n\n  _proto.generateRandomString = function generateRandomString() {\n    return randomBytes(40).toString('base64');\n  }\n  /**\n   * @returns {string} Generated random value included in password hash.\n   */\n  ;\n\n  _proto.getRandomPassword = function getRandomPassword() {\n    return this.randomPassword;\n  }\n  /**\n   * @returns {string} Generated random value included in devices hash.\n   */\n  ;\n\n  _proto.getSaltDevices = function getSaltDevices() {\n    return this.SaltToHashDevices;\n  }\n  /**\n   * @returns {string} Value used to verify devices.\n   */\n  ;\n\n  _proto.getVerifierDevices = function getVerifierDevices() {\n    return this.verifierDevices;\n  }\n  /**\n   * Generate salts and compute verifier.\n   * @param {string} deviceGroupKey Devices to generate verifier for.\n   * @param {string} username User to generate verifier for.\n   * @param {nodeCallback<null>} callback Called with (err, null)\n   * @returns {void}\n   */\n  ;\n\n  _proto.generateHashDevice = function generateHashDevice(deviceGroupKey, username, callback) {\n    var _this2 = this;\n\n    this.randomPassword = this.generateRandomString();\n    var combinedString = \"\" + deviceGroupKey + username + \":\" + this.randomPassword;\n    var hashedString = this.hash(combinedString);\n    var hexRandom = randomBytes(16).toString('hex'); // The random hex will be unambiguously represented as a postive integer\n\n    this.SaltToHashDevices = this.padHex(new BigInteger(hexRandom, 16));\n    this.g.modPow(new BigInteger(this.hexHash(this.SaltToHashDevices + hashedString), 16), this.N, function (err, verifierDevicesNotPadded) {\n      if (err) {\n        callback(err, null);\n      }\n\n      _this2.verifierDevices = _this2.padHex(verifierDevicesNotPadded);\n      callback(null, null);\n    });\n  }\n  /**\n   * Calculate the client's public value A = g^a%N\n   * with the generated random number a\n   * @param {BigInteger} a Randomly generated small A.\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   * @private\n   */\n  ;\n\n  _proto.calculateA = function calculateA(a, callback) {\n    var _this3 = this;\n\n    this.g.modPow(a, this.N, function (err, A) {\n      if (err) {\n        callback(err, null);\n      }\n\n      if (A.mod(_this3.N).equals(BigInteger.ZERO)) {\n        callback(new Error('Illegal paramater. A mod N cannot be 0.'), null);\n      }\n\n      callback(null, A);\n    });\n  }\n  /**\n   * Calculate the client's value U which is the hash of A and B\n   * @param {BigInteger} A Large A value.\n   * @param {BigInteger} B Server B value.\n   * @returns {BigInteger} Computed U value.\n   * @private\n   */\n  ;\n\n  _proto.calculateU = function calculateU(A, B) {\n    this.UHexHash = this.hexHash(this.padHex(A) + this.padHex(B));\n    var finalU = new BigInteger(this.UHexHash, 16);\n    return finalU;\n  }\n  /**\n   * Calculate a hash from a bitArray\n   * @param {Buffer} buf Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */\n  ;\n\n  _proto.hash = function hash(buf) {\n    var str = buf instanceof Buffer ? CryptoJS.lib.WordArray.create(buf) : buf;\n    var hashHex = SHA256(str).toString();\n    return new Array(64 - hashHex.length).join('0') + hashHex;\n  }\n  /**\n   * Calculate a hash from a hex string\n   * @param {String} hexStr Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */\n  ;\n\n  _proto.hexHash = function hexHash(hexStr) {\n    return this.hash(Buffer.from(hexStr, 'hex'));\n  }\n  /**\n   * Standard hkdf algorithm\n   * @param {Buffer} ikm Input key material.\n   * @param {Buffer} salt Salt value.\n   * @returns {Buffer} Strong key material.\n   * @private\n   */\n  ;\n\n  _proto.computehkdf = function computehkdf(ikm, salt) {\n    var infoBitsWordArray = CryptoJS.lib.WordArray.create(Buffer.concat([this.infoBits, Buffer.from(String.fromCharCode(1), 'utf8')]));\n    var ikmWordArray = ikm instanceof Buffer ? CryptoJS.lib.WordArray.create(ikm) : ikm;\n    var saltWordArray = salt instanceof Buffer ? CryptoJS.lib.WordArray.create(salt) : salt;\n    var prk = HmacSHA256(ikmWordArray, saltWordArray);\n    var hmac = HmacSHA256(infoBitsWordArray, prk);\n    return Buffer.from(hmac.toString(), 'hex').slice(0, 16);\n  }\n  /**\n   * Calculates the final hkdf based on computed S value, and computed U value and the key\n   * @param {String} username Username.\n   * @param {String} password Password.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {BigInteger} salt Generated salt.\n   * @param {nodeCallback<Buffer>} callback Called with (err, hkdfValue)\n   * @returns {void}\n   */\n  ;\n\n  _proto.getPasswordAuthenticationKey = function getPasswordAuthenticationKey(username, password, serverBValue, salt, callback) {\n    var _this4 = this;\n\n    if (serverBValue.mod(this.N).equals(BigInteger.ZERO)) {\n      throw new Error('B cannot be zero.');\n    }\n\n    this.UValue = this.calculateU(this.largeAValue, serverBValue);\n\n    if (this.UValue.equals(BigInteger.ZERO)) {\n      throw new Error('U cannot be zero.');\n    }\n\n    var usernamePassword = \"\" + this.poolName + username + \":\" + password;\n    var usernamePasswordHash = this.hash(usernamePassword);\n    var xValue = new BigInteger(this.hexHash(this.padHex(salt) + usernamePasswordHash), 16);\n    this.calculateS(xValue, serverBValue, function (err, sValue) {\n      if (err) {\n        callback(err, null);\n      }\n\n      var hkdf = _this4.computehkdf(Buffer.from(_this4.padHex(sValue), 'hex'), Buffer.from(_this4.padHex(_this4.UValue), 'hex'));\n\n      callback(null, hkdf);\n    });\n  }\n  /**\n   * Calculates the S value used in getPasswordAuthenticationKey\n   * @param {BigInteger} xValue Salted password hash value.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.calculateS = function calculateS(xValue, serverBValue, callback) {\n    var _this5 = this;\n\n    this.g.modPow(xValue, this.N, function (err, gModPowXN) {\n      if (err) {\n        callback(err, null);\n      }\n\n      var intValue2 = serverBValue.subtract(_this5.k.multiply(gModPowXN));\n      intValue2.modPow(_this5.smallAValue.add(_this5.UValue.multiply(xValue)), _this5.N, function (err2, result) {\n        if (err2) {\n          callback(err2, null);\n        }\n\n        callback(null, result.mod(_this5.N));\n      });\n    });\n  }\n  /**\n   * Return constant newPasswordRequiredChallengeUserAttributePrefix\n   * @return {newPasswordRequiredChallengeUserAttributePrefix} constant prefix value\n   */\n  ;\n\n  _proto.getNewPasswordRequiredChallengeUserAttributePrefix = function getNewPasswordRequiredChallengeUserAttributePrefix() {\n    return newPasswordRequiredChallengeUserAttributePrefix;\n  }\n  /**\n   * Returns an unambiguous, even-length hex string of the two's complement encoding of an integer.\n   *\n   * It is compatible with the hex encoding of Java's BigInteger's toByteArray(), wich returns a\n   * byte array containing the two's-complement representation of a BigInteger. The array contains\n   * the minimum number of bytes required to represent the BigInteger, including at least one sign bit.\n   *\n   * Examples showing how ambiguity is avoided by left padding with:\n   * \t\"00\" (for positive values where the most-significant-bit is set)\n   *  \"FF\" (for negative values where the most-significant-bit is set)\n   *\n   * padHex(bigInteger.fromInt(-236))  === \"FF14\"\n   * padHex(bigInteger.fromInt(20))    === \"14\"\n   *\n   * padHex(bigInteger.fromInt(-200))  === \"FF38\"\n   * padHex(bigInteger.fromInt(56))    === \"38\"\n   *\n   * padHex(bigInteger.fromInt(-20))   === \"EC\"\n   * padHex(bigInteger.fromInt(236))   === \"00EC\"\n   *\n   * padHex(bigInteger.fromInt(-56))   === \"C8\"\n   * padHex(bigInteger.fromInt(200))   === \"00C8\"\n   *\n   * @param {BigInteger} bigInt Number to encode.\n   * @returns {String} even-length hex string of the two's complement encoding.\n   */\n  ;\n\n  _proto.padHex = function padHex(bigInt) {\n    if (!(bigInt instanceof BigInteger)) {\n      throw new Error('Not a BigInteger');\n    }\n\n    var isNegative = bigInt.compareTo(BigInteger.ZERO) < 0;\n    /* Get a hex string for abs(bigInt) */\n\n    var hexStr = bigInt.abs().toString(16);\n    /* Pad hex to even length if needed */\n\n    hexStr = hexStr.length % 2 !== 0 ? \"0\" + hexStr : hexStr;\n    /* Prepend \"00\" if the most significant bit is set */\n\n    hexStr = HEX_MSB_REGEX.test(hexStr) ? \"00\" + hexStr : hexStr;\n\n    if (isNegative) {\n      /* Flip the bits of the representation */\n      var invertedNibbles = hexStr.split('').map(function (x) {\n        var invertedNibble = ~parseInt(x, 16) & 0xf;\n        return '0123456789ABCDEF'.charAt(invertedNibble);\n      }).join('');\n      /* After flipping the bits, add one to get the 2's complement representation */\n\n      var flippedBitsBI = new BigInteger(invertedNibbles, 16).add(BigInteger.ONE);\n      hexStr = flippedBitsBI.toString(16);\n      /*\n      For hex strings starting with 'FF8', 'FF' can be dropped, e.g. 0xFFFF80=0xFF80=0x80=-128\n      \t\tAny sequence of '1' bits on the left can always be substituted with a single '1' bit\n      without changing the represented value.\n      \t\tThis only happens in the case when the input is 80...00\n      */\n\n      if (hexStr.toUpperCase().startsWith('FF8')) {\n        hexStr = hexStr.substring(2);\n      }\n    }\n\n    return hexStr;\n  };\n\n  return AuthenticationHelper;\n}();\n\nexport { AuthenticationHelper as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { Buffer } from 'buffer';\n/** @class */\n\nvar CognitoJwtToken = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoJwtToken object\n   * @param {string=} token The JWT token.\n   */\n  function CognitoJwtToken(token) {\n    // Assign object\n    this.jwtToken = token || '';\n    this.payload = this.decodePayload();\n  }\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  var _proto = CognitoJwtToken.prototype;\n\n  _proto.getJwtToken = function getJwtToken() {\n    return this.jwtToken;\n  }\n  /**\n   * @returns {int} the token's expiration (exp member).\n   */\n  ;\n\n  _proto.getExpiration = function getExpiration() {\n    return this.payload.exp;\n  }\n  /**\n   * @returns {int} the token's \"issued at\" (iat member).\n   */\n  ;\n\n  _proto.getIssuedAt = function getIssuedAt() {\n    return this.payload.iat;\n  }\n  /**\n   * @returns {object} the token's payload.\n   */\n  ;\n\n  _proto.decodePayload = function decodePayload() {\n    var payload = this.jwtToken.split('.')[1];\n\n    try {\n      return JSON.parse(Buffer.from(payload, 'base64').toString('utf8'));\n    } catch (err) {\n      return {};\n    }\n  };\n\n  return CognitoJwtToken;\n}();\n\nexport { CognitoJwtToken as default };","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport CognitoJwtToken from './CognitoJwtToken';\n/** @class */\n\nvar CognitoAccessToken = /*#__PURE__*/function (_CognitoJwtToken) {\n  _inheritsLoose(CognitoAccessToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoAccessToken object\n   * @param {string=} AccessToken The JWT access token.\n   */\n  function CognitoAccessToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        AccessToken = _ref.AccessToken;\n\n    return _CognitoJwtToken.call(this, AccessToken || '') || this;\n  }\n\n  return CognitoAccessToken;\n}(CognitoJwtToken);\n\nexport { CognitoAccessToken as default };","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport CognitoJwtToken from './CognitoJwtToken';\n/** @class */\n\nvar CognitoIdToken = /*#__PURE__*/function (_CognitoJwtToken) {\n  _inheritsLoose(CognitoIdToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoIdToken object\n   * @param {string=} IdToken The JWT Id token\n   */\n  function CognitoIdToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        IdToken = _ref.IdToken;\n\n    return _CognitoJwtToken.call(this, IdToken || '') || this;\n  }\n\n  return CognitoIdToken;\n}(CognitoJwtToken);\n\nexport { CognitoIdToken as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/** @class */\nvar CognitoRefreshToken = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoRefreshToken object\n   * @param {string=} RefreshToken The JWT refresh token.\n   */\n  function CognitoRefreshToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        RefreshToken = _ref.RefreshToken;\n\n    // Assign object\n    this.token = RefreshToken || '';\n  }\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  var _proto = CognitoRefreshToken.prototype;\n\n  _proto.getToken = function getToken() {\n    return this.token;\n  };\n\n  return CognitoRefreshToken;\n}();\n\nexport { CognitoRefreshToken as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/** @class */\nvar CognitoUserSession = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserSession object\n   * @param {CognitoIdToken} IdToken The session's Id token.\n   * @param {CognitoRefreshToken=} RefreshToken The session's refresh token.\n   * @param {CognitoAccessToken} AccessToken The session's access token.\n   * @param {int} ClockDrift The saved computer's clock drift or undefined to force calculation.\n   */\n  function CognitoUserSession(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        IdToken = _ref.IdToken,\n        RefreshToken = _ref.RefreshToken,\n        AccessToken = _ref.AccessToken,\n        ClockDrift = _ref.ClockDrift;\n\n    if (AccessToken == null || IdToken == null) {\n      throw new Error('Id token and Access Token must be present.');\n    }\n\n    this.idToken = IdToken;\n    this.refreshToken = RefreshToken;\n    this.accessToken = AccessToken;\n    this.clockDrift = ClockDrift === undefined ? this.calculateClockDrift() : ClockDrift;\n  }\n  /**\n   * @returns {CognitoIdToken} the session's Id token\n   */\n\n\n  var _proto = CognitoUserSession.prototype;\n\n  _proto.getIdToken = function getIdToken() {\n    return this.idToken;\n  }\n  /**\n   * @returns {CognitoRefreshToken} the session's refresh token\n   */\n  ;\n\n  _proto.getRefreshToken = function getRefreshToken() {\n    return this.refreshToken;\n  }\n  /**\n   * @returns {CognitoAccessToken} the session's access token\n   */\n  ;\n\n  _proto.getAccessToken = function getAccessToken() {\n    return this.accessToken;\n  }\n  /**\n   * @returns {int} the session's clock drift\n   */\n  ;\n\n  _proto.getClockDrift = function getClockDrift() {\n    return this.clockDrift;\n  }\n  /**\n   * @returns {int} the computer's clock drift\n   */\n  ;\n\n  _proto.calculateClockDrift = function calculateClockDrift() {\n    var now = Math.floor(new Date() / 1000);\n    var iat = Math.min(this.accessToken.getIssuedAt(), this.idToken.getIssuedAt());\n    return now - iat;\n  }\n  /**\n   * Checks to see if the session is still valid based on session expiry information found\n   * in tokens and the current time (adjusted with clock drift)\n   * @returns {boolean} if the session is still valid\n   */\n  ;\n\n  _proto.isValid = function isValid() {\n    var now = Math.floor(new Date() / 1000);\n    var adjusted = now - this.clockDrift;\n    return adjusted < this.accessToken.getExpiration() && adjusted < this.idToken.getExpiration();\n  };\n\n  return CognitoUserSession;\n}();\n\nexport { CognitoUserSession as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nvar weekNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n/** @class */\n\nvar DateHelper = /*#__PURE__*/function () {\n  function DateHelper() {}\n\n  var _proto = DateHelper.prototype;\n\n  /**\n   * @returns {string} The current time in \"ddd MMM D HH:mm:ss UTC YYYY\" format.\n   */\n  _proto.getNowString = function getNowString() {\n    var now = new Date();\n    var weekDay = weekNames[now.getUTCDay()];\n    var month = monthNames[now.getUTCMonth()];\n    var day = now.getUTCDate();\n    var hours = now.getUTCHours();\n\n    if (hours < 10) {\n      hours = \"0\" + hours;\n    }\n\n    var minutes = now.getUTCMinutes();\n\n    if (minutes < 10) {\n      minutes = \"0\" + minutes;\n    }\n\n    var seconds = now.getUTCSeconds();\n\n    if (seconds < 10) {\n      seconds = \"0\" + seconds;\n    }\n\n    var year = now.getUTCFullYear(); // ddd MMM D HH:mm:ss UTC YYYY\n\n    var dateNow = weekDay + \" \" + month + \" \" + day + \" \" + hours + \":\" + minutes + \":\" + seconds + \" UTC \" + year;\n    return dateNow;\n  };\n\n  return DateHelper;\n}();\n\nexport { DateHelper as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/** @class */\nvar CognitoUserAttribute = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserAttribute object\n   * @param {string=} Name The record's name\n   * @param {string=} Value The record's value\n   */\n  function CognitoUserAttribute(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        Name = _ref.Name,\n        Value = _ref.Value;\n\n    this.Name = Name || '';\n    this.Value = Value || '';\n  }\n  /**\n   * @returns {string} the record's value.\n   */\n\n\n  var _proto = CognitoUserAttribute.prototype;\n\n  _proto.getValue = function getValue() {\n    return this.Value;\n  }\n  /**\n   * Sets the record's value.\n   * @param {string} value The new value.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */\n  ;\n\n  _proto.setValue = function setValue(value) {\n    this.Value = value;\n    return this;\n  }\n  /**\n   * @returns {string} the record's name.\n   */\n  ;\n\n  _proto.getName = function getName() {\n    return this.Name;\n  }\n  /**\n   * Sets the record's name\n   * @param {string} name The new name.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */\n  ;\n\n  _proto.setName = function setName(name) {\n    this.Name = name;\n    return this;\n  }\n  /**\n   * @returns {string} a string representation of the record.\n   */\n  ;\n\n  _proto.toString = function toString() {\n    return JSON.stringify(this);\n  }\n  /**\n   * @returns {object} a flat object representing the record.\n   */\n  ;\n\n  _proto.toJSON = function toJSON() {\n    return {\n      Name: this.Name,\n      Value: this.Value\n    };\n  };\n\n  return CognitoUserAttribute;\n}();\n\nexport { CognitoUserAttribute as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar dataMemory = {};\n/** @class */\n\nexport var MemoryStorage = /*#__PURE__*/function () {\n  function MemoryStorage() {}\n\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n  MemoryStorage.setItem = function setItem(key, value) {\n    dataMemory[key] = value;\n    return dataMemory[key];\n  }\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n  ;\n\n  MemoryStorage.getItem = function getItem(key) {\n    return Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;\n  }\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {boolean} return true\n   */\n  ;\n\n  MemoryStorage.removeItem = function removeItem(key) {\n    return delete dataMemory[key];\n  }\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n  ;\n\n  MemoryStorage.clear = function clear() {\n    dataMemory = {};\n    return dataMemory;\n  };\n\n  return MemoryStorage;\n}();\n/** @class */\n\nvar StorageHelper = /*#__PURE__*/function () {\n  /**\n   * This is used to get a storage object\n   * @returns {object} the storage\n   */\n  function StorageHelper() {\n    try {\n      this.storageWindow = window.localStorage;\n      this.storageWindow.setItem('aws.cognito.test-ls', 1);\n      this.storageWindow.removeItem('aws.cognito.test-ls');\n    } catch (exception) {\n      this.storageWindow = MemoryStorage;\n    }\n  }\n  /**\n   * This is used to return the storage\n   * @returns {object} the storage\n   */\n\n\n  var _proto = StorageHelper.prototype;\n\n  _proto.getStorage = function getStorage() {\n    return this.storageWindow;\n  };\n\n  return StorageHelper;\n}();\n\nexport { StorageHelper as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { Buffer } from 'buffer';\nimport CryptoJS from 'crypto-js/core';\nimport TypedArrays from 'crypto-js/lib-typedarrays'; // necessary for crypto js\n\nimport Base64 from 'crypto-js/enc-base64';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\nimport BigInteger from './BigInteger';\nimport AuthenticationHelper from './AuthenticationHelper';\nimport CognitoAccessToken from './CognitoAccessToken';\nimport CognitoIdToken from './CognitoIdToken';\nimport CognitoRefreshToken from './CognitoRefreshToken';\nimport CognitoUserSession from './CognitoUserSession';\nimport DateHelper from './DateHelper';\nimport CognitoUserAttribute from './CognitoUserAttribute';\nimport StorageHelper from './StorageHelper';\n/**\n * @callback nodeCallback\n * @template T result\n * @param {*} err The operation failure reason, or null.\n * @param {T} result The operation result.\n */\n\n/**\n * @callback onFailure\n * @param {*} err Failure reason.\n */\n\n/**\n * @callback onSuccess\n * @template T result\n * @param {T} result The operation result.\n */\n\n/**\n * @callback mfaRequired\n * @param {*} details MFA challenge details.\n */\n\n/**\n * @callback customChallenge\n * @param {*} details Custom challenge details.\n */\n\n/**\n * @callback inputVerificationCode\n * @param {*} data Server response.\n */\n\n/**\n * @callback authSuccess\n * @param {CognitoUserSession} session The new session.\n * @param {bool=} userConfirmationNecessary User must be confirmed.\n */\n\nvar isBrowser = typeof navigator !== 'undefined';\nvar userAgent = isBrowser ? navigator.userAgent : 'nodejs';\n/** @class */\n\nvar CognitoUser = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUser object\n   * @param {object} data Creation options\n   * @param {string} data.Username The user's username.\n   * @param {CognitoUserPool} data.Pool Pool containing the user.\n   * @param {object} data.Storage Optional storage object.\n   */\n  function CognitoUser(data) {\n    if (data == null || data.Username == null || data.Pool == null) {\n      throw new Error('Username and Pool information are required.');\n    }\n\n    this.username = data.Username || '';\n    this.pool = data.Pool;\n    this.Session = null;\n    this.client = data.Pool.client;\n    this.signInUserSession = null;\n    this.authenticationFlowType = 'USER_SRP_AUTH';\n    this.storage = data.Storage || new StorageHelper().getStorage();\n    this.keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    this.userDataKey = this.keyPrefix + \".\" + this.username + \".userData\";\n  }\n  /**\n   * Sets the session for this user\n   * @param {CognitoUserSession} signInUserSession the session\n   * @returns {void}\n   */\n\n\n  var _proto = CognitoUser.prototype;\n\n  _proto.setSignInUserSession = function setSignInUserSession(signInUserSession) {\n    this.clearCachedUserData();\n    this.signInUserSession = signInUserSession;\n    this.cacheTokens();\n  }\n  /**\n   * @returns {CognitoUserSession} the current session for this user\n   */\n  ;\n\n  _proto.getSignInUserSession = function getSignInUserSession() {\n    return this.signInUserSession;\n  }\n  /**\n   * @returns {string} the user's username\n   */\n  ;\n\n  _proto.getUsername = function getUsername() {\n    return this.username;\n  }\n  /**\n   * @returns {String} the authentication flow type\n   */\n  ;\n\n  _proto.getAuthenticationFlowType = function getAuthenticationFlowType() {\n    return this.authenticationFlowType;\n  }\n  /**\n   * sets authentication flow type\n   * @param {string} authenticationFlowType New value.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setAuthenticationFlowType = function setAuthenticationFlowType(authenticationFlowType) {\n    this.authenticationFlowType = authenticationFlowType;\n  }\n  /**\n   * This is used for authenticating the user through the custom authentication flow.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.initiateAuth = function initiateAuth(authDetails, callback) {\n    var _this = this;\n\n    var authParameters = authDetails.getAuthParameters();\n    authParameters.USERNAME = this.username;\n    var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n    var jsonReq = {\n      AuthFlow: 'CUSTOM_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetaData\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('InitiateAuth', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      var challengeName = data.ChallengeName;\n      var challengeParameters = data.ChallengeParameters;\n\n      if (challengeName === 'CUSTOM_CHALLENGE') {\n        _this.Session = data.Session;\n        return callback.customChallenge(challengeParameters);\n      }\n\n      _this.signInUserSession = _this.getCognitoUserSession(data.AuthenticationResult);\n\n      _this.cacheTokens();\n\n      return callback.onSuccess(_this.signInUserSession);\n    });\n  }\n  /**\n   * This is used for authenticating the user.\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUser = function authenticateUser(authDetails, callback) {\n    if (this.authenticationFlowType === 'USER_PASSWORD_AUTH') {\n      return this.authenticateUserPlainUsernamePassword(authDetails, callback);\n    } else if (this.authenticationFlowType === 'USER_SRP_AUTH' || this.authenticationFlowType === 'CUSTOM_AUTH') {\n      return this.authenticateUserDefaultAuth(authDetails, callback);\n    }\n\n    return callback.onFailure(new Error('Authentication flow type is invalid.'));\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * It calls the AuthenticationHelper for SRP related\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUserDefaultAuth = function authenticateUserDefaultAuth(authDetails, callback) {\n    var _this2 = this;\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    var dateHelper = new DateHelper();\n    var serverBValue;\n    var salt;\n    var authParameters = {};\n\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    authParameters.USERNAME = this.username;\n    authenticationHelper.getLargeAValue(function (errOnAValue, aValue) {\n      // getLargeAValue callback start\n      if (errOnAValue) {\n        callback.onFailure(errOnAValue);\n      }\n\n      authParameters.SRP_A = aValue.toString(16);\n\n      if (_this2.authenticationFlowType === 'CUSTOM_AUTH') {\n        authParameters.CHALLENGE_NAME = 'SRP_A';\n      }\n\n      var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n      var jsonReq = {\n        AuthFlow: _this2.authenticationFlowType,\n        ClientId: _this2.pool.getClientId(),\n        AuthParameters: authParameters,\n        ClientMetadata: clientMetaData\n      };\n\n      if (_this2.getUserContextData(_this2.username)) {\n        jsonReq.UserContextData = _this2.getUserContextData(_this2.username);\n      }\n\n      _this2.client.request('InitiateAuth', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        var challengeParameters = data.ChallengeParameters;\n        _this2.username = challengeParameters.USER_ID_FOR_SRP;\n        _this2.userDataKey = _this2.keyPrefix + \".\" + _this2.username + \".userData\";\n        serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        salt = new BigInteger(challengeParameters.SALT, 16);\n\n        _this2.getCachedDeviceKeyAndPassword();\n\n        authenticationHelper.getPasswordAuthenticationKey(_this2.username, authDetails.getPassword(), serverBValue, salt, function (errOnHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errOnHkdf) {\n            callback.onFailure(errOnHkdf);\n          }\n\n          var dateNow = dateHelper.getNowString();\n          var message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this2.pool.getUserPoolId().split('_')[1], 'utf8'), Buffer.from(_this2.username, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n          var key = CryptoJS.lib.WordArray.create(hkdf);\n          var signatureString = Base64.stringify(HmacSHA256(message, key));\n          var challengeResponses = {};\n          challengeResponses.USERNAME = _this2.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n\n          if (_this2.deviceKey != null) {\n            challengeResponses.DEVICE_KEY = _this2.deviceKey;\n          }\n\n          var respondToAuthChallenge = function respondToAuthChallenge(challenge, challengeCallback) {\n            return _this2.client.request('RespondToAuthChallenge', challenge, function (errChallenge, dataChallenge) {\n              if (errChallenge && errChallenge.code === 'ResourceNotFoundException' && errChallenge.message.toLowerCase().indexOf('device') !== -1) {\n                challengeResponses.DEVICE_KEY = null;\n                _this2.deviceKey = null;\n                _this2.randomPassword = null;\n                _this2.deviceGroupKey = null;\n\n                _this2.clearCachedDeviceKeyAndPassword();\n\n                return respondToAuthChallenge(challenge, challengeCallback);\n              }\n\n              return challengeCallback(errChallenge, dataChallenge);\n            });\n          };\n\n          var jsonReqResp = {\n            ChallengeName: 'PASSWORD_VERIFIER',\n            ClientId: _this2.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session,\n            ClientMetadata: clientMetaData\n          };\n\n          if (_this2.getUserContextData()) {\n            jsonReqResp.UserContextData = _this2.getUserContextData();\n          }\n\n          respondToAuthChallenge(jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n\n            return _this2.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n          });\n          return undefined; // getPasswordAuthenticationKey callback end\n        });\n        return undefined;\n      }); // getLargeAValue callback end\n\n    });\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUserPlainUsernamePassword = function authenticateUserPlainUsernamePassword(authDetails, callback) {\n    var _this3 = this;\n\n    var authParameters = {};\n    authParameters.USERNAME = this.username;\n    authParameters.PASSWORD = authDetails.getPassword();\n\n    if (!authParameters.PASSWORD) {\n      callback.onFailure(new Error('PASSWORD parameter is required'));\n      return;\n    }\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    this.getCachedDeviceKeyAndPassword();\n\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n    var jsonReq = {\n      AuthFlow: 'USER_PASSWORD_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetaData\n    };\n\n    if (this.getUserContextData(this.username)) {\n      jsonReq.UserContextData = this.getUserContextData(this.username);\n    } // USER_PASSWORD_AUTH happens in a single round-trip: client sends userName and password,\n    // Cognito UserPools verifies password and returns tokens.\n\n\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return _this3.authenticateUserInternal(authResult, authenticationHelper, callback);\n    });\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {object} dataAuthenticate authentication data\n   * @param {object} authenticationHelper helper created\n   * @param {callback} callback passed on from caller\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUserInternal = function authenticateUserInternal(dataAuthenticate, authenticationHelper, callback) {\n    var _this4 = this;\n\n    var challengeName = dataAuthenticate.ChallengeName;\n    var challengeParameters = dataAuthenticate.ChallengeParameters;\n\n    if (challengeName === 'SMS_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaRequired(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'SELECT_MFA_TYPE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.selectMFAType(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'MFA_SETUP') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaSetup(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'SOFTWARE_TOKEN_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.totpRequired(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'CUSTOM_CHALLENGE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.customChallenge(challengeParameters);\n    }\n\n    if (challengeName === 'NEW_PASSWORD_REQUIRED') {\n      this.Session = dataAuthenticate.Session;\n      var userAttributes = null;\n      var rawRequiredAttributes = null;\n      var requiredAttributes = [];\n      var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n\n      if (challengeParameters) {\n        userAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.userAttributes);\n        rawRequiredAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.requiredAttributes);\n      }\n\n      if (rawRequiredAttributes) {\n        for (var i = 0; i < rawRequiredAttributes.length; i++) {\n          requiredAttributes[i] = rawRequiredAttributes[i].substr(userAttributesPrefix.length);\n        }\n      }\n\n      return callback.newPasswordRequired(userAttributes, requiredAttributes);\n    }\n\n    if (challengeName === 'DEVICE_SRP_AUTH') {\n      this.Session = dataAuthenticate.Session;\n      this.getDeviceResponse(callback);\n      return undefined;\n    }\n\n    this.signInUserSession = this.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n    this.challengeName = challengeName;\n    this.cacheTokens();\n    var newDeviceMetadata = dataAuthenticate.AuthenticationResult.NewDeviceMetadata;\n\n    if (newDeviceMetadata == null) {\n      return callback.onSuccess(this.signInUserSession);\n    }\n\n    authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n      if (errGenHash) {\n        return callback.onFailure(errGenHash);\n      }\n\n      var deviceSecretVerifierConfig = {\n        Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n        PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n      };\n      _this4.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n      _this4.deviceGroupKey = newDeviceMetadata.DeviceGroupKey;\n      _this4.randomPassword = authenticationHelper.getRandomPassword();\n\n      _this4.client.request('ConfirmDevice', {\n        DeviceKey: newDeviceMetadata.DeviceKey,\n        AccessToken: _this4.signInUserSession.getAccessToken().getJwtToken(),\n        DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n        DeviceName: userAgent\n      }, function (errConfirm, dataConfirm) {\n        if (errConfirm) {\n          return callback.onFailure(errConfirm);\n        }\n\n        _this4.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n\n        _this4.cacheDeviceKeyAndPassword();\n\n        if (dataConfirm.UserConfirmationNecessary === true) {\n          return callback.onSuccess(_this4.signInUserSession, dataConfirm.UserConfirmationNecessary);\n        }\n\n        return callback.onSuccess(_this4.signInUserSession);\n      });\n\n      return undefined;\n    });\n    return undefined;\n  }\n  /**\n   * This method is user to complete the NEW_PASSWORD_REQUIRED challenge.\n   * Pass the new password with any new user attributes to be updated.\n   * User attribute keys must be of format userAttributes.<attribute_name>.\n   * @param {string} newPassword new password for this user\n   * @param {object} requiredAttributeData map with values for all required attributes\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *         response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.completeNewPasswordChallenge = function completeNewPasswordChallenge(newPassword, requiredAttributeData, callback, clientMetadata) {\n    var _this5 = this;\n\n    if (!newPassword) {\n      return callback.onFailure(new Error('New password is required.'));\n    }\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n    var finalUserAttributes = {};\n\n    if (requiredAttributeData) {\n      Object.keys(requiredAttributeData).forEach(function (key) {\n        finalUserAttributes[userAttributesPrefix + key] = requiredAttributeData[key];\n      });\n    }\n\n    finalUserAttributes.NEW_PASSWORD = newPassword;\n    finalUserAttributes.USERNAME = this.username;\n    var jsonReq = {\n      ChallengeName: 'NEW_PASSWORD_REQUIRED',\n      ClientId: this.pool.getClientId(),\n      ChallengeResponses: finalUserAttributes,\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (errAuthenticate, dataAuthenticate) {\n      if (errAuthenticate) {\n        return callback.onFailure(errAuthenticate);\n      }\n\n      return _this5.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n    });\n    return undefined;\n  }\n  /**\n   * This is used to get a session using device authentication. It is called at the end of user\n   * authentication\n   *\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   * @private\n   */\n  ;\n\n  _proto.getDeviceResponse = function getDeviceResponse(callback, clientMetadata) {\n    var _this6 = this;\n\n    var authenticationHelper = new AuthenticationHelper(this.deviceGroupKey);\n    var dateHelper = new DateHelper();\n    var authParameters = {};\n    authParameters.USERNAME = this.username;\n    authParameters.DEVICE_KEY = this.deviceKey;\n    authenticationHelper.getLargeAValue(function (errAValue, aValue) {\n      // getLargeAValue callback start\n      if (errAValue) {\n        callback.onFailure(errAValue);\n      }\n\n      authParameters.SRP_A = aValue.toString(16);\n      var jsonReq = {\n        ChallengeName: 'DEVICE_SRP_AUTH',\n        ClientId: _this6.pool.getClientId(),\n        ChallengeResponses: authParameters,\n        ClientMetadata: clientMetadata,\n        Session: _this6.Session\n      };\n\n      if (_this6.getUserContextData()) {\n        jsonReq.UserContextData = _this6.getUserContextData();\n      }\n\n      _this6.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        var challengeParameters = data.ChallengeParameters;\n        var serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        var salt = new BigInteger(challengeParameters.SALT, 16);\n        authenticationHelper.getPasswordAuthenticationKey(_this6.deviceKey, _this6.randomPassword, serverBValue, salt, function (errHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errHkdf) {\n            return callback.onFailure(errHkdf);\n          }\n\n          var dateNow = dateHelper.getNowString();\n          var message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this6.deviceGroupKey, 'utf8'), Buffer.from(_this6.deviceKey, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n          var key = CryptoJS.lib.WordArray.create(hkdf);\n          var signatureString = Base64.stringify(HmacSHA256(message, key));\n          var challengeResponses = {};\n          challengeResponses.USERNAME = _this6.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n          challengeResponses.DEVICE_KEY = _this6.deviceKey;\n          var jsonReqResp = {\n            ChallengeName: 'DEVICE_PASSWORD_VERIFIER',\n            ClientId: _this6.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session\n          };\n\n          if (_this6.getUserContextData()) {\n            jsonReqResp.UserContextData = _this6.getUserContextData();\n          }\n\n          _this6.client.request('RespondToAuthChallenge', jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n\n            _this6.signInUserSession = _this6.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n\n            _this6.cacheTokens();\n\n            return callback.onSuccess(_this6.signInUserSession);\n          });\n\n          return undefined; // getPasswordAuthenticationKey callback end\n        });\n        return undefined;\n      }); // getLargeAValue callback end\n\n    });\n  }\n  /**\n   * This is used for a certain user to confirm the registration by using a confirmation code\n   * @param {string} confirmationCode Code entered by user.\n   * @param {bool} forceAliasCreation Allow migrating from an existing email / phone number.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.confirmRegistration = function confirmRegistration(confirmationCode, forceAliasCreation, callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      ConfirmationCode: confirmationCode,\n      Username: this.username,\n      ForceAliasCreation: forceAliasCreation,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('ConfirmSignUp', jsonReq, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n  }\n  /**\n   * This is used by the user once he has the responses to a custom challenge\n   * @param {string} answerChallenge The custom challenge answer.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge\n   *    Custom challenge response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.sendCustomChallengeAnswer = function sendCustomChallengeAnswer(answerChallenge, callback, clientMetadata) {\n    var _this7 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    this.getCachedDeviceKeyAndPassword();\n\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ChallengeName: 'CUSTOM_CHALLENGE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return _this7.authenticateUserInternal(data, authenticationHelper, callback);\n    });\n  }\n  /**\n   * This is used by the user once he has an MFA code\n   * @param {string} confirmationCode The MFA code entered by the user.\n   * @param {object} callback Result callback map.\n   * @param {string} mfaType The mfa we are replying to.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.sendMFACode = function sendMFACode(confirmationCode, callback, mfaType, clientMetadata) {\n    var _this8 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.SMS_MFA_CODE = confirmationCode;\n    var mfaTypeSelection = mfaType || 'SMS_MFA';\n\n    if (mfaTypeSelection === 'SOFTWARE_TOKEN_MFA') {\n      challengeResponses.SOFTWARE_TOKEN_MFA_CODE = confirmationCode;\n    }\n\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ChallengeName: mfaTypeSelection,\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, dataAuthenticate) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      var challengeName = dataAuthenticate.ChallengeName;\n\n      if (challengeName === 'DEVICE_SRP_AUTH') {\n        _this8.getDeviceResponse(callback);\n\n        return undefined;\n      }\n\n      _this8.signInUserSession = _this8.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n\n      _this8.cacheTokens();\n\n      if (dataAuthenticate.AuthenticationResult.NewDeviceMetadata == null) {\n        return callback.onSuccess(_this8.signInUserSession);\n      }\n\n      var authenticationHelper = new AuthenticationHelper(_this8.pool.getUserPoolId().split('_')[1]);\n      authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n        if (errGenHash) {\n          return callback.onFailure(errGenHash);\n        }\n\n        var deviceSecretVerifierConfig = {\n          Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n          PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n        };\n        _this8.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n        _this8.deviceGroupKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey;\n        _this8.randomPassword = authenticationHelper.getRandomPassword();\n\n        _this8.client.request('ConfirmDevice', {\n          DeviceKey: dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey,\n          AccessToken: _this8.signInUserSession.getAccessToken().getJwtToken(),\n          DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n          DeviceName: userAgent\n        }, function (errConfirm, dataConfirm) {\n          if (errConfirm) {\n            return callback.onFailure(errConfirm);\n          }\n\n          _this8.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n\n          _this8.cacheDeviceKeyAndPassword();\n\n          if (dataConfirm.UserConfirmationNecessary === true) {\n            return callback.onSuccess(_this8.signInUserSession, dataConfirm.UserConfirmationNecessary);\n          }\n\n          return callback.onSuccess(_this8.signInUserSession);\n        });\n\n        return undefined;\n      });\n      return undefined;\n    });\n  }\n  /**\n   * This is used by an authenticated user to change the current password\n   * @param {string} oldUserPassword The current password.\n   * @param {string} newUserPassword The requested new password.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.changePassword = function changePassword(oldUserPassword, newUserPassword, callback, clientMetadata) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('ChangePassword', {\n      PreviousPassword: oldUserPassword,\n      ProposedPassword: newUserPassword,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.enableMFA = function enableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var mfaOptions = [];\n    var mfaEnabled = {\n      DeliveryMedium: 'SMS',\n      AttributeName: 'phone_number'\n    };\n    mfaOptions.push(mfaEnabled);\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @param {IMfaSettings} smsMfaSettings the sms mfa settings\n   * @param {IMFASettings} softwareTokenMfaSettings the software token mfa settings\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setUserMfaPreference = function setUserMfaPreference(smsMfaSettings, softwareTokenMfaSettings, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('SetUserMFAPreference', {\n      SMSMfaSettings: smsMfaSettings,\n      SoftwareTokenMfaSettings: softwareTokenMfaSettings,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to disable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.disableMFA = function disableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var mfaOptions = [];\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to delete itself\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.deleteUser = function deleteUser(callback, clientMetadata) {\n    var _this9 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('DeleteUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      _this9.clearCachedUser();\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * @typedef {CognitoUserAttribute | { Name:string, Value:string }} AttributeArg\n   */\n\n  /**\n   * This is used by an authenticated user to change a list of attributes\n   * @param {AttributeArg[]} attributes A list of the new user attributes.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.updateAttributes = function updateAttributes(attributes, callback, clientMetadata) {\n    var _this10 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('UpdateUserAttributes', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      UserAttributes: attributes,\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      } // update cached user\n\n\n      return _this10.getUserData(function () {\n        return callback(null, 'SUCCESS');\n      }, {\n        bypassCache: true\n      });\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to get a list of attributes\n   * @param {nodeCallback<CognitoUserAttribute[]>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getUserAttributes = function getUserAttributes(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      var attributeList = [];\n\n      for (var i = 0; i < userData.UserAttributes.length; i++) {\n        var attribute = {\n          Name: userData.UserAttributes[i].Name,\n          Value: userData.UserAttributes[i].Value\n        };\n        var userAttribute = new CognitoUserAttribute(attribute);\n        attributeList.push(userAttribute);\n      }\n\n      return callback(null, attributeList);\n    });\n    return undefined;\n  }\n  /**\n   * This was previously used by an authenticated user to get MFAOptions,\n   * but no longer returns a meaningful response. Refer to the documentation for\n   * how to setup and use MFA: https://docs.amplify.aws/lib/auth/mfa/q/platform/js\n   * @deprecated\n   * @param {nodeCallback<MFAOptions>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getMFAOptions = function getMFAOptions(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, userData.MFAOptions);\n    });\n    return undefined;\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.createGetUserRequest = function createGetUserRequest() {\n    return this.client.promisifyRequest('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    });\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.refreshSessionIfPossible = function refreshSessionIfPossible(options) {\n    var _this11 = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    // best effort, if not possible\n    return new Promise(function (resolve) {\n      var refresh = _this11.signInUserSession.getRefreshToken();\n\n      if (refresh && refresh.getToken()) {\n        _this11.refreshSession(refresh, resolve, options.clientMetadata);\n      } else {\n        resolve();\n      }\n    });\n  }\n  /**\n   * @typedef {Object} GetUserDataOptions\n   * @property {boolean} bypassCache - force getting data from Cognito service\n   * @property {Record<string, string>} clientMetadata - clientMetadata for getSession\n   */\n\n  /**\n   * This is used by an authenticated users to get the userData\n   * @param {nodeCallback<UserData>} callback Called on success or error.\n   * @param {GetUserDataOptions} params\n   * @returns {void}\n   */\n  ;\n\n  _proto.getUserData = function getUserData(callback, params) {\n    var _this12 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.clearCachedUserData();\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var userData = this.getUserDataFromCache();\n\n    if (!userData) {\n      this.fetchUserData().then(function (data) {\n        callback(null, data);\n      })[\"catch\"](callback);\n      return;\n    }\n\n    if (this.isFetchUserDataAndTokenRequired(params)) {\n      this.fetchUserData().then(function (data) {\n        return _this12.refreshSessionIfPossible(params).then(function () {\n          return data;\n        });\n      }).then(function (data) {\n        return callback(null, data);\n      })[\"catch\"](callback);\n      return;\n    }\n\n    try {\n      callback(null, JSON.parse(userData));\n      return;\n    } catch (err) {\n      this.clearCachedUserData();\n      callback(err, null);\n      return;\n    }\n  }\n  /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.getUserDataFromCache = function getUserDataFromCache() {\n    var userData = this.storage.getItem(this.userDataKey);\n    return userData;\n  }\n  /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.isFetchUserDataAndTokenRequired = function isFetchUserDataAndTokenRequired(params) {\n    var _ref = params || {},\n        _ref$bypassCache = _ref.bypassCache,\n        bypassCache = _ref$bypassCache === void 0 ? false : _ref$bypassCache;\n\n    return bypassCache;\n  }\n  /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.fetchUserData = function fetchUserData() {\n    var _this13 = this;\n\n    return this.createGetUserRequest().then(function (data) {\n      _this13.cacheUserData(data);\n\n      return data;\n    });\n  }\n  /**\n   * This is used by an authenticated user to delete a list of attributes\n   * @param {string[]} attributeList Names of the attributes to delete.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.deleteAttributes = function deleteAttributes(attributeList, callback) {\n    var _this14 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('DeleteUserAttributes', {\n      UserAttributeNames: attributeList,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      } // update cached user\n\n\n      return _this14.getUserData(function () {\n        return callback(null, 'SUCCESS');\n      }, {\n        bypassCache: true\n      });\n    });\n    return undefined;\n  }\n  /**\n   * This is used by a user to resend a confirmation code\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.resendConfirmationCode = function resendConfirmationCode(callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ClientMetadata: clientMetadata\n    };\n    this.client.request('ResendConfirmationCode', jsonReq, function (err, result) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, result);\n    });\n  }\n  /**\n   * @typedef {Object} GetSessionOptions\n   * @property {Record<string, string>} clientMetadata - clientMetadata for getSession\n   */\n\n  /**\n   * This is used to get a session, either from the session object\n   * or from  the local storage, or by using a refresh token\n   *\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @param {GetSessionOptions} options\n   * @returns {void}\n   */\n  ;\n\n  _proto.getSession = function getSession(callback, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (this.username == null) {\n      return callback(new Error('Username is null. Cannot retrieve a new session'), null);\n    }\n\n    if (this.signInUserSession != null && this.signInUserSession.isValid()) {\n      return callback(null, this.signInUserSession);\n    }\n\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var idTokenKey = keyPrefix + \".idToken\";\n    var accessTokenKey = keyPrefix + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".refreshToken\";\n    var clockDriftKey = keyPrefix + \".clockDrift\";\n\n    if (this.storage.getItem(idTokenKey)) {\n      var idToken = new CognitoIdToken({\n        IdToken: this.storage.getItem(idTokenKey)\n      });\n      var accessToken = new CognitoAccessToken({\n        AccessToken: this.storage.getItem(accessTokenKey)\n      });\n      var refreshToken = new CognitoRefreshToken({\n        RefreshToken: this.storage.getItem(refreshTokenKey)\n      });\n      var clockDrift = parseInt(this.storage.getItem(clockDriftKey), 0) || 0;\n      var sessionData = {\n        IdToken: idToken,\n        AccessToken: accessToken,\n        RefreshToken: refreshToken,\n        ClockDrift: clockDrift\n      };\n      var cachedSession = new CognitoUserSession(sessionData);\n\n      if (cachedSession.isValid()) {\n        this.signInUserSession = cachedSession;\n        return callback(null, this.signInUserSession);\n      }\n\n      if (!refreshToken.getToken()) {\n        return callback(new Error('Cannot retrieve a new session. Please authenticate.'), null);\n      }\n\n      this.refreshSession(refreshToken, callback, options.clientMetadata);\n    } else {\n      callback(new Error('Local storage is missing an ID Token, Please authenticate'), null);\n    }\n\n    return undefined;\n  }\n  /**\n   * This uses the refreshToken to retrieve a new session\n   * @param {CognitoRefreshToken} refreshToken A previous session's refresh token.\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.refreshSession = function refreshSession(refreshToken, callback, clientMetadata) {\n    var _this15 = this;\n\n    var wrappedCallback = this.pool.wrapRefreshSessionCallback ? this.pool.wrapRefreshSessionCallback(callback) : callback;\n    var authParameters = {};\n    authParameters.REFRESH_TOKEN = refreshToken.getToken();\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n\n    if (this.storage.getItem(lastUserKey)) {\n      this.username = this.storage.getItem(lastUserKey);\n      var deviceKeyKey = keyPrefix + \".\" + this.username + \".deviceKey\";\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      AuthFlow: 'REFRESH_TOKEN_AUTH',\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        if (err.code === 'NotAuthorizedException') {\n          _this15.clearCachedUser();\n        }\n\n        return wrappedCallback(err, null);\n      }\n\n      if (authResult) {\n        var authenticationResult = authResult.AuthenticationResult;\n\n        if (!Object.prototype.hasOwnProperty.call(authenticationResult, 'RefreshToken')) {\n          authenticationResult.RefreshToken = refreshToken.getToken();\n        }\n\n        _this15.signInUserSession = _this15.getCognitoUserSession(authenticationResult);\n\n        _this15.cacheTokens();\n\n        return wrappedCallback(null, _this15.signInUserSession);\n      }\n\n      return undefined;\n    });\n  }\n  /**\n   * This is used to save the session tokens to local storage\n   * @returns {void}\n   */\n  ;\n\n  _proto.cacheTokens = function cacheTokens() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var idTokenKey = keyPrefix + \".\" + this.username + \".idToken\";\n    var accessTokenKey = keyPrefix + \".\" + this.username + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".\" + this.username + \".refreshToken\";\n    var clockDriftKey = keyPrefix + \".\" + this.username + \".clockDrift\";\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n    this.storage.setItem(idTokenKey, this.signInUserSession.getIdToken().getJwtToken());\n    this.storage.setItem(accessTokenKey, this.signInUserSession.getAccessToken().getJwtToken());\n    this.storage.setItem(refreshTokenKey, this.signInUserSession.getRefreshToken().getToken());\n    this.storage.setItem(clockDriftKey, \"\" + this.signInUserSession.getClockDrift());\n    this.storage.setItem(lastUserKey, this.username);\n  }\n  /**\n   * This is to cache user data\n   */\n  ;\n\n  _proto.cacheUserData = function cacheUserData(userData) {\n    this.storage.setItem(this.userDataKey, JSON.stringify(userData));\n  }\n  /**\n   * This is to remove cached user data\n   */\n  ;\n\n  _proto.clearCachedUserData = function clearCachedUserData() {\n    this.storage.removeItem(this.userDataKey);\n  };\n\n  _proto.clearCachedUser = function clearCachedUser() {\n    this.clearCachedTokens();\n    this.clearCachedUserData();\n  }\n  /**\n   * This is used to cache the device key and device group and device password\n   * @returns {void}\n   */\n  ;\n\n  _proto.cacheDeviceKeyAndPassword = function cacheDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n    this.storage.setItem(deviceKeyKey, this.deviceKey);\n    this.storage.setItem(randomPasswordKey, this.randomPassword);\n    this.storage.setItem(deviceGroupKeyKey, this.deviceGroupKey);\n  }\n  /**\n   * This is used to get current device key and device group and device password\n   * @returns {void}\n   */\n  ;\n\n  _proto.getCachedDeviceKeyAndPassword = function getCachedDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n\n    if (this.storage.getItem(deviceKeyKey)) {\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      this.randomPassword = this.storage.getItem(randomPasswordKey);\n      this.deviceGroupKey = this.storage.getItem(deviceGroupKeyKey);\n    }\n  }\n  /**\n   * This is used to clear the device key info from local storage\n   * @returns {void}\n   */\n  ;\n\n  _proto.clearCachedDeviceKeyAndPassword = function clearCachedDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n    this.storage.removeItem(deviceKeyKey);\n    this.storage.removeItem(randomPasswordKey);\n    this.storage.removeItem(deviceGroupKeyKey);\n  }\n  /**\n   * This is used to clear the session tokens from local storage\n   * @returns {void}\n   */\n  ;\n\n  _proto.clearCachedTokens = function clearCachedTokens() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var idTokenKey = keyPrefix + \".\" + this.username + \".idToken\";\n    var accessTokenKey = keyPrefix + \".\" + this.username + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".\" + this.username + \".refreshToken\";\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n    var clockDriftKey = keyPrefix + \".\" + this.username + \".clockDrift\";\n    this.storage.removeItem(idTokenKey);\n    this.storage.removeItem(accessTokenKey);\n    this.storage.removeItem(refreshTokenKey);\n    this.storage.removeItem(lastUserKey);\n    this.storage.removeItem(clockDriftKey);\n  }\n  /**\n   * This is used to build a user session from tokens retrieved in the authentication result\n   * @param {object} authResult Successful auth response from server.\n   * @returns {CognitoUserSession} The new user session.\n   * @private\n   */\n  ;\n\n  _proto.getCognitoUserSession = function getCognitoUserSession(authResult) {\n    var idToken = new CognitoIdToken(authResult);\n    var accessToken = new CognitoAccessToken(authResult);\n    var refreshToken = new CognitoRefreshToken(authResult);\n    var sessionData = {\n      IdToken: idToken,\n      AccessToken: accessToken,\n      RefreshToken: refreshToken\n    };\n    return new CognitoUserSession(sessionData);\n  }\n  /**\n   * This is used to initiate a forgot password request\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode?} callback.inputVerificationCode\n   *    Optional callback raised instead of onSuccess with response data.\n   * @param {onSuccess} callback.onSuccess Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.forgotPassword = function forgotPassword(callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('ForgotPassword', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n\n      return callback.onSuccess(data);\n    });\n  }\n  /**\n   * This is used to confirm a new password using a confirmationCode\n   * @param {string} confirmationCode Code entered by user.\n   * @param {string} newPassword Confirm new password.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<void>} callback.onSuccess Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.confirmPassword = function confirmPassword(confirmationCode, newPassword, callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ConfirmationCode: confirmationCode,\n      Password: newPassword,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('ConfirmForgotPassword', jsonReq, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n  }\n  /**\n   * This is used to initiate an attribute confirmation request\n   * @param {string} attributeName User attribute that needs confirmation.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode} callback.inputVerificationCode Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.getAttributeVerificationCode = function getAttributeVerificationCode(attributeName, callback, clientMetadata) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GetUserAttributeVerificationCode', {\n      AttributeName: attributeName,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to confirm an attribute using a confirmation code\n   * @param {string} attributeName Attribute being confirmed.\n   * @param {string} confirmationCode Code entered by user.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.verifyAttribute = function verifyAttribute(attributeName, confirmationCode, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('VerifyUserAttribute', {\n      AttributeName: attributeName,\n      Code: confirmationCode,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to get the device information using the current device key\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device data.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getDevice = function getDevice(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  }\n  /**\n   * This is used to forget a specific device\n   * @param {string} deviceKey Device key.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.forgetSpecificDevice = function forgetSpecificDevice(deviceKey, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('ForgetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: deviceKey\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to forget the current device\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.forgetDevice = function forgetDevice(callback) {\n    var _this16 = this;\n\n    this.forgetSpecificDevice(this.deviceKey, {\n      onFailure: callback.onFailure,\n      onSuccess: function onSuccess(result) {\n        _this16.deviceKey = null;\n        _this16.deviceGroupKey = null;\n        _this16.randomPassword = null;\n\n        _this16.clearCachedDeviceKeyAndPassword();\n\n        return callback.onSuccess(result);\n      }\n    });\n  }\n  /**\n   * This is used to set the device status as remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setDeviceStatusRemembered = function setDeviceStatusRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to set the device status as not remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setDeviceStatusNotRemembered = function setDeviceStatusNotRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'not_remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to list all devices for a user\n   *\n   * @param {int} limit the number of devices returned in a call\n   * @param {string | null} paginationToken the pagination token in case any was returned before\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device list.\n   * @returns {void}\n   */\n  ;\n\n  _proto.listDevices = function listDevices(limit, paginationToken, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    var requestParams = {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      Limit: limit\n    };\n\n    if (paginationToken) {\n      requestParams.PaginationToken = paginationToken;\n    }\n\n    this.client.request('ListDevices', requestParams, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  }\n  /**\n   * This is used to globally revoke all tokens issued to a user\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.globalSignOut = function globalSignOut(callback) {\n    var _this17 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GlobalSignOut', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      _this17.clearCachedUser();\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used for the user to signOut of the application and clear the cached tokens.\n   * @returns {void}\n   */\n  ;\n\n  _proto.signOut = function signOut(revokeTokenCallback) {\n    var _this18 = this;\n\n    // If tokens won't be revoked, we just clean the client data.\n    if (!revokeTokenCallback || typeof revokeTokenCallback !== 'function') {\n      this.cleanClientData();\n      return;\n    }\n\n    this.getSession(function (error, _session) {\n      if (error) {\n        return revokeTokenCallback(error);\n      }\n\n      _this18.revokeTokens(function (err) {\n        _this18.cleanClientData();\n\n        revokeTokenCallback(err);\n      });\n    });\n  };\n\n  _proto.revokeTokens = function revokeTokens(revokeTokenCallback) {\n    if (revokeTokenCallback === void 0) {\n      revokeTokenCallback = function revokeTokenCallback() {};\n    }\n\n    if (typeof revokeTokenCallback !== 'function') {\n      throw new Error('Invalid revokeTokenCallback. It should be a function.');\n    }\n\n    var tokensToBeRevoked = [];\n\n    if (!this.signInUserSession) {\n      var error = new Error('User is not authenticated');\n      return revokeTokenCallback(error);\n    }\n\n    if (!this.signInUserSession.getAccessToken()) {\n      var _error = new Error('No Access token available');\n\n      return revokeTokenCallback(_error);\n    }\n\n    var refreshToken = this.signInUserSession.getRefreshToken().getToken();\n    var accessToken = this.signInUserSession.getAccessToken();\n\n    if (this.isSessionRevocable(accessToken)) {\n      if (refreshToken) {\n        return this.revokeToken({\n          token: refreshToken,\n          callback: revokeTokenCallback\n        });\n      }\n    }\n\n    revokeTokenCallback();\n  };\n\n  _proto.isSessionRevocable = function isSessionRevocable(token) {\n    if (token && typeof token.decodePayload === 'function') {\n      try {\n        var _token$decodePayload = token.decodePayload(),\n            origin_jti = _token$decodePayload.origin_jti;\n\n        return !!origin_jti;\n      } catch (err) {// Nothing to do, token doesnt have origin_jti claim\n      }\n    }\n\n    return false;\n  };\n\n  _proto.cleanClientData = function cleanClientData() {\n    this.signInUserSession = null;\n    this.clearCachedUser();\n  };\n\n  _proto.revokeToken = function revokeToken(_ref2) {\n    var token = _ref2.token,\n        callback = _ref2.callback;\n    this.client.requestWithRetry('RevokeToken', {\n      Token: token,\n      ClientId: this.pool.getClientId()\n    }, function (err) {\n      if (err) {\n        return callback(err);\n      }\n\n      callback();\n    });\n  }\n  /**\n   * This is used by a user trying to select a given MFA\n   * @param {string} answerChallenge the mfa the user wants\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.sendMFASelectionAnswer = function sendMFASelectionAnswer(answerChallenge, callback) {\n    var _this19 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n    var jsonReq = {\n      ChallengeName: 'SELECT_MFA_TYPE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      _this19.Session = data.Session;\n\n      if (answerChallenge === 'SMS_MFA') {\n        return callback.mfaRequired(data.ChallengeName, data.ChallengeParameters);\n      }\n\n      if (answerChallenge === 'SOFTWARE_TOKEN_MFA') {\n        return callback.totpRequired(data.ChallengeName, data.ChallengeParameters);\n      }\n\n      return undefined;\n    });\n  }\n  /**\n   * This returns the user context data for advanced security feature.\n   * @returns {string} the user context data from CognitoUserPool\n   */\n  ;\n\n  _proto.getUserContextData = function getUserContextData() {\n    var pool = this.pool;\n    return pool.getUserContextData(this.username);\n  }\n  /**\n   * This is used by an authenticated or a user trying to authenticate to associate a TOTP MFA\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.associateSoftwareToken = function associateSoftwareToken(callback) {\n    var _this20 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('AssociateSoftwareToken', {\n        Session: this.Session\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        _this20.Session = data.Session;\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    } else {\n      this.client.request('AssociateSoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    }\n  }\n  /**\n   * This is used by an authenticated or a user trying to authenticate to verify a TOTP MFA\n   * @param {string} totpCode The MFA code entered by the user.\n   * @param {string} friendlyDeviceName The device name we are assigning to the device.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.verifySoftwareToken = function verifySoftwareToken(totpCode, friendlyDeviceName, callback) {\n    var _this21 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('VerifySoftwareToken', {\n        Session: this.Session,\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        _this21.Session = data.Session;\n        var challengeResponses = {};\n        challengeResponses.USERNAME = _this21.username;\n        var jsonReq = {\n          ChallengeName: 'MFA_SETUP',\n          ClientId: _this21.pool.getClientId(),\n          ChallengeResponses: challengeResponses,\n          Session: _this21.Session\n        };\n\n        if (_this21.getUserContextData()) {\n          jsonReq.UserContextData = _this21.getUserContextData();\n        }\n\n        _this21.client.request('RespondToAuthChallenge', jsonReq, function (errRespond, dataRespond) {\n          if (errRespond) {\n            return callback.onFailure(errRespond);\n          }\n\n          _this21.signInUserSession = _this21.getCognitoUserSession(dataRespond.AuthenticationResult);\n\n          _this21.cacheTokens();\n\n          return callback.onSuccess(_this21.signInUserSession);\n        });\n\n        return undefined;\n      });\n    } else {\n      this.client.request('VerifySoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        return callback.onSuccess(data);\n      });\n    }\n  };\n\n  return CognitoUser;\n}();\n\nexport { CognitoUser as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { version } from './version';\nvar BASE_USER_AGENT = \"aws-amplify/\" + version;\nexport var Platform = {\n  userAgent: BASE_USER_AGENT + \" js\",\n  product: '',\n  navigator: null,\n  isReactNative: false\n};\n\nif (typeof navigator !== 'undefined' && navigator.product) {\n  Platform.product = navigator.product || '';\n  Platform.navigator = navigator || null;\n\n  switch (navigator.product) {\n    case 'ReactNative':\n      Platform.userAgent = BASE_USER_AGENT + \" react-native\";\n      Platform.isReactNative = true;\n      break;\n\n    default:\n      Platform.userAgent = BASE_USER_AGENT + \" js\";\n      Platform.isReactNative = false;\n      break;\n  }\n}\n\nexport var getUserAgent = function getUserAgent() {\n  return Platform.userAgent;\n};\n/**\n * @deprecated use named import\n */\n\nexport default Platform;","import { getUserAgent } from \"./Platform\"; // constructor\n\nfunction UserAgent() {} // public\n\n\nUserAgent.prototype.userAgent = getUserAgent();\nexport var appendToCognitoUserAgent = function appendToCognitoUserAgent(content) {\n  if (!content) {\n    return;\n  }\n\n  if (UserAgent.prototype.userAgent && !UserAgent.prototype.userAgent.includes(content)) {\n    UserAgent.prototype.userAgent = UserAgent.prototype.userAgent.concat(' ', content);\n  }\n\n  if (!UserAgent.prototype.userAgent || UserAgent.prototype.userAgent === '') {\n    UserAgent.prototype.userAgent = content;\n  }\n}; // class for defining the amzn user-agent\n\nexport default UserAgent;","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport 'isomorphic-unfetch';\nimport UserAgent from './UserAgent';\n\nvar CognitoError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(CognitoError, _Error);\n\n  function CognitoError(message, code, name, statusCode) {\n    var _this;\n\n    _this = _Error.call(this, message) || this;\n    _this.code = code;\n    _this.name = name;\n    _this.statusCode = statusCode;\n    return _this;\n  }\n\n  return CognitoError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/** @class */\n\n\nvar Client = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   * @param {object} fetchOptions options for fetch API (only credentials is supported)\n   */\n  function Client(region, endpoint, fetchOptions) {\n    this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n\n    var _ref = fetchOptions || {},\n        credentials = _ref.credentials;\n\n    this.fetchOptions = credentials ? {\n      credentials: credentials\n    } : {};\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @returns Promise<object>\n   */\n\n\n  var _proto = Client.prototype;\n\n  _proto.promisifyRequest = function promisifyRequest(operation, params) {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this2.request(operation, params, function (err, data) {\n        if (err) {\n          reject(new CognitoError(err.message, err.code, err.name, err.statusCode));\n        } else {\n          resolve(data);\n        }\n      });\n    });\n  };\n\n  _proto.requestWithRetry = function requestWithRetry(operation, params, callback) {\n    var _this3 = this;\n\n    var MAX_DELAY_IN_MILLIS = 5 * 1000;\n    jitteredExponentialRetry(function (p) {\n      return new Promise(function (res, rej) {\n        _this3.request(operation, p, function (error, result) {\n          if (error) {\n            rej(error);\n          } else {\n            res(result);\n          }\n        });\n      });\n    }, [params], MAX_DELAY_IN_MILLIS).then(function (result) {\n      return callback(null, result);\n    })[\"catch\"](function (error) {\n      return callback(error);\n    });\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n   */\n  ;\n\n  _proto.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': \"AWSCognitoIdentityProviderService.\" + operation,\n      'X-Amz-User-Agent': UserAgent.prototype.userAgent\n    };\n    var options = Object.assign({}, this.fetchOptions, {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(params)\n    });\n    var response;\n    var responseJsonData;\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n\n      throw err;\n    }).then(function (resp) {\n      return resp.json()[\"catch\"](function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data; // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n\n      var code = (data.__type || data.code).split('#').pop();\n      var error = new Error(data.message || data.Message || null);\n      error.name = code;\n      error.code = code;\n      return callback(error);\n    })[\"catch\"](function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = new Error(response.status ? response.status.toString() : null);\n          error.code = code;\n          error.name = code;\n          error.statusCode = response.status;\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        } // otherwise check if error is Network error\n\n      } else if (err instanceof Error && err.message === 'Network error') {\n        err.code = 'NetworkError';\n      }\n\n      return callback(err);\n    });\n  };\n\n  return Client;\n}();\n\nexport { Client as default };\nvar logger = {\n  debug: function debug() {// Intentionally blank. This package doesn't have logging\n  }\n};\n/**\n * For now, all errors are retryable.\n */\n\nvar NonRetryableError = /*#__PURE__*/function (_Error2) {\n  _inheritsLoose(NonRetryableError, _Error2);\n\n  function NonRetryableError(message) {\n    var _this4;\n\n    _this4 = _Error2.call(this, message) || this;\n    _this4.nonRetryable = true;\n    return _this4;\n  }\n\n  return NonRetryableError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar isNonRetryableError = function isNonRetryableError(obj) {\n  var key = 'nonRetryable';\n  return obj && obj[key];\n};\n\nfunction retry(functionToRetry, args, delayFn, attempt) {\n  if (attempt === void 0) {\n    attempt = 1;\n  }\n\n  if (typeof functionToRetry !== 'function') {\n    throw Error('functionToRetry must be a function');\n  }\n\n  logger.debug(functionToRetry.name + \" attempt #\" + attempt + \" with args: \" + JSON.stringify(args));\n  return functionToRetry.apply(void 0, args)[\"catch\"](function (err) {\n    logger.debug(\"error on \" + functionToRetry.name, err);\n\n    if (isNonRetryableError(err)) {\n      logger.debug(functionToRetry.name + \" non retryable error\", err);\n      throw err;\n    }\n\n    var retryIn = delayFn(attempt, args, err);\n    logger.debug(functionToRetry.name + \" retrying in \" + retryIn + \" ms\");\n\n    if (retryIn !== false) {\n      return new Promise(function (res) {\n        return setTimeout(res, retryIn);\n      }).then(function () {\n        return retry(functionToRetry, args, delayFn, attempt + 1);\n      });\n    } else {\n      throw err;\n    }\n  });\n}\n\nfunction jitteredBackoff(maxDelayMs) {\n  var BASE_TIME_MS = 100;\n  var JITTER_FACTOR = 100;\n  return function (attempt) {\n    var delay = Math.pow(2, attempt) * BASE_TIME_MS + JITTER_FACTOR * Math.random();\n    return delay > maxDelayMs ? false : delay;\n  };\n}\n\nvar MAX_DELAY_MS = 5 * 60 * 1000;\n\nfunction jitteredExponentialRetry(functionToRetry, args, maxDelayMs) {\n  if (maxDelayMs === void 0) {\n    maxDelayMs = MAX_DELAY_MS;\n  }\n\n  return retry(functionToRetry, args, jitteredBackoff(maxDelayMs));\n}\n\n;","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport Client from './Client';\nimport CognitoUser from './CognitoUser';\nimport StorageHelper from './StorageHelper';\nvar USER_POOL_ID_MAX_LENGTH = 55;\n/** @class */\n\nvar CognitoUserPool = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserPool object\n   * @param {object} data Creation options.\n   * @param {string} data.UserPoolId Cognito user pool id.\n   * @param {string} data.ClientId User pool application client id.\n   * @param {string} data.endpoint Optional custom service endpoint.\n   * @param {object} data.fetchOptions Optional options for fetch API.\n   *        (only credentials option is supported)\n   * @param {object} data.Storage Optional storage object.\n   * @param {boolean} data.AdvancedSecurityDataCollectionFlag Optional:\n   *        boolean flag indicating if the data collection is enabled\n   *        to support cognito advanced security features. By default, this\n   *        flag is set to true.\n   */\n  function CognitoUserPool(data, wrapRefreshSessionCallback) {\n    var _ref = data || {},\n        UserPoolId = _ref.UserPoolId,\n        ClientId = _ref.ClientId,\n        endpoint = _ref.endpoint,\n        fetchOptions = _ref.fetchOptions,\n        AdvancedSecurityDataCollectionFlag = _ref.AdvancedSecurityDataCollectionFlag;\n\n    if (!UserPoolId || !ClientId) {\n      throw new Error('Both UserPoolId and ClientId are required.');\n    }\n\n    if (UserPoolId.length > USER_POOL_ID_MAX_LENGTH || !/^[\\w-]+_[0-9a-zA-Z]+$/.test(UserPoolId)) {\n      throw new Error('Invalid UserPoolId format.');\n    }\n\n    var region = UserPoolId.split('_')[0];\n    this.userPoolId = UserPoolId;\n    this.clientId = ClientId;\n    this.client = new Client(region, endpoint, fetchOptions);\n    /**\n     * By default, AdvancedSecurityDataCollectionFlag is set to true,\n     * if no input value is provided.\n     */\n\n    this.advancedSecurityDataCollectionFlag = AdvancedSecurityDataCollectionFlag !== false;\n    this.storage = data.Storage || new StorageHelper().getStorage();\n\n    if (wrapRefreshSessionCallback) {\n      this.wrapRefreshSessionCallback = wrapRefreshSessionCallback;\n    }\n  }\n  /**\n   * @returns {string} the user pool id\n   */\n\n\n  var _proto = CognitoUserPool.prototype;\n\n  _proto.getUserPoolId = function getUserPoolId() {\n    return this.userPoolId;\n  }\n  /**\n   * @returns {string} the client id\n   */\n  ;\n\n  _proto.getClientId = function getClientId() {\n    return this.clientId;\n  }\n  /**\n   * @typedef {object} SignUpResult\n   * @property {CognitoUser} user New user.\n   * @property {bool} userConfirmed If the user is already confirmed.\n   */\n\n  /**\n   * method for signing up a user\n   * @param {string} username User's username.\n   * @param {string} password Plain-text initial password entered by user.\n   * @param {(AttributeArg[])=} userAttributes New user attributes.\n   * @param {(AttributeArg[])=} validationData Application metadata.\n   * @param {(AttributeArg[])=} clientMetadata Client metadata.\n   * @param {nodeCallback<SignUpResult>} callback Called on error or with the new user.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.signUp = function signUp(username, password, userAttributes, validationData, callback, clientMetadata) {\n    var _this = this;\n\n    var jsonReq = {\n      ClientId: this.clientId,\n      Username: username,\n      Password: password,\n      UserAttributes: userAttributes,\n      ValidationData: validationData,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData(username)) {\n      jsonReq.UserContextData = this.getUserContextData(username);\n    }\n\n    this.client.request('SignUp', jsonReq, function (err, data) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      var cognitoUser = {\n        Username: username,\n        Pool: _this,\n        Storage: _this.storage\n      };\n      var returnData = {\n        user: new CognitoUser(cognitoUser),\n        userConfirmed: data.UserConfirmed,\n        userSub: data.UserSub,\n        codeDeliveryDetails: data.CodeDeliveryDetails\n      };\n      return callback(null, returnData);\n    });\n  }\n  /**\n   * method for getting the current user of the application from the local storage\n   *\n   * @returns {CognitoUser} the user retrieved from storage\n   */\n  ;\n\n  _proto.getCurrentUser = function getCurrentUser() {\n    var lastUserKey = \"CognitoIdentityServiceProvider.\" + this.clientId + \".LastAuthUser\";\n    var lastAuthUser = this.storage.getItem(lastUserKey);\n\n    if (lastAuthUser) {\n      var cognitoUser = {\n        Username: lastAuthUser,\n        Pool: this,\n        Storage: this.storage\n      };\n      return new CognitoUser(cognitoUser);\n    }\n\n    return null;\n  }\n  /**\n   * This method returns the encoded data string used for cognito advanced security feature.\n   * This would be generated only when developer has included the JS used for collecting the\n   * data on their client. Please refer to documentation to know more about using AdvancedSecurity\n   * features\n   * @param {string} username the username for the context data\n   * @returns {string} the user context data\n   **/\n  ;\n\n  _proto.getUserContextData = function getUserContextData(username) {\n    if (typeof AmazonCognitoAdvancedSecurityData === 'undefined') {\n      return undefined;\n    }\n    /* eslint-disable */\n\n\n    var amazonCognitoAdvancedSecurityDataConst = AmazonCognitoAdvancedSecurityData;\n    /* eslint-enable */\n\n    if (this.advancedSecurityDataCollectionFlag) {\n      var advancedSecurityData = amazonCognitoAdvancedSecurityDataConst.getData(username, this.userPoolId, this.clientId);\n\n      if (advancedSecurityData) {\n        var userContextData = {\n          EncodedData: advancedSecurityData\n        };\n        return userContextData;\n      }\n    }\n\n    return {};\n  };\n\n  return CognitoUserPool;\n}();\n\nexport { CognitoUserPool as default };","var data = {\n\t\"body\": \"<path d=\\\"M747.4 535.7c-.4-68.2 30.5-119.6 92.9-157.5c-34.9-50-87.7-77.5-157.3-82.8c-65.9-5.2-138 38.4-164.4 38.4c-27.9 0-91.7-36.6-141.9-36.6C273.1 298.8 163 379.8 163 544.6c0 48.7 8.9 99 26.7 150.8c23.8 68.2 109.6 235.3 199.1 232.6c46.8-1.1 79.9-33.2 140.8-33.2c59.1 0 89.7 33.2 141.9 33.2c90.3-1.3 167.9-153.2 190.5-221.6c-121.1-57.1-114.6-167.2-114.6-170.7zm-105.1-305c50.7-60.2 46.1-115 44.6-134.7c-44.8 2.6-96.6 30.5-126.1 64.8c-32.5 36.8-51.6 82.3-47.5 133.6c48.4 3.7 92.6-21.2 129-63.7z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 1024,\n\t\"height\": 1024\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448s448-200.6 448-448S759.4 64 512 64zm167 633.6C638.4 735 583 757 516.9 757c-95.7 0-178.5-54.9-218.8-134.9C281.5 589 272 551.6 272 512s9.5-77 26.1-110.1c40.3-80.1 123.1-135 218.8-135c66 0 121.4 24.3 163.9 63.8L610.6 401c-25.4-24.3-57.7-36.6-93.6-36.6c-63.8 0-117.8 43.1-137.1 101c-4.9 14.7-7.7 30.4-7.7 46.6s2.8 31.9 7.7 46.6c19.3 57.9 73.3 101 137 101c33 0 61-8.7 82.9-23.4c26-17.4 43.2-43.3 48.9-74H516.9v-94.8h230.7c2.9 16.1 4.4 32.8 4.4 50.1c0 74.7-26.7 137.4-73 180.1z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 1024,\n\t\"height\": 1024\n};\nexports.__esModule = true;\nexports.default = data;\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Check if typed arrays are supported\n\t    if (typeof ArrayBuffer != 'function') {\n\t        return;\n\t    }\n\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\n\t    // Reference original init\n\t    var superInit = WordArray.init;\n\n\t    // Augment WordArray.init to handle typed arrays\n\t    var subInit = WordArray.init = function (typedArray) {\n\t        // Convert buffers to uint8\n\t        if (typedArray instanceof ArrayBuffer) {\n\t            typedArray = new Uint8Array(typedArray);\n\t        }\n\n\t        // Convert other array views to uint8\n\t        if (\n\t            typedArray instanceof Int8Array ||\n\t            (typeof Uint8ClampedArray !== \"undefined\" && typedArray instanceof Uint8ClampedArray) ||\n\t            typedArray instanceof Int16Array ||\n\t            typedArray instanceof Uint16Array ||\n\t            typedArray instanceof Int32Array ||\n\t            typedArray instanceof Uint32Array ||\n\t            typedArray instanceof Float32Array ||\n\t            typedArray instanceof Float64Array\n\t        ) {\n\t            typedArray = new Uint8Array(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength);\n\t        }\n\n\t        // Handle Uint8Array\n\t        if (typedArray instanceof Uint8Array) {\n\t            // Shortcut\n\t            var typedArrayByteLength = typedArray.byteLength;\n\n\t            // Extract bytes\n\t            var words = [];\n\t            for (var i = 0; i < typedArrayByteLength; i++) {\n\t                words[i >>> 2] |= typedArray[i] << (24 - (i % 4) * 8);\n\t            }\n\n\t            // Initialize this word array\n\t            superInit.call(this, words, typedArrayByteLength);\n\t        } else {\n\t            // Else call normal init\n\t            superInit.apply(this, arguments);\n\t        }\n\t    };\n\n\t    subInit.prototype = WordArray;\n\t}());\n\n\n\treturn CryptoJS.lib.WordArray;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Initialization and round constants tables\n\t    var H = [];\n\t    var K = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        function isPrime(n) {\n\t            var sqrtN = Math.sqrt(n);\n\t            for (var factor = 2; factor <= sqrtN; factor++) {\n\t                if (!(n % factor)) {\n\t                    return false;\n\t                }\n\t            }\n\n\t            return true;\n\t        }\n\n\t        function getFractionalBits(n) {\n\t            return ((n - (n | 0)) * 0x100000000) | 0;\n\t        }\n\n\t        var n = 2;\n\t        var nPrime = 0;\n\t        while (nPrime < 64) {\n\t            if (isPrime(n)) {\n\t                if (nPrime < 8) {\n\t                    H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n\t                }\n\t                K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n\t                nPrime++;\n\t            }\n\n\t            n++;\n\t        }\n\t    }());\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-256 hash algorithm.\n\t     */\n\t    var SHA256 = C_algo.SHA256 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init(H.slice(0));\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\t            var f = H[5];\n\t            var g = H[6];\n\t            var h = H[7];\n\n\t            // Computation\n\t            for (var i = 0; i < 64; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var gamma0x = W[i - 15];\n\t                    var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n\t                                  ((gamma0x << 14) | (gamma0x >>> 18)) ^\n\t                                   (gamma0x >>> 3);\n\n\t                    var gamma1x = W[i - 2];\n\t                    var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n\t                                  ((gamma1x << 13) | (gamma1x >>> 19)) ^\n\t                                   (gamma1x >>> 10);\n\n\t                    W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n\t                }\n\n\t                var ch  = (e & f) ^ (~e & g);\n\t                var maj = (a & b) ^ (a & c) ^ (b & c);\n\n\t                var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n\t                var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n\t                var t1 = h + sigma1 + ch + K[i] + W[i];\n\t                var t2 = sigma0 + maj;\n\n\t                h = g;\n\t                g = f;\n\t                f = e;\n\t                e = (d + t1) | 0;\n\t                d = c;\n\t                c = b;\n\t                b = a;\n\t                a = (t1 + t2) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t            H[5] = (H[5] + f) | 0;\n\t            H[6] = (H[6] + g) | 0;\n\t            H[7] = (H[7] + h) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA256('message');\n\t     *     var hash = CryptoJS.SHA256(wordArray);\n\t     */\n\t    C.SHA256 = Hasher._createHelper(SHA256);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA256(message, key);\n\t     */\n\t    C.HmacSHA256 = Hasher._createHmacHelper(SHA256);\n\t}(Math));\n\n\n\treturn CryptoJS.SHA256;\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha256\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha256\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.HmacSHA256;\n\n}));","export default function(url, options) {\n\toptions = options || {};\n\treturn new Promise( (resolve, reject) => {\n\t\tconst request = new XMLHttpRequest();\n\t\tconst keys = [];\n\t\tconst all = [];\n\t\tconst headers = {};\n\n\t\tconst response = () => ({\n\t\t\tok: (request.status/100|0) == 2,\t\t// 200-299\n\t\t\tstatusText: request.statusText,\n\t\t\tstatus: request.status,\n\t\t\turl: request.responseURL,\n\t\t\ttext: () => Promise.resolve(request.responseText),\n\t\t\tjson: () => Promise.resolve(request.responseText).then(JSON.parse),\n\t\t\tblob: () => Promise.resolve(new Blob([request.response])),\n\t\t\tclone: response,\n\t\t\theaders: {\n\t\t\t\tkeys: () => keys,\n\t\t\t\tentries: () => all,\n\t\t\t\tget: n => headers[n.toLowerCase()],\n\t\t\t\thas: n => n.toLowerCase() in headers\n\t\t\t}\n\t\t});\n\n\t\trequest.open(options.method || 'get', url, true);\n\n\t\trequest.onload = () => {\n\t\t\trequest.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, (m, key, value) => {\n\t\t\t\tkeys.push(key = key.toLowerCase());\n\t\t\t\tall.push([key, value]);\n\t\t\t\theaders[key] = headers[key] ? `${headers[key]},${value}` : value;\n\t\t\t});\n\t\t\tresolve(response());\n\t\t};\n\n\t\trequest.onerror = reject;\n\n\t\trequest.withCredentials = options.credentials=='include';\n\n\t\tfor (const i in options.headers) {\n\t\t\trequest.setRequestHeader(i, options.headers[i]);\n\t\t}\n\n\t\trequest.send(options.body || null);\n\t});\n}\n","module.exports = self.fetch || (self.fetch = require('unfetch').default || require('unfetch'));\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n"],"sourceRoot":""}